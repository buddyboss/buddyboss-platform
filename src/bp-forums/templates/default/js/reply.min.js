var addReply={moveForm:function(e,t,n,o){var i=this,e=i.getElement(e),d=i.getElement(n),l=i.getElement("bbp-cancel-reply-to-link"),r=i.getElement("bbp_reply_to"),m=i.getElement("bbp_topic_id");if(i.removeEditor(),e&&d&&l&&r)return i.respondId=n,o=o||!1,i.getElement("bbp-temp-form-div")||((n=document.createElement("div")).id="bbp-temp-form-div",n.style.display="none",d.parentNode.appendChild(n)),e.parentNode.appendChild(d),m&&o&&(m.value=o),r.value=t,l.style.display="",i.addEditor(),l.onclick=function(){i.cancelForm(this)},i.scrollToForm(),!1},cancelForm:function(){var e=addReply,t=e.getElement("bbp-temp-form-div"),n=e.getElement("bbp-cancel-reply-to-link"),o=e.getElement(e.respondId);if(e.removeEditor(),t&&o)return e.getElement("bbp_reply_to").value="0",t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),n.style.display="none",n.onclick=null,e.addEditor(),e.scrollToForm(),!1},scrollToForm:function(){var e=this.getElement("new-post").getBoundingClientRect(),t=(window.pageYOffset||document.scrollTop)-(document.clientTop||0),n=t+e.top,e=n<t,o=this.getElement("wpadminbar"),i=0;o&&void 0!==o&&(i=o.scrollHeight);var o=800<(distance=!0==e?t-n:n-t)?30:20,d=Math.min(12,Math.round(distance/o)),l=Math.round(distance/o),r=[],m=0;if(!0==e)for(;n<t;)r.push((t=(t-=l)<n?n:t)-i),setTimeout(function(){window.scrollTo(0,r.shift())},m*d),m++;else for(;t<n;)r.push((t=n<(t+=l)?n:t)-i),setTimeout(function(){window.scrollTo(0,r.shift())},m*d),m++},getElement:function(e){return document.getElementById(e)},removeEditor:function(){var e;"undefined"!=typeof tinyMCE&&((e=tinyMCE.get("bbp_reply_content"))&&!e.isHidden()?(this.mode="tmce",e.remove()):this.mode="html")},addEditor:function(){"undefined"!=typeof tinyMCE&&("tmce"===this.mode?window.switchEditors.go("bbp_reply_content","tmce"):"html"===this.mode&&window.switchEditors.go("bbp_reply_content","html"))}};