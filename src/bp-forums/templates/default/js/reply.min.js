var addReply={moveForm:function(e,t,n,o){var i=this,d=i.getElement(e),l=i.getElement(n),r=i.getElement("bbp-cancel-reply-to-link"),m=i.getElement("bbp_reply_to"),e=i.getElement("bbp_topic_id");if(i.removeEditor(),d&&l&&r&&m)return i.respondId=n,o=o||!1,i.getElement("bbp-temp-form-div")||((n=document.createElement("div")).id="bbp-temp-form-div",n.style.display="none",l.parentNode.appendChild(n)),d.parentNode.appendChild(l),e&&o&&(e.value=o),m.value=t,r.style.display="",i.addEditor(),r.onclick=function(){i.cancelForm(this)},i.scrollToForm(),!1},cancelForm:function(){var e=addReply,t=e.getElement("bbp-temp-form-div"),n=e.getElement("bbp-cancel-reply-to-link"),o=e.getElement(e.respondId);if(e.removeEditor(),t&&o)return e.getElement("bbp_reply_to").value="0",t.parentNode.insertBefore(o,t),t.parentNode.removeChild(t),n.style.display="none",n.onclick=null,e.addEditor(),e.scrollToForm(),!1},scrollToForm:function(){var e=this.getElement("new-post").getBoundingClientRect(),t=(window.pageYOffset||document.scrollTop)-(document.clientTop||0),n=t+e.top,o=n<t,e=this.getElement("wpadminbar"),i=0;e&&void 0!==e&&(i=e.scrollHeight),distance=!0==o?t-n:n-t;var e=800<distance?30:20,d=Math.min(12,Math.round(distance/e)),l=Math.round(distance/e),r=[],m=0;if(!0==o)for(;n<t;)(t-=l)<n&&(t=n),r.push(t-i),setTimeout(function(){window.scrollTo(0,r.shift())},m*d),m++;else for(;t<n;)n<(t+=l)&&(t=n),r.push(t-i),setTimeout(function(){window.scrollTo(0,r.shift())},m*d),m++},getElement:function(e){return document.getElementById(e)},removeEditor:function(){var e;"undefined"!=typeof tinyMCE&&((e=tinyMCE.get("bbp_reply_content"))&&!e.isHidden()?(this.mode="tmce",e.remove()):this.mode="html")},addEditor:function(){"undefined"!=typeof tinyMCE&&("tmce"===this.mode?window.switchEditors.go("bbp_reply_content","tmce"):"html"===this.mode&&window.switchEditors.go("bbp_reply_content","html"))}};