jQuery(document).ready(function(n){var e=jQuery("body").find(".bbp_topic_tags_dropdown"),t=[];e.length&&e.each(function(e,n){0<jQuery(n).parents(".elementor-location-popup").length||(jQuery(n).select2({dropdownParent:jQuery(n).closest("form").parent(),placeholder:jQuery(n).attr("placeholder"),minimumInputLength:1,closeOnSelect:!0,tags:!0,language:{errorLoading:function(){return bp_select2.i18n.errorLoading},inputTooLong:function(e){e=e.input.length-e.maximum;return bp_select2.i18n.inputTooLong.replace("%%",e)},inputTooShort:function(e){return bp_select2.i18n.inputTooShort.replace("%%",e.minimum-e.input.length)},loadingMore:function(){return bp_select2.i18n.loadingMore},maximumSelected:function(e){return bp_select2.i18n.maximumSelected.replace("%%",e.maximum)},noResults:function(){return bp_select2.i18n.noResults},searching:function(){return bp_select2.i18n.searching},removeAllItems:function(){return bp_select2.i18n.removeAllItems}},dropdownCssClass:"bb-select-dropdown bb-tag-list-dropdown",containerCssClass:"bb-select-container",tokenSeparators:[","],ajax:{url:bbpCommonJsData.ajax_url,dataType:"json",delay:1e3,data:function(e){return jQuery.extend({},e,{_wpnonce:bbpCommonJsData.nonce,action:"search_tags"})},cache:!0,processResults:function(r){return!1===jQuery.isEmptyObject(t)&&jQuery.each(t,function(e,o){for(var t=0;t<r.data.results.length;t++)r.data.results[t].id===o&&r.data.results.splice(t,1)}),{results:r&&r.success?r.data.results:[]}}}}),jQuery(n).on("select2:select",function(e){var o=jQuery(n).closest("form"),t=o.find("#bbp_topic_tags"),r=t.val(),r=r&&0<r.length?r.split(","):[],e=e.params.data;r.push(e.id);r=r.join(",");t.val(r),o.find(".select2-search__field").trigger("click"),o.find(".select2-search__field").trigger("click")}),jQuery(n).on("select2:unselect",function(e){var o=jQuery(n).closest("form"),t=e.params.data;o.find('.bbp_topic_tags_dropdown option[value="'+t.id+'"]').remove();e=o.find(".bbp_topic_tags_dropdown option"),e=jQuery.map(e,function(e){return e.text}),e=(e=jQuery.grep(e,function(e){return e!==t.id})).join(",");o.find("#bbp_topic_tags").val(e),0===e.length&&jQuery(window).scrollTop(jQuery(window).scrollTop()+1)}))}),jQuery("body").on("click",".js-modal-close",function(){e.val(""),e.trigger("change"),jQuery("body").removeClass("popup-modal-reply"),jQuery(".medium-editor-toolbar").removeClass("active medium-editor-toolbar-active"),jQuery("#show-toolbar-button").removeClass("active"),jQuery("medium-editor-action").removeClass("medium-editor-button-active"),jQuery(".medium-editor-toolbar-actions").show(),jQuery(".medium-editor-toolbar-form").removeClass("medium-editor-toolbar-form-active"),jQuery("#whats-new-attachments .bb-url-scrapper-container").remove()});var o=jQuery("body .bbp-topic-reply-link");o.length&&o.click(function(){jQuery("body").addClass("popup-modal-reply"),e.val(""),e.trigger("change")}),"undefined"!=typeof BP_Nouveau&&void 0!==BP_Nouveau.media&&void 0!==BP_Nouveau.media.emoji&&jQuery(".bbp-the-content").length&&void 0!==jQuery.prototype.emojioneArea&&jQuery(".bbp-the-content").each(function(e,o){var t=jQuery(o).attr("id"),r=jQuery(o).data("key");jQuery("#"+t).emojioneArea({standalone:!0,hideSource:!1,container:jQuery("#"+t).closest("form").find("#whats-new-toolbar > .post-emoji"),autocomplete:!1,pickerPosition:"bottom",hidePickerOnBlur:!0,useInternalCDN:!1,events:{ready:function(){void 0!==window.forums_medium_topic_editor&&void 0!==window.forums_medium_topic_editor[r]&&window.forums_medium_topic_editor[r].resetContent(),void 0!==window.forums_medium_reply_editor&&void 0!==window.forums_medium_reply_editor[r]&&window.forums_medium_reply_editor[r].resetContent(),void 0!==window.forums_medium_forum_editor&&void 0!==window.forums_medium_forum_editor[r]&&window.forums_medium_forum_editor[r].resetContent()},emojibtn_click:function(){void 0!==window.forums_medium_topic_editor&&void 0!==window.forums_medium_topic_editor[r]&&window.forums_medium_topic_editor[r].checkContentChanged(),void 0!==window.forums_medium_reply_editor&&void 0!==window.forums_medium_reply_editor[r]&&window.forums_medium_reply_editor[r].checkContentChanged(),void 0!==window.forums_medium_forum_editor&&void 0!==window.forums_medium_forum_editor[r]&&window.forums_medium_forum_editor[r].checkContentChanged(),void 0===window.forums_medium_topic_editor&&n("#bbpress-forums .bbp-the-content").keyup(),jQuery("#"+t)[0].emojioneArea.hidePicker()},search_keypress:function(){var e=this.search.val().toLowerCase();this.search.val(e)},picker_show:function(){n(this.button[0]).closest(".post-emoji").addClass("active")},picker_hide:function(){n(this.button[0]).closest(".post-emoji").removeClass("active")}}})}),window.elementorFrontend&&jQuery(document).on("elementor/popup/show",function(){var e=jQuery("body").find("div.elementor-location-popup").find(".bbp_topic_tags_dropdown");e.length&&(e.select2({placeholder:e.attr("placeholder"),dropdownParent:e.closest("form").parent(),minimumInputLength:1,closeOnSelect:!0,tags:!0,language:{errorLoading:function(){return bp_select2.i18n.errorLoading},inputTooLong:function(e){e=e.input.length-e.maximum;return bp_select2.i18n.inputTooLong.replace("%%",e)},inputTooShort:function(e){return bp_select2.i18n.inputTooShort.replace("%%",e.minimum-e.input.length)},loadingMore:function(){return bp_select2.i18n.loadingMore},maximumSelected:function(e){return bp_select2.i18n.maximumSelected.replace("%%",e.maximum)},noResults:function(){return bp_select2.i18n.noResults},searching:function(){return bp_select2.i18n.searching},removeAllItems:function(){return bp_select2.i18n.removeAllItems}},dropdownCssClass:"bb-select-dropdown bb-tag-list-dropdown",containerCssClass:"bb-select-container",tokenSeparators:[","],ajax:{url:bbpCommonJsData.ajax_url,dataType:"json",delay:1e3,data:function(e){return jQuery.extend({},e,{_wpnonce:bbpCommonJsData.nonce,action:"search_tags"})},cache:!0,processResults:function(r){return!1===jQuery.isEmptyObject(t)&&jQuery.each(t,function(e,o){for(var t=0;t<r.data.results.length;t++)r.data.results[t].id===o&&r.data.results.splice(t,1)}),{results:r&&r.success?r.data.results:[]}}}}),e.on("select2:select",function(e){e=e.params.data;t.push(e.id);e=t.join(",");jQuery("body #bbp_topic_tags").val(e),jQuery("body .select2-search__field").trigger("click"),jQuery("body .select2-search__field").trigger("click")}),e.on("select2:unselect",function(e){var o=e.params.data,e=(t=jQuery.grep(t,function(e){return e!==o.id})).join(",");jQuery("body #bbp_topic_tags").val(e),0===e.length&&jQuery(window).scrollTop(jQuery(window).scrollTop()+1)}))}),jQuery(document).on("keyup","#bbp_topic_title",function(e){""!==jQuery(e.currentTarget).val().trim()?jQuery(e.currentTarget).closest("form").addClass("has-title"):jQuery(e.currentTarget).closest("form").removeClass("has-title")}),0!==jQuery("textarea#bbp_topic_content").length&&jQuery("#bbp_topic_content").on("keyup",function(){""!==jQuery("#bbp_topic_content").val().trim()?jQuery(this).closest("form").addClass("has-content"):jQuery(this).closest("form").removeClass("has-content")}),0!==jQuery("textarea#bbp_reply_content").length&&jQuery("#bbp_reply_content").on("keyup",function(){""!==jQuery("#bbp_reply_content").val().trim()?jQuery(this).closest("form").addClass("has-content"):jQuery(this).closest("form").removeClass("has-content")})});