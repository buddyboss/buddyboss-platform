jQuery(document).ready(function(){var d,a,t;function r(){var e,i,n;9!==window.event.keyCode&&(e=d.val(),i=a.val(),n=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,(t=jQuery("#email-strength-result")).removeClass("show mismatch bad"),""===e&&""===i||""===i||n.test(i)&&n.test(e)&&e===i?t.html(""):e!==i&&a.length?(jQuery(document).find(d).addClass("invalid"),jQuery(document).find(a).addClass("invalid"),t.addClass("show mismatch").html(BP_Register.mismatch_email)):(jQuery(document).find(d).removeClass("invalid"),jQuery(document).find(a).removeClass("invalid")))}jQuery(document).on("click","body #buddypress #register-page #signup-form #signup_submit",function(){var i='<div class="bp-messages bp-feedback error">';i+='<span class="bp-icon" aria-hidden="true"></span>',i+="<p>"+BP_Register.required_field+"</p>",i+="</div>";var d=jQuery("#signup_email"),e=jQuery("#signup_email_confirm"),n=jQuery("#signup_password"),a=jQuery("#signup_password_confirm"),t=!0;if(jQuery(".register-page .error").remove(),jQuery(document).find(e).length&&""==jQuery(document).find(e).val()?(jQuery(document).find(e).after(i),jQuery(document).find(e).addClass("invalid"),t=!1):jQuery(document).find(e).removeClass("invalid"),jQuery(document).find(n).length&&""==jQuery(document).find(n).val()?(jQuery(document).find(n).after(i),jQuery(document).find(n).addClass("invalid"),t=!1):jQuery(document).find(n).removeClass("invalid"),jQuery(document).find(a).length&&""==jQuery(document).find(a).val()?(jQuery(document).find(a).after(i),jQuery(document).find(a).addClass("invalid"),t=!1):jQuery(document).find(a).removeClass("invalid"),jQuery(".required-field").each(function(){var e;jQuery(this).find('input[type="text"]').length&&""==jQuery(this).find('input[type="text"] ').val()?(jQuery(this).find('input[type="text"]').after(i),jQuery(this).find('input[type="text"]').addClass("invalid"),t=!1):jQuery(this).find('input[type="text"]').removeClass("invalid"),jQuery(this).find('input[type="number"]').length&&""==jQuery(this).find('input[type="number"] ').val()?(jQuery(this).find('input[type="number"]').after(i),jQuery(this).find('input[type="number"]').addClass("invalid"),t=!1):jQuery(this).find('input[type="number"]').removeClass("invalid"),jQuery(this).find("textarea").length&&""==jQuery(this).find("textarea").val()||(jQuery(this).find("textarea").val(),0)?(jQuery(this).find("textarea").after(i),jQuery(this).find("textarea").addClass("invalid"),t=!1):jQuery(this).find("textarea").removeClass("invalid"),jQuery(this).find("select").length&&""==jQuery(this).find("select").val()?(jQuery(this).find("select").after(i),jQuery(this).find("select").addClass("invalid"),t=!1):jQuery(this).find("select").removeClass("invalid"),jQuery(this).find('input[type="checkbox"]').length&&(e=0,jQuery(this).find('input[type="checkbox"]').each(function(){1==jQuery(this).prop("checked")&&e++}),e<=0&&(jQuery(this).find("legend").next().append(i),t=!1))}),jQuery(document).find(d).length&&""==jQuery(document).find(d).val()?(jQuery(document).find(d).after(i),jQuery(document).find(d).addClass("invalid"),t=!1):(r(),jQuery.ajax({type:"POST",url:ajaxurl,dataType:"json",async:!1,data:jQuery("body #buddypress #register-page #signup-form").serialize()+"&action=check_email",success:function(e){e.signup_email?(i='<div class="bp-messages bp-feedback error">',i+='<span class="bp-icon" aria-hidden="true"></span>',i+="<p>"+e.signup_email+"</p>",i+="</div>",jQuery(document).find(d).after(i),jQuery(document).find(d).addClass("invalid"),t=!1):jQuery(document).find(d).removeClass("invalid");var i,n="field_"+e.field_id;return e.signup_username?(i='<div class="bp-messages bp-feedback error">',i+='<span class="bp-icon" aria-hidden="true"></span>',i+="<p>"+e.signup_username+"</p>",i+="</div>",jQuery(document).find("#"+n).after(i),jQuery(document).find("#"+n).addClass("invalid"),t=!1):jQuery(document).find("#"+n).removeClass("invalid"),!0}})),!t){a=jQuery(".error").first();if(a.length)return jQuery("html,body").animate({scrollTop:a.offset().top},1e3),!1}return t}),(d=jQuery("#signup_email")).length&&d.on("focusout",function(){var e=d.val(),i=a.val(),n=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;(t=jQuery("#email-strength-result")).removeClass("show mismatch bad"),""===e&&""===i&&n.test(e)?t.html(""):(t.html(""),""===e&&""===i||n.test(e)?""!==i&&e!==i&&a.length?(t.addClass("show mismatch").html(BP_Register.mismatch_email),jQuery(document).find(d).addClass("invalid"),jQuery(document).find(a).addClass("invalid")):(jQuery(document).find(d).removeClass("invalid"),jQuery(document).find(a).removeClass("invalid")):t.addClass("show bad").html(BP_Register.valid_email))}),(a=jQuery("#signup_email_confirm")).length&&a.on("keyup change",r)});