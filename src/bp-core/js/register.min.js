jQuery(document).ready(function(){var e=jQuery("body #profile-details-section #signup_profile_field_ids"),i=jQuery('<input type="hidden" class="onloadfields" value="" />'),t=jQuery('<input type="hidden" name="signup_profile_field_ids" id="signup_profile_field_ids" value="" />');jQuery("body").append(i);var a=0,l=jQuery("body .onloadfields"),d=0;l.val(e.val()),void 0!==window.tinymce&&window.tinymce.remove("textarea");var n=jQuery("body #buddypress #register-page #signup-form .layout-wrap #profile-details-section .editfield fieldset select#"+BP_Register.field_id);if(n.val().length){1===d&&(jQuery("body .ajax_added").remove(),e.val(jQuery(".onloadfields").val()));var s=e.val(),r=n.val(),o=jQuery(".register-section.extended-profile"),u=l.val(),c={action:"xprofile_get_field",_wpnonce:BP_Register.nonce,fields:s,fixedIds:u,tinymce:a,type:r};jQuery.ajax({type:"GET",url:BP_Register.ajaxurl,data:c,success:function(i){if(i.success){d=1,!0===parseInt(i.data.field_html)&&(a=1),e.val(""),e.val(i.data.field_ids),o.append(i.data.field_html);var l=jQuery("body #profile-details-section > .editfield");l.sort(function(e,i){return jQuery(e).data("index")-jQuery(i).data("index")}),jQuery("#profile-details-section").html(l),jQuery("body #profile-details-section").append(t),t.val(i.data.field_ids),void 0!==window.tinymce&&(window.tinymce.remove("textarea"),window.tinymce.init({selector:"textarea",branding:!1,menubar:!1,statusbar:!1,plugins:"lists fullscreen link",toolbar:" bold italic underline blockquote strikethrough bullist numlist alignleft aligncenter alignright undo redo link fullscreen"}),window.tinymce.execCommand("mceRepaint"))}}})}jQuery(document).on("change","body #buddypress #register-page #signup-form .layout-wrap #profile-details-section .editfield fieldset select#"+BP_Register.field_id,function(){var i=jQuery("body #buddypress #register-page #signup-form .submit #signup_submit");i.prop("disabled",!0),1===d&&(jQuery("body .ajax_added").remove(),e.val(jQuery(".onloadfields").val()));var n=e.val(),s=this.value,r=jQuery(".register-section.extended-profile"),o=l.val(),u={action:"xprofile_get_field",_wpnonce:BP_Register.nonce,fields:n,fixedIds:o,tinymce:a,type:s};jQuery.ajax({type:"GET",url:BP_Register.ajaxurl,data:u,success:function(l){if(l.success){i.prop("disabled",!1),d=1,!0===parseInt(l.data.field_html)&&(a=1),e.val(""),e.val(l.data.field_ids),r.append(l.data.field_html);var n=jQuery("body #profile-details-section > .editfield");n.sort(function(e,i){return jQuery(e).data("index")-jQuery(i).data("index")}),jQuery("#profile-details-section").html(n),jQuery("body #profile-details-section").append(t),t.val(l.data.field_ids),void 0!==window.tinymce&&(window.tinymce.remove("textarea"),window.tinymce.init({selector:"textarea",branding:!1,menubar:!1,statusbar:!1,plugins:"lists fullscreen link",toolbar:" bold italic underline blockquote strikethrough bullist numlist alignleft aligncenter alignright undo redo link fullscreen"}),window.tinymce.execCommand("mceRepaint"))}else i.prop("disabled",!1)}})});var m,y,f;(m=jQuery("#signup_email")).length&&m.on("focusout",function(){var e=m.val(),i=y.val(),t=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;(f=jQuery("#email-strength-result")).removeClass("show mismatch bad"),""===e&&""===i&&t.test(e)?f.html(""):(f.html(""),""===e&&""===i||t.test(e)?""===i||e===i||f.addClass("show mismatch").html(BP_Register.mismatch_email):f.addClass("show bad").html(BP_Register.valid_email))}),(y=jQuery("#signup_email_confirm")).length&&y.on("keyup change",function(){if(9!==window.event.keyCode){var e=m.val(),i=y.val(),t=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;(f=jQuery("#email-strength-result")).removeClass("show mismatch bad"),""===e&&""===i||""===i||t.test(i)&&t.test(e)&&e===i?f.html(""):e===i||f.addClass("show mismatch").html(BP_Register.mismatch_email)}})});