(()=>{"use strict";const e=window.React,t=window.wp.element,a=window.wp.i18n,n=window.wp.components,s=({stepData:t,children:s,onNext:r,onPrevious:l,onSkip:o,isFirstStep:c=!1,isLastStep:i=!1,currentStep:b=0,totalSteps:d=0,rightPanelContent:m=null})=>{const{title:u,description:p,image:w}=t,E=window.bbRlOnboarding?.assets?.assetsUrl?`${window.bbRlOnboarding.assets.assetsUrl}${w}`:"",y=d>0?Array.from({length:d-1},((t,a)=>(0,e.createElement)("div",{className:"bb-rl-progress-step "+(a+1<b?"bb-rl-step-active":""),key:a}))):null;return(0,e.createElement)("div",{className:"bb-rl-step-layout"},(0,e.createElement)("div",{className:"bb-rl-step-content"},(0,e.createElement)("div",{className:"bb-rl-left-panel"},(0,e.createElement)("div",{className:"bb-rl-step-header"},(0,e.createElement)("a",{href:window.bbRlOnboarding?.dashboardUrl,className:"bb-rl-step-back-button"},(0,e.createElement)("span",{className:"bb-icons-rl-caret-left"}),(0,a.__)("WP Admin","buddyboss")),(0,e.createElement)("div",{className:"bb-rl-logo"},(0,e.createElement)("img",{src:window.bbRlOnboarding?.assets?.logo||"",alt:"BuddyBoss"}))),(0,e.createElement)("div",{className:"bb-rl-left-panel-content"},(0,e.createElement)("div",{className:"bb-rl-step-info"},(0,e.createElement)("h1",{className:"bb-rl-step-title"},u),(0,e.createElement)("p",{className:"bb-rl-step-description"},p)),(0,e.createElement)("div",{className:"bb-rl-step-progress"},y),(0,e.createElement)("div",{className:"bb-rl-step-options"},s),(0,e.createElement)("div",{className:"bb-rl-step-navigation"},!c&&(0,e.createElement)(n.Button,{className:"bb-rl-nav-button bb-rl-previous-button",onClick:l},(0,e.createElement)("span",{className:"bb-icons-rl-arrow-left"}),(0,a.__)("Back","buddyboss")),(0,e.createElement)(n.Button,{className:"bb-rl-nav-button bb-rl-next-button",onClick:r,variant:"primary"},i?(0,a.__)("Finish","buddyboss"):(0,a.__)("Next","buddyboss"),!i&&(0,e.createElement)("span",{className:"bb-icons-rl-arrow-right"}))))),(0,e.createElement)("div",{className:"bb-rl-right-panel"},m||(0,e.createElement)("div",{className:"bb-rl-step-preview"},E&&(0,e.createElement)("div",{className:"bb-rl-preview-image"},(0,e.createElement)("img",{src:E,alt:u})),(0,e.createElement)("div",{className:"bb-rl-preview-placeholder"},(0,e.createElement)("p",null,(0,a.__)("Live preview will appear here","buddyboss")))))))},r=({stepKey:s,stepOptions:r={},initialData:l={},onChange:o,onAutoSave:c})=>{const i=()=>{const e={};return Object.entries(r).forEach((([t,a])=>{void 0!==a.value?e[t]=a.value:void 0!==a.default&&(e[t]=a.default)})),e},[b,d]=(0,t.useState)((()=>({...i(),...l}))),[m,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=i();d((t=>({...e,...t,...l})))}),[l,r]);const p=(e,t)=>{const a={...b,[e]:t};if(d(a),o&&o(a),c){m&&clearTimeout(m);const e=setTimeout((()=>{c({[s]:a})}),1e3);u(e)}};return(0,e.createElement)("div",{className:"bb-rl-dynamic-step-renderer"},(0,e.createElement)("div",{className:"bb-rl-form-fields"},Object.entries(r).map((([t,s])=>(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},((t,s)=>{const{type:r,label:l,description:o,options:c,required:i,default:d,value:m}=s,u=void 0!==b[t]?b[t]:void 0!==m?m:d;switch(r){case"text":return(0,e.createElement)(n.TextControl,{key:t,label:l,help:o,value:u||"",onChange:e=>p(t,e),required:i});case"select":return(0,e.createElement)(n.SelectControl,{key:t,label:l,help:o,value:u||"",onChange:e=>p(t,e),options:Object.entries(c||{}).map((([e,t])=>({value:e,label:t})))});case"checkbox":return(0,e.createElement)(n.CheckboxControl,{key:t,label:l,help:o,checked:Boolean(u),onChange:e=>p(t,e)});case"radio":return(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},(0,e.createElement)("div",{className:"bb-rl-field-label"},(0,e.createElement)("h4",null,l),o&&(0,e.createElement)("p",{className:"bb-rl-field-description"},o)),(0,e.createElement)(n.RadioControl,{selected:u||"",options:Object.entries(c||{}).map((([e,t])=>({value:e,label:t}))),onChange:e=>p(t,e)}));case"color":return(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},(0,e.createElement)("div",{className:"bb-rl-field-label"},(0,e.createElement)("h4",null,l),o&&(0,e.createElement)("p",{className:"bb-rl-field-description"},o)),(0,e.createElement)("div",{className:"bb-rl-color-picker-wrapper"},(0,e.createElement)(n.ColorPicker,{color:u||"#e57e3a",onChange:e=>p(t,e),disableAlpha:!0})));case"media":return(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},(0,e.createElement)("div",{className:"bb-rl-field-label"},(0,e.createElement)("h4",null,l),o&&(0,e.createElement)("p",{className:"bb-rl-field-description"},o)),(0,e.createElement)("div",{className:"bb-rl-media-field"},(0,e.createElement)(n.Button,{variant:"secondary",onClick:()=>{const e=wp.media({title:l,multiple:!1,library:{type:"image"}});e.on("select",(()=>{const a=e.state().get("selection").first().toJSON();p(t,a.id),p(t+"_url",a.url)})),e.open()}},u?(0,a.__)("Change Image","buddyboss"):(0,a.__)("Select Image","buddyboss")),b[t+"_url"]&&(0,e.createElement)("div",{className:"bb-rl-media-preview"},(0,e.createElement)("img",{src:b[t+"_url"],alt:l,style:{maxWidth:"200px",height:"auto"}}),(0,e.createElement)(n.Button,{variant:"link",isDestructive:!0,onClick:()=>{p(t,""),p(t+"_url","")}},(0,a.__)("Remove","buddyboss")))));case"visual_options":return(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},(0,e.createElement)("div",{className:"bb-rl-field-label"},(0,e.createElement)("h4",null,l),o&&(0,e.createElement)("p",{className:"bb-rl-field-description"},o)),(0,e.createElement)("div",{className:"bb-rl-visual-options"},Object.entries(c||{}).map((([a,n])=>(0,e.createElement)("div",{key:a,className:"bb-rl-visual-option "+(u===a?"bb-rl-selected":""),onClick:()=>p(t,a)},(0,e.createElement)("div",{className:`bb-rl-option-preview bb-rl-${t}-${a}`},((t,a)=>{switch(t){case"color_scheme":return(0,e.createElement)("div",{className:"bb-rl-color-scheme-preview"},(0,e.createElement)("div",{className:`bb-rl-color-swatch bb-rl-primary-${a}`}),(0,e.createElement)("div",{className:`bb-rl-color-swatch bb-rl-secondary-${a}`}),(0,e.createElement)("div",{className:`bb-rl-color-swatch bb-rl-accent-${a}`}));case"site_layout":return(0,e.createElement)("div",{className:"bb-rl-layout-preview"},(0,e.createElement)("div",{className:"bb-rl-layout-header"}),(0,e.createElement)("div",{className:"bb-rl-layout-content"},(0,e.createElement)("div",{className:"bb-rl-layout-main"}),"boxed"===a&&(0,e.createElement)("div",{className:"bb-rl-layout-sidebar"})));case"homepage_layout":if("activity"===a)return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"bb-rl-activity-item"}),(0,e.createElement)("div",{className:"bb-rl-activity-item"}),(0,e.createElement)("div",{className:"bb-rl-activity-item"}));if("custom"===a)return(0,e.createElement)("div",{className:"bb-rl-custom-content"},(0,e.createElement)("div",{className:"bb-rl-custom-block"}),(0,e.createElement)("div",{className:"bb-rl-custom-block"}));if("landing"===a)return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"bb-rl-hero-section"}),(0,e.createElement)("div",{className:"bb-rl-features-section"}));break;case"menu_style":if("horizontal"===a)return(0,e.createElement)("div",{className:"bb-rl-menu-preview bb-rl-horizontal"},(0,e.createElement)("div",{className:"bb-rl-menu-item"}),(0,e.createElement)("div",{className:"bb-rl-menu-item"}),(0,e.createElement)("div",{className:"bb-rl-menu-item"}));if("vertical"===a)return(0,e.createElement)("div",{className:"bb-rl-menu-preview bb-rl-vertical"},(0,e.createElement)("div",{className:"bb-rl-menu-item"}),(0,e.createElement)("div",{className:"bb-rl-menu-item"}),(0,e.createElement)("div",{className:"bb-rl-menu-item"}));break;case"widget_areas":return(0,e.createElement)("div",{className:"bb-rl-widget-area-preview"},(0,e.createElement)("div",{className:"bb-rl-content-area"},("all"===a||"sidebar"===a)&&(0,e.createElement)("div",{className:"bb-rl-sidebar-area"},(0,e.createElement)("div",{className:"bb-rl-widget-placeholder"}),(0,e.createElement)("div",{className:"bb-rl-widget-placeholder"})),(0,e.createElement)("div",{className:"bb-rl-main-content-area"})),("all"===a||"footer"===a)&&(0,e.createElement)("div",{className:"bb-rl-footer-area"},(0,e.createElement)("div",{className:"bb-rl-widget-placeholder"}),(0,e.createElement)("div",{className:"bb-rl-widget-placeholder"}),(0,e.createElement)("div",{className:"bb-rl-widget-placeholder"})));default:return(0,e.createElement)("div",{className:"bb-rl-default-preview"})}})(t,a)),(0,e.createElement)("span",{className:"bb-rl-option-label"},n),u===a&&(0,e.createElement)("span",{className:"bb-rl-selected-icon"},"âœ“"))))));default:return(0,e.createElement)("div",{key:t,className:"bb-rl-field-group"},(0,e.createElement)("p",{className:"bb-rl-error-message"},(0,a.__)("Unknown field type:","buddyboss")," ",r))}})(t,s))))))},l={SplashScreen:({stepData:t,onNext:n,onSkip:s})=>{const{title:r,description:l,image:o}=t,c=(window.bbRlOnboarding?.assets?.assetsUrl&&window.bbRlOnboarding.assets.assetsUrl,window.bbRlOnboarding?.readylaunch?.is_buddyboss_theme_active||!1),i=window.bbRlOnboarding?.readylaunch?.buddyboss_theme_installed||!1;return(0,e.createElement)("div",{className:"bb-rl-splash-screen"},(0,e.createElement)("div",{className:"bb-rl-splash-content"},(0,e.createElement)("div",{className:"bb-rl-splash-content-product-container"},(0,e.createElement)("div",{className:"bb-rl-splash-content-product"},(0,e.createElement)("p",{className:"bb-rl-splash-content-product-name"},(0,a.__)("BuddyBoss Theme","buddyboss")),(0,e.createElement)("p",{className:"bb-rl-splash-content-product-baseline"},(0,a.__)("Customizable WordPress theme","buddyboss")),(0,e.createElement)("img",{src:`${window.bbRlOnboarding.assets.assetsUrl}buddyboss-theme-preview.jpg`,alt:"BuddyBoss Theme Preview",className:"bb-rl-product-preview"}),(0,e.createElement)("p",{className:"bb-rl-splash-content-product-description"},(0,a.__)("Our crafted theme made just for the BuddyBoss Platform giving you full control to design a community that feels truly yours.","buddybos s")),(0,e.createElement)("ul",{className:"bb-rl-splash-content-product-features"},(0,e.createElement)("li",{className:"bb-rl-splash-content-product-feature"},(0,e.createElement)("i",{className:"bb-icons-rl-check"}),(0,a.__)("Advanced customization","buddyboss")),(0,e.createElement)("li",{className:"bb-rl-splash-content-product-feature"},(0,e.createElement)("i",{className:"bb-icons-rl-check"}),(0,a.__)("Deep integration support","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-splash-content-product-button-container"},c?(0,e.createElement)("a",{href:window?.bbRlOnboarding?.readylaunch?.theme_settings,className:"bb-rl-button bb-rl-button--outline"},(0,a.__)("Configure BuddyBoss Theme","buddyboss")):i?(0,e.createElement)("a",{href:window?.bbRlOnboarding?.readylaunch?.themes,className:"bb-rl-button bb-rl-button--outline"},(0,a.__)("Activate BuddyBoss Theme","buddyboss")):(0,e.createElement)("a",{href:"https://www.buddyboss.com/website-platform/#platform_pricing_box",target:"_blank",className:"bb-rl-button"},(0,a.__)("Buy Theme","buddyboss")))),(0,e.createElement)("div",{className:"bb-rl-splash-content-product"},(0,e.createElement)("p",{className:"bb-rl-splash-content-product-name"},(0,a.__)("ReadyLaunch","buddyboss")),(0,e.createElement)("p",{className:"bb-rl-splash-content-product-baseline"},(0,a.__)("Community features for any WordPress theme","buddyboss")),(0,e.createElement)("img",{src:`${window.bbRlOnboarding.assets.assetsUrl}readylaunch-preview.jpg`,alt:"BuddyBoss Theme Preview",className:"bb-rl-product-preview"}),(0,e.createElement)("p",{className:"bb-rl-splash-content-product-description"},(0,a.__)("Get your community up and running in no time with our easy to use template system.","buddybos s")),(0,e.createElement)("ul",{className:"bb-rl-splash-content-product-features"},(0,e.createElement)("li",{className:"bb-rl-splash-content-product-feature"},(0,e.createElement)("i",{className:"bb-icons-rl-check"}),(0,a.__)("Minimal configuration","buddyboss")),(0,e.createElement)("li",{className:"bb-rl-splash-content-product-feature"},(0,e.createElement)("i",{className:"bb-icons-rl-check"}),(0,a.__)("Supports any WordPress Theme","buddyboss"))),(0,e.createElement)("a",{className:"bb-rl-button",onClick:e=>{e.preventDefault(),e.stopPropagation(),n&&n()}},(0,a.__)("Configure ReadyLaunch","buddyboss"))))))},CommunitySetupStep:({stepData:n,onNext:l,onPrevious:o,onSkip:c,currentStep:i,totalSteps:b,onSaveStep:d,onAutoSave:m,savedData:u={}})=>{const[p,w]=(0,t.useState)({blogname:"",privacy_mode:"public",...u}),[E,y]=(0,t.useState)({}),v=window.bbRlOnboarding?.stepOptions?.community_setup||{};return(0,t.useEffect)((()=>{const e={};Object.entries(v).forEach((([t,a])=>{void 0!==a.value?e[t]=a.value:void 0!==a.default&&(e[t]=a.default)})),w((t=>({...e,...t,...u})))}),[u,v]),(0,e.createElement)(s,{stepData:n,onNext:async()=>{(()=>{const e={};return Object.entries(v).forEach((([t,n])=>{!n.required||p[t]&&""!==p[t].trim()||(e[t]=n.label?(0,a.__)(`${n.label} is required`,"buddyboss"):(0,a.__)("This field is required","buddyboss"))})),y(e),0===Object.keys(e).length})()&&(d&&await d({step:"community_setup",data:p,timestamp:(new Date).toISOString()}),l&&l(p))},onPrevious:o,onSkip:c,isFirstStep:1===i,isLastStep:i===b-1,currentStep:i,totalSteps:b},(0,e.createElement)(r,{stepKey:"community_setup",stepOptions:v,initialData:p,onChange:e=>{w(e),y({})},onAutoSave:m}),Object.keys(E).length>0&&(0,e.createElement)("div",{className:"bb-rl-form-errors"},Object.entries(E).map((([t,a])=>(0,e.createElement)("p",{key:t,className:"bb-rl-error-message"},a)))))},SiteAppearanceStep:({stepData:a,onNext:n,onPrevious:l,onSkip:o,currentStep:c,totalSteps:i,onSaveStep:b,onAutoSave:d,savedData:m={}})=>{const[u,p]=(0,t.useState)({color_scheme:"default",site_layout:"fullwidth",...m}),w=window.bbRlOnboarding?.stepOptions?.site_appearance||{};return(0,t.useEffect)((()=>{const e={};Object.entries(w).forEach((([t,a])=>{void 0!==a.default&&(e[t]=a.default)})),p((t=>({...e,...t,...m})))}),[m,w]),(0,e.createElement)(s,{stepData:a,onNext:async()=>{b&&await b({step:"site_appearance",data:u,timestamp:(new Date).toISOString()}),n&&n(u)},onPrevious:l,onSkip:o,isFirstStep:!1,isLastStep:c===i-1,currentStep:c,totalSteps:i},(0,e.createElement)(r,{stepKey:"site_appearance",stepOptions:w,initialData:u,onChange:e=>{p(e)},onAutoSave:d}))},BrandingsStep:({stepData:a,onNext:n,onPrevious:l,onSkip:o,currentStep:c,totalSteps:i,onSaveStep:b,onAutoSave:d,savedData:m={}})=>{const[u,p]=(0,t.useState)({site_logo:"",favicon:"",brand_colors:"#e57e3a",...m}),w=window.bbRlOnboarding?.stepOptions?.brandings||{};return(0,t.useEffect)((()=>{const e={};Object.entries(w).forEach((([t,a])=>{void 0!==a.default&&(e[t]=a.default)})),p((t=>({...e,...t,...m})))}),[m,w]),(0,e.createElement)(s,{stepData:a,onNext:async()=>{b&&await b({step:"brandings",data:u,timestamp:(new Date).toISOString()}),n&&n(u)},onPrevious:l,onSkip:o,isFirstStep:!1,isLastStep:c===i-1,currentStep:c,totalSteps:i},(0,e.createElement)(r,{stepKey:"brandings",stepOptions:w,initialData:u,onChange:e=>{p(e)},onAutoSave:d}))},PagesStep:({stepData:a,onNext:n,onPrevious:l,onSkip:o,currentStep:c,totalSteps:i,onSaveStep:b,onAutoSave:d,savedData:m={}})=>{const[u,p]=(0,t.useState)({create_essential_pages:!0,homepage_layout:"activity",...m}),w=window.bbRlOnboarding?.stepOptions?.pages||{};return(0,t.useEffect)((()=>{const e={};Object.entries(w).forEach((([t,a])=>{void 0!==a.default&&(e[t]=a.default)})),p((t=>({...e,...t,...m})))}),[m,w]),(0,e.createElement)(s,{stepData:a,onNext:async()=>{b&&await b({step:"pages",data:u,timestamp:(new Date).toISOString()}),n&&n(u)},onPrevious:l,onSkip:o,isFirstStep:!1,isLastStep:c===i-1,currentStep:c,totalSteps:i},(0,e.createElement)(r,{stepKey:"pages",stepOptions:w,initialData:u,onChange:e=>{p(e)},onAutoSave:d}))},SideMenusStep:({stepData:a,onNext:n,onPrevious:l,onSkip:o,currentStep:c,totalSteps:i,onSaveStep:b,onAutoSave:d,savedData:m={}})=>{const[u,p]=(0,t.useState)({enable_primary_menu:!0,enable_member_menu:!0,menu_style:"horizontal",...m}),w=window.bbRlOnboarding?.stepOptions?.side_menus||{};return(0,t.useEffect)((()=>{const e={};Object.entries(w).forEach((([t,a])=>{void 0!==a.default&&(e[t]=a.default)})),p((t=>({...e,...t,...m})))}),[m,w]),(0,e.createElement)(s,{stepData:a,onNext:async()=>{b&&await b({step:"side_menus",data:u,timestamp:(new Date).toISOString()}),n&&n(u)},onPrevious:l,onSkip:o,isFirstStep:!1,isLastStep:c===i-1,currentStep:c,totalSteps:i},(0,e.createElement)(r,{stepKey:"side_menus",stepOptions:w,initialData:u,onChange:e=>{p(e)},onAutoSave:d}))},WidgetsStep:({stepData:a,onNext:n,onPrevious:l,onSkip:o,currentStep:c,totalSteps:i,onSaveStep:b,onAutoSave:d,savedData:m={}})=>{const[u,p]=(0,t.useState)({enable_sidebar_widgets:!0,default_widgets:!0,widget_areas:"all",...m}),w=window.bbRlOnboarding?.stepOptions?.widgets||{};return(0,t.useEffect)((()=>{const e={};Object.entries(w).forEach((([t,a])=>{void 0!==a.default&&(e[t]=a.default)})),p((t=>({...e,...t,...m})))}),[m,w]),(0,e.createElement)(s,{stepData:a,onNext:async()=>{b&&await b({step:"widgets",data:u,timestamp:(new Date).toISOString()}),n&&n(u)},onPrevious:l,onSkip:o,isFirstStep:!1,isLastStep:c===i-1,currentStep:c,totalSteps:i},(0,e.createElement)(r,{stepKey:"widgets",stepOptions:w,initialData:u,onChange:e=>{p(e)},onAutoSave:d}))},FinishScreen:({stepData:s,onFinish:r,onViewSite:l})=>{const{title:o,description:c,image:i}=s,[b,d]=(0,t.useState)(!1),m=window.bbRlOnboarding?.assets?.assetsUrl?`${window.bbRlOnboarding.assets.assetsUrl}${i}`:"";return(0,e.createElement)("div",{className:"bb-rl-finish-screen bb-rl-fullscreen-finish"},(0,e.createElement)("div",{className:"bb-rl-finish-container"},(0,e.createElement)("div",{className:"bb-rl-finish-left"},(0,e.createElement)("div",{className:"bb-rl-finish-content"},(0,e.createElement)("div",{className:"bb-rl-success-animation"},(0,e.createElement)("div",{className:"bb-rl-checkmark"},(0,e.createElement)("svg",{className:"bb-rl-checkmark-circle",viewBox:"0 0 52 52"},(0,e.createElement)("circle",{className:"bb-rl-checkmark-circle-path",cx:"26",cy:"26",r:"25",fill:"none"})),(0,e.createElement)("svg",{className:"bb-rl-checkmark-check",viewBox:"0 0 52 52"},(0,e.createElement)("path",{className:"bb-rl-checkmark-check-path",fill:"none",d:"M14.1 27.2l7.1 7.2 16.7-16.8"})))),(0,e.createElement)("div",{className:"bb-rl-finish-text"},(0,e.createElement)("h1",{className:"bb-rl-finish-title"},o),(0,e.createElement)("p",{className:"bb-rl-finish-description"},c),(0,e.createElement)("p",{className:"bb-rl-finish-subtitle"},(0,a.__)("Your community is now configured and ready for members to join!","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-setup-summary"},(0,e.createElement)("h3",null,(0,a.__)("What we've set up for you:","buddyboss")),(0,e.createElement)("div",{className:"bb-rl-summary-grid"},(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸ "),(0,e.createElement)("span",null,(0,a.__)("Community structure","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸŽ¨"),(0,e.createElement)("span",null,(0,a.__)("Site appearance","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸ·ï¸"),(0,e.createElement)("span",null,(0,a.__)("Branding elements","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸ“„"),(0,e.createElement)("span",null,(0,a.__)("Essential pages","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸ§­"),(0,e.createElement)("span",null,(0,a.__)("Navigation menus","buddyboss"))),(0,e.createElement)("div",{className:"bb-rl-summary-item"},(0,e.createElement)("div",{className:"bb-rl-summary-icon"},"ðŸ”§"),(0,e.createElement)("span",null,(0,a.__)("Widget areas","buddyboss"))))),(0,e.createElement)("div",{className:"bb-rl-finish-actions"},(0,e.createElement)(n.Button,{className:"bb-rl-finish-button bb-rl-primary-action",onClick:()=>{l?l():window.open(window.bbRlOnboarding?.readylaunch?.site_url||window.location.origin,"_blank")},variant:"primary",size:"large"},(0,a.__)("View Your Site","buddyboss")),(0,e.createElement)(n.Button,{className:"bb-rl-finish-button bb-rl-secondary-action",onClick:()=>{window.location.href=window.bbRlOnboarding?.readylaunch?.admin_url+"admin.php?page=buddyboss-platform"},variant:"secondary",size:"large"},(0,a.__)("Go to Settings","buddyboss")),(0,e.createElement)(n.Button,{className:"bb-rl-finish-button bb-rl-close-action",onClick:async()=>{d(!0);try{r&&await r()}catch(e){console.error("Error finishing onboarding:",e)}finally{d(!1)}},variant:"link",disabled:b},b?(0,a.__)("Finishing...","buddyboss"):(0,a.__)("Close Setup","buddyboss"))))),(0,e.createElement)("div",{className:"bb-rl-finish-right"},(0,e.createElement)("div",{className:"bb-rl-finish-sidebar"},m&&(0,e.createElement)("div",{className:"bb-rl-finish-image"},(0,e.createElement)("img",{src:m,alt:o})),(0,e.createElement)("div",{className:"bb-rl-next-steps"},(0,e.createElement)("h3",null,(0,a.__)("What's next?","buddyboss")),(0,e.createElement)("div",{className:"bb-rl-next-steps-list"},(0,e.createElement)("div",{className:"bb-rl-next-step"},(0,e.createElement)("div",{className:"bb-rl-step-number"},"1"),(0,e.createElement)("div",{className:"bb-rl-step-content"},(0,e.createElement)("h4",null,(0,a.__)("Invite members","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("Start building your community by inviting the first members","buddyboss")))),(0,e.createElement)("div",{className:"bb-rl-next-step"},(0,e.createElement)("div",{className:"bb-rl-step-number"},"2"),(0,e.createElement)("div",{className:"bb-rl-step-content"},(0,e.createElement)("h4",null,(0,a.__)("Create content","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("Add some initial posts and groups to get conversations started","buddyboss")))),(0,e.createElement)("div",{className:"bb-rl-next-step"},(0,e.createElement)("div",{className:"bb-rl-step-number"},"3"),(0,e.createElement)("div",{className:"bb-rl-step-content"},(0,e.createElement)("h4",null,(0,a.__)("Customize further","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("Fine-tune your settings and explore advanced features","buddyboss")))))),(0,e.createElement)("div",{className:"bb-rl-support-resources"},(0,e.createElement)("h3",null,(0,a.__)("Need help?","buddyboss")),(0,e.createElement)("div",{className:"bb-rl-resource-links"},(0,e.createElement)("a",{href:"https://www.buddyboss.com/resources/docs/",target:"_blank",rel:"noopener noreferrer",className:"bb-rl-resource-link"},"ðŸ“š ",(0,a.__)("Documentation","buddyboss")),(0,e.createElement)("a",{href:"https://www.buddyboss.com/contact/",target:"_blank",rel:"noopener noreferrer",className:"bb-rl-resource-link"},"ðŸ’¬ ",(0,a.__)("Get Support","buddyboss")),(0,e.createElement)("a",{href:"https://www.buddyboss.com/community/",target:"_blank",rel:"noopener noreferrer",className:"bb-rl-resource-link"},"ðŸ‘¥ ",(0,a.__)("Join Community","buddyboss")))),(0,e.createElement)("div",{className:"bb-rl-thank-you"},(0,e.createElement)("p",null,(0,a.__)("Thank you for choosing BuddyBoss! We're excited to see what you build with your new community.","buddyboss")))))))}},o=({isOpen:s,onClose:r,onContinue:o,onSkip:c,onSaveStep:i})=>{const[b,d]=(0,t.useState)(0),[m,u]=(0,t.useState)({}),[p,w]=(0,t.useState)(!1),E=window.bbRlOnboarding?.steps||[],y=E.length,v=E[b]||{};(0,t.useEffect)((()=>{g()}),[]);const g=async()=>{const e={};window.bbRlOnboarding?.preferences&&Object.keys(window.bbRlOnboarding.preferences).forEach((t=>{e[t]=window.bbRlOnboarding.preferences[t]})),u(e);const t=window.bbRlOnboarding?.progress;t&&t.current_step>0&&t.current_step<y&&d(t.current_step)};(0,t.useEffect)((()=>(s&&v.component&&"SplashScreen"!==v.component?h():f(),()=>{f()})),[s,v.component]);const h=()=>{document.body.classList.add("bb-rl-fullscreen-mode"),document.body.style.overflow="hidden";const e=document.getElementById("wpadminbar");e&&(e.style.display="none");const t=document.getElementById("adminmenumain");t&&(t.style.display="none");const a=document.getElementById("wpfooter");a&&(a.style.display="none");const n=document.getElementById("wpwrap");n&&(n.style.marginLeft="0")},f=()=>{document.body.classList.remove("bb-rl-fullscreen-mode"),document.body.style.overflow="";const e=document.getElementById("wpadminbar");e&&(e.style.display="");const t=document.getElementById("adminmenumain");t&&(t.style.display="");const a=document.getElementById("wpfooter");a&&(a.style.display="");const n=document.getElementById("wpwrap");n&&(n.style.marginLeft="")},N=async(e,t={})=>{try{const a=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"rl_onboarding_save_step_progress",nonce:window.bbRlOnboarding?.nonce||"",step:e,data:JSON.stringify({step_key:v.key,form_data:t,timestamp:(new Date).toISOString()})})}),n=await a.json();return n.success?(window.bbRlOnboarding?.progress&&(window.bbRlOnboarding.progress=n.data.progress),!0):(console.error("Error saving step progress:",n.data?.message||"Unknown error"),!1)}catch(e){return console.error("Error saving step progress:",e),!1}},_=async e=>{try{const t=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"rl_onboarding_save_preferences",nonce:window.bbRlOnboarding?.nonce||"",preferences:JSON.stringify(e)})}),a=await t.json();return a.success?(window.bbRlOnboarding?.preferences&&(window.bbRlOnboarding.preferences={...window.bbRlOnboarding.preferences,...e}),!0):(console.error("Error saving preferences:",a.data?.message||"Unknown error"),!1)}catch(e){return console.error("Error saving preferences:",e),!1}},S=async(e={})=>{w(!0);try{if(await N(b,e)){const t=v.key;u((a=>({...a,[t]:e}))),await _({[t]:e}),b>=y-1?await R(e):d((e=>e+1))}}catch(e){console.error("Error handling next step:",e)}finally{w(!1)}},O=()=>{b>0&&d((e=>e-1))},k=async()=>{w(!0);try{await N(b,{skipped:!0}),b<y-1?d((e=>e+1)):await R()}catch(e){console.error("Error skipping step:",e)}finally{w(!1)}},R=async(e={})=>{w(!0);try{const t={...m};e&&Object.keys(e).length>0&&(t[v.key]=e);const a=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"rl_onboarding_complete",nonce:window.bbRlOnboarding?.nonce||"",finalSettings:JSON.stringify(t)})}),n=await a.json();if(n.success){console.log("Onboarding completed successfully:",n.data);const e=new CustomEvent("bb_rl_onboarding_completed",{detail:{data:n.data,finalSettings:t}});document.dispatchEvent(e),r&&r(),setTimeout((()=>{window.location.href=window.bbRlOnboarding?.dashboardUrl||"/wp-admin/"}),1e3)}else console.error("Error completing onboarding:",n.data?.message||"Unknown error")}catch(e){console.error("Error completing onboarding:",e)}finally{w(!1)}},C=()=>{if(!v||!v.component)return(0,e.createElement)("div",{className:"bb-rl-error-state"},(0,e.createElement)("h2",null,(0,a.__)("Step Not Found","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("The current step could not be loaded. Please try refreshing the page.","buddyboss")));if(!(t=v.component)||"string"!=typeof t||!l.hasOwnProperty(t))return(0,e.createElement)("div",{className:"bb-rl-error-state"},(0,e.createElement)("h2",null,(0,a.__)("Component Not Found","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("Component","buddyboss"),' "',v.component,'" ',(0,a.__)("not found in registry.","buddyboss")));var t;const n=(e=>{if(!e||"string"!=typeof e)return console.warn("Invalid component name provided to getStepComponent:",e),null;return l[e]||(console.warn(`Component '${e}' not found in step registry. Available components:`,Object.keys(l)),null)})(v.component);return n?"SplashScreen"===v.component?(0,e.createElement)(n,{stepData:v,onNext:S,onSkip:k}):"FinishScreen"===v.component?(0,e.createElement)(n,{stepData:v,onFinish:R,onViewSite:()=>{window.open(window.bbRlOnboarding?.readylaunch?.site_url||window.location.origin,"_blank")}}):(0,e.createElement)(n,{stepData:v,onNext:S,onPrevious:O,onSkip:k,currentStep:b,totalSteps:y,onSaveStep:i,onAutoSave:_,isProcessing:p,savedData:m[v.key]||{}}):(0,e.createElement)("div",{className:"bb-rl-error-state"},(0,e.createElement)("h2",null,(0,a.__)("Component Load Error","buddyboss")),(0,e.createElement)("p",null,(0,a.__)("Failed to load the step component.","buddyboss")))};return s?"SplashScreen"===v.component?(0,e.createElement)("div",{className:"bb-rl-onboarding-overlay"},(0,e.createElement)("div",{className:"bb-rl-onboarding-modal bb-rl-special-step"},(0,e.createElement)("div",{className:"bb-rl-modal-header"},(0,e.createElement)("div",{className:"bb-rl-modal-header-content"},(0,e.createElement)("h2",{className:"bb-rl-modal-title"},v?.title),(0,e.createElement)("p",{className:"bb-rl-modal-description"},v?.description)),(0,e.createElement)(n.Button,{className:"bb-rl-close-button",onClick:()=>{f(),r&&r()},label:(0,a.__)("Close","buddyboss"),disabled:p},(0,e.createElement)("span",{className:"bb-icons-rl-x"}))),(0,e.createElement)("div",{className:"bb-rl-modal-content"},C()))):(0,e.createElement)("div",{className:"bb-rl-onboarding-overlay bb-rl-fullscreen"},(0,e.createElement)("div",{className:"bb-rl-onboarding-modal bb-rl-fullscreen-modal"},(0,e.createElement)("div",{className:"bb-rl-fullscreen-content"},C()))):null},c=()=>{const[a,n]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{window.bbRlOnboarding&&window.bbRlOnboarding.shouldShow&&n(!0)}),[]),(0,e.createElement)(o,{isOpen:a,onClose:()=>{n(!1)},onContinue:async e=>{console.log("Selected option:",e);try{const t=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:window.bbRlOnboarding.wizardId+"_complete",nonce:window.bbRlOnboarding?.nonce||"",selectedOption:e,skipped:"0"})}),a=await t.json();if(a.success){console.log("Onboarding completed successfully:",a.data);const t=new CustomEvent("bb_rl_onboarding_completed",{detail:{selectedOption:e,data:a.data}});document.dispatchEvent(t),"readylaunch"===e?window.location.href=window.location.origin+"/wp-admin/admin.php?page=buddyboss-platform&tab=buddyboss_readylaunch":"buddyboss-theme-buy"===e?window.open("https://www.buddyboss.com/theme/","_blank"):n(!1)}else console.error("Error completing onboarding:",a.data?.message||"Unknown error")}catch(e){console.error("Error completing onboarding:",e)}},onSkip:async()=>{try{const e=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:window.bbRlOnboarding.wizardId+"_complete",nonce:window.bbRlOnboarding?.nonce||"",selectedOption:"",skipped:"1"})}),t=await e.json();if(t.success){console.log("Onboarding skipped successfully");const e=new CustomEvent("bb_rl_onboarding_skipped",{detail:{data:t.data}});document.dispatchEvent(e),n(!1)}else console.error("Error skipping onboarding:",t.data?.message||"Unknown error")}catch(e){console.error("Error skipping onboarding:",e)}},onSaveStep:async e=>{try{const t=await fetch(window.bbRlOnboarding?.ajaxUrl||window.ajaxurl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:window.bbRlOnboarding.wizardId+"_save_step",nonce:window.bbRlOnboarding?.nonce||"",stepData:JSON.stringify(e)})}),a=await t.json();return a.success?(console.log("Step saved successfully:",a.data),!0):(console.error("Error saving step:",a.data?.message||"Unknown error"),!1)}catch(e){return console.error("Error saving step:",e),!1}}})};document.addEventListener("DOMContentLoaded",(()=>{if(window.bbRlOnboarding){const a=document.createElement("div");a.id="bb-rl-onboarding-root",document.body.appendChild(a),(0,t.render)((0,e.createElement)(c,null),a)}}))})();