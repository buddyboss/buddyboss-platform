"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[746],{239:(e,t,a)=>{function l(e,t={}){const a=window.bbAdminData?.ajaxUrl||"/wp-admin/admin-ajax.php",l=window.bbAdminData?.ajaxNonce||"",n=new FormData;return n.append("action",e),n.append("nonce",l),Object.keys(t).forEach((e=>{n.append(e,t[e])})),fetch(a,{method:"POST",credentials:"same-origin",body:n}).then((e=>e.json()))}function n(e){return l("bb_admin_get_platform_settings",{options:e})}function r(e,t){return l("bb_admin_save_platform_setting",{option_name:e,option_value:t})}function o(){return l("bb_admin_get_activity_types")}function s(){return l("bb_admin_get_activity_topics")}function i(e={}){return l("bb_admin_get_activities",e)}function b(e,t){return l("bb_admin_update_activity",{activity_id:e,...t})}function d(e){return l("bb_admin_delete_activity",{activity_id:e})}function _(e,t=!0){return l("bb_admin_spam_activity",{activity_id:e,is_spam:t?"1":"0"})}function u(e={}){return l("bb_admin_get_groups",e)}function c(e){return l("bb_admin_get_group",{group_id:e})}function m(e){return l("bb_admin_create_group",e)}function p(e,t){return l("bb_admin_update_group",{group_id:e,...t})}function g(e){return l("bb_admin_delete_group",{group_id:e})}function y(){return l("bb_admin_get_group_types")}function v(e){return l("bb_admin_create_group_type",e)}function h(e,t){return l("bb_admin_update_group_type",{type_id:e,...t})}function E(e){return l("bb_admin_delete_group_type",{type_id:e})}a.d(t,{$y:()=>d,Dm:()=>y,GJ:()=>s,Hk:()=>h,J0:()=>b,JK:()=>r,Ni:()=>g,TO:()=>o,Wx:()=>c,ZU:()=>l,ZY:()=>E,ah:()=>i,ao:()=>v,bn:()=>n,f:()=>u,nR:()=>_,vW:()=>p,wj:()=>m})},746:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var l=a(609),n=a(87),r=a(723),o=a(427),s=a(291),i=a(239);function b(){return(0,l.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function d({isOpen:e,onClose:t,onSave:a,groupType:s=null}){const[d,_]=(0,n.useState)({name:"",singular_label:"",plural_label:"",organizer_plural_label:"",organizer_singular_label:"",moderator_plural_label:"",moderator_singular_label:"",member_plural_label:"",member_singular_label:"",show_in_directory:!1,hide_from_directory:!1,restrict_invites_by_type:!1,profile_type_invites:[],profile_type_joining:[],visibility:"public",label_color:"default"}),[u,c]=(0,n.useState)(!1),[m,p]=(0,n.useState)([]);(0,n.useEffect)((()=>{e&&p([{value:"teacher",label:(0,r.__)("Teacher","buddyboss")},{value:"student",label:(0,r.__)("Student","buddyboss")},{value:"male",label:(0,r.__)("Male","buddyboss")},{value:"female",label:(0,r.__)("Female","buddyboss")}])}),[e]),(0,n.useEffect)((()=>{_(s?{name:s.name||"",singular_label:s.singular_label||"",plural_label:s.plural_label||"",organizer_plural_label:s.organizer_plural_label||"",organizer_singular_label:s.organizer_singular_label||"",moderator_plural_label:s.moderator_plural_label||"",moderator_singular_label:s.moderator_singular_label||"",member_plural_label:s.member_plural_label||"",member_singular_label:s.member_singular_label||"",show_in_directory:s.show_in_directory||!1,hide_from_directory:s.hide_from_directory||!1,restrict_invites_by_type:s.restrict_invites_by_type||!1,profile_type_invites:s.profile_type_invites||[],profile_type_joining:s.profile_type_joining||[],visibility:s.visibility||"public",label_color:s.label_color||"default"}:{name:"",singular_label:"",plural_label:"",organizer_plural_label:"",organizer_singular_label:"",moderator_plural_label:"",moderator_singular_label:"",member_plural_label:"",member_singular_label:"",show_in_directory:!1,hide_from_directory:!1,restrict_invites_by_type:!1,profile_type_invites:[],profile_type_joining:[],visibility:"public",label_color:"default"})}),[s,e]);const g=(e,t)=>{_((a=>({...a,[e]:t})))},y=(e,t)=>{_((a=>{const l=a[e]||[],n=l.includes(t)?l.filter((e=>e!==t)):[...l,t];return{...a,[e]:n}}))};return e?(0,l.createElement)("div",{className:"bb-admin-modal-overlay",onClick:t},(0,l.createElement)("div",{className:"bb-admin-group-type-modal",onClick:e=>e.stopPropagation()},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__header"},(0,l.createElement)("h2",null,s?(0,r.__)("Edit Group Type","buddyboss"):(0,r.__)("Add New Group Type","buddyboss")),(0,l.createElement)("button",{className:"bb-admin-group-type-modal__close",onClick:t,"aria-label":(0,r.__)("Close","buddyboss")},(0,l.createElement)(b,null))),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__body"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)(o.TextControl,{label:(0,r.__)("Name","buddyboss"),value:d.name,onChange:e=>g("name",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)(o.TextControl,{label:(0,r.__)("Singular Label","buddyboss"),value:d.singular_label,onChange:e=>g("singular_label",e)}),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Plural Label","buddyboss"),value:d.plural_label,onChange:e=>g("plural_label",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section-label"},(0,r.__)("Group Roles","buddyboss")),(0,l.createElement)("p",{className:"bb-admin-group-type-modal__description"},(0,r.__)("Rename the group member roles for groups of this type (optional).","buddyboss")),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection-label"},(0,r.__)("Organizers","buddyboss")),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Plural Label","buddyboss"),placeholder:(0,r.__)("e.g. Organizers","buddyboss"),value:d.organizer_plural_label,onChange:e=>g("organizer_plural_label",e)}),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Singular Label","buddyboss"),placeholder:(0,r.__)("e.g. Organizer","buddyboss"),value:d.organizer_singular_label,onChange:e=>g("organizer_singular_label",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection-label"},(0,r.__)("Moderators","buddyboss")),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Plural Label","buddyboss"),placeholder:(0,r.__)("e.g. Moderators","buddyboss"),value:d.moderator_plural_label,onChange:e=>g("moderator_plural_label",e)}),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Singular Label","buddyboss"),placeholder:(0,r.__)("e.g. Moderator","buddyboss"),value:d.moderator_singular_label,onChange:e=>g("moderator_singular_label",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__subsection-label"},(0,r.__)("Members","buddyboss")),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Plural Label","buddyboss"),placeholder:(0,r.__)("e.g. Members","buddyboss"),value:d.member_plural_label,onChange:e=>g("member_plural_label",e)}),(0,l.createElement)(o.TextControl,{label:(0,r.__)("Singular Label","buddyboss"),placeholder:(0,r.__)("e.g. Member","buddyboss"),value:d.member_singular_label,onChange:e=>g("member_singular_label",e)}))),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section-label"},(0,r.__)("Groups Directory Permissions","buddyboss")),(0,l.createElement)(o.CheckboxControl,{label:(0,r.__)('Display this group type in "Types" filter in Groups Directory',"buddyboss"),checked:d.show_in_directory,onChange:e=>g("show_in_directory",e)}),(0,l.createElement)(o.CheckboxControl,{label:(0,r.__)("Hide all groups of this type from Groups Directory","buddyboss"),checked:d.hide_from_directory,onChange:e=>g("hide_from_directory",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section-label"},(0,r.__)("Group Type Invites","buddyboss")),(0,l.createElement)(o.CheckboxControl,{label:(0,r.__)("Members already in a group of this type can't be invited to another","buddyboss"),checked:d.restrict_invites_by_type,onChange:e=>g("restrict_invites_by_type",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section-label"},(0,r.__)("Profile Type Invites","buddyboss")),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__checkboxes"},m.map((e=>(0,l.createElement)(o.CheckboxControl,{key:e.value,label:e.label,checked:d.profile_type_invites.includes(e.value),onChange:()=>y("profile_type_invites",e.value)})))),(0,l.createElement)("p",{className:"bb-admin-group-type-modal__description"},(0,r.__)("Only members of the selected profile types may be sent requests to join this group. (Leave blank for unrestricted invites).","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section-label"},(0,r.__)("Profile Type Joining","buddyboss")),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__checkboxes"},m.map((e=>(0,l.createElement)(o.CheckboxControl,{key:e.value,label:e.label,checked:d.profile_type_joining.includes(e.value),onChange:()=>y("profile_type_joining",e.value)})))),(0,l.createElement)("p",{className:"bb-admin-group-type-modal__description"},(0,r.__)("Select which profile types can join private groups of this type without approval. Members restricted by Group Access settings cannot join, even if their profile type is allowed above.","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section"},(0,l.createElement)(o.SelectControl,{label:(0,r.__)("Visibility","buddyboss"),value:d.visibility,options:[{label:(0,r.__)("Public","buddyboss"),value:"public"},{label:(0,r.__)("Private","buddyboss"),value:"private"},{label:(0,r.__)("Hidden","buddyboss"),value:"hidden"}],onChange:e=>g("visibility",e)})),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__section bb-admin-group-type-modal__section--last"},(0,l.createElement)(o.SelectControl,{label:(0,r.__)("Label Color","buddyboss"),value:d.label_color,options:[{label:(0,r.__)("Default","buddyboss"),value:"default"},{label:(0,r.__)("Red","buddyboss"),value:"red"},{label:(0,r.__)("Blue","buddyboss"),value:"blue"},{label:(0,r.__)("Green","buddyboss"),value:"green"},{label:(0,r.__)("Yellow","buddyboss"),value:"yellow"}],onChange:e=>g("label_color",e)}))),(0,l.createElement)("div",{className:"bb-admin-group-type-modal__footer"},(0,l.createElement)(o.Button,{variant:"secondary",onClick:t,disabled:u},(0,r.__)("Cancel","buddyboss")),(0,l.createElement)(o.Button,{variant:"primary",onClick:()=>{c(!0),(s?(0,i.Hk)(s.id,d):(0,i.ao)(d)).then((e=>{c(!1),e.success&&e.data?(a(e.data),t()):console.error("Failed to save group type:",e)})).catch((e=>{console.error("Failed to save group type:",e),c(!1)}))},disabled:u||!d.name,isBusy:u},(0,r.__)("Save","buddyboss"))))):null}var _=a(185);function u(){return(0,l.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M3.33329 10L9.16663 16.6667L16.6666 9.16667V3.33333H10.8333L3.33329 10Z",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("circle",{cx:"13.3333",cy:"6.66667",r:"0.833333",fill:"#666"}))}function c(){return(0,l.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",stroke:"#666",strokeWidth:"1.2"}),(0,l.createElement)("path",{d:"M14 14C14 11.7909 11.3137 10 8 10C4.68629 10 2 11.7909 2 14",stroke:"#666",strokeWidth:"1.2",strokeLinecap:"round"}))}function m(){return(0,l.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("circle",{cx:"6",cy:"12",r:"1.5",fill:"#2f2f2f"}),(0,l.createElement)("circle",{cx:"12",cy:"12",r:"1.5",fill:"#2f2f2f"}),(0,l.createElement)("circle",{cx:"18",cy:"12",r:"1.5",fill:"#2f2f2f"}))}function p(){return(0,l.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M8 3.33337V12.6667M3.33337 8.00004H12.6667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function g(){return(0,l.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M12 2.25C6.62 2.25 2.25 6.62 2.25 12C2.25 17.38 6.62 21.75 12 21.75C17.38 21.75 21.75 17.38 21.75 12C21.75 6.62 17.38 2.25 12 2.25ZM12 20.25C7.45 20.25 3.75 16.55 3.75 12C3.75 7.45 7.45 3.75 12 3.75C16.55 3.75 20.25 7.45 20.25 12C20.25 16.55 16.55 20.25 12 20.25Z",fill:"#666"}),(0,l.createElement)("path",{d:"M12 17.25C12.4142 17.25 12.75 16.9142 12.75 16.5C12.75 16.0858 12.4142 15.75 12 15.75C11.5858 15.75 11.25 16.0858 11.25 16.5C11.25 16.9142 11.5858 17.25 12 17.25Z",fill:"#666"}),(0,l.createElement)("path",{d:"M12 6.75C10.21 6.75 8.75 8.21 8.75 10C8.75 10.41 9.09 10.75 9.5 10.75C9.91 10.75 10.25 10.41 10.25 10C10.25 9.04 11.04 8.25 12 8.25C12.96 8.25 13.75 9.04 13.75 10C13.75 10.96 12.96 11.75 12 11.75C11.59 11.75 11.25 12.09 11.25 12.5V14C11.25 14.41 11.59 14.75 12 14.75C12.41 14.75 12.75 14.41 12.75 14V13.17C14.14 12.82 15.25 11.53 15.25 10C15.25 8.21 13.79 6.75 12 6.75Z",fill:"#666"}))}function y(){return(0,l.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M6 1C3.24 1 1 3.24 1 6C1 8.76 3.24 11 6 11C8.76 11 11 8.76 11 6C11 3.24 8.76 1 6 1ZM9.94 5.5H8.06C7.97 4.32 7.63 3.22 7.09 2.31C8.48 2.82 9.59 4.02 9.94 5.5ZM6 9.94C5.31 9.18 4.81 8.26 4.56 7.25H7.44C7.19 8.26 6.69 9.18 6 9.94ZM4.42 6.5C4.39 6.17 4.37 5.84 4.37 5.5C4.37 5.16 4.39 4.83 4.42 4.5H7.58C7.61 4.83 7.63 5.16 7.63 5.5C7.63 5.84 7.61 6.17 7.58 6.5H4.42ZM2.06 5.5C2.41 4.02 3.52 2.82 4.91 2.31C4.37 3.22 4.03 4.32 3.94 5.5H2.06ZM3.94 6.5H2.06C2.41 7.98 3.52 9.18 4.91 9.69C4.37 8.78 4.03 7.68 3.94 6.5ZM7.09 9.69C7.63 8.78 7.97 7.68 8.06 6.5H9.94C9.59 7.98 8.48 9.18 7.09 9.69Z",fill:"currentColor"}))}function v(){return(0,l.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M10 6.25C7.65 6.25 5.5 7.5 3.75 10C5.5 12.5 7.65 13.75 10 13.75C12.35 13.75 14.5 12.5 16.25 10C14.5 7.5 12.35 6.25 10 6.25Z",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("circle",{cx:"10",cy:"10",r:"2.5",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function h(){return(0,l.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M14.1667 2.5C14.3856 2.28113 14.6454 2.10752 14.9314 1.98906C15.2173 1.87061 15.5238 1.80963 15.8333 1.80963C16.1429 1.80963 16.4493 1.87061 16.7353 1.98906C17.0212 2.10752 17.281 2.28113 17.5 2.5C17.7189 2.71887 17.8925 2.97871 18.0109 3.26468C18.1294 3.55064 18.1904 3.85706 18.1904 4.16667C18.1904 4.47627 18.1294 4.78269 18.0109 5.06866C17.8925 5.35462 17.7189 5.61446 17.5 5.83333L6.25 17.0833L1.66667 18.3333L2.91667 13.75L14.1667 2.5Z",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function E(){return(0,l.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)("path",{d:"M2.5 5H4.16667M4.16667 5H17.5M4.16667 5V16.6667C4.16667 17.1087 4.34226 17.5326 4.65482 17.8452C4.96738 18.1577 5.39131 18.3333 5.83333 18.3333H14.1667C14.6087 18.3333 15.0326 18.1577 15.3452 17.8452C15.6577 17.5326 15.8333 17.1087 15.8333 16.6667V5H4.16667ZM6.66667 5V3.33333C6.66667 2.89131 6.84226 2.46738 7.15482 2.15482C7.46738 1.84226 7.89131 1.66667 8.33333 1.66667H11.6667C12.1087 1.66667 12.5326 1.84226 12.8452 2.15482C13.1577 2.46738 13.3333 2.89131 13.3333 3.33333V5",stroke:"#666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function f({onNavigate:e}){const[t,a]=(0,n.useState)([]),[b,f]=(0,n.useState)(!0),[C,w]=(0,n.useState)(!0),[N,k]=(0,n.useState)(!0),[x,M]=(0,n.useState)(null),[L,T]=(0,n.useState)(!0),[S,j]=(0,n.useState)(!1),[H,P]=(0,n.useState)(null),Z=(0,n.useRef)(null),[A,B]=(0,n.useState)([]),[G,z]=(0,n.useState)([]),[D,W]=(0,n.useState)(!0);(0,n.useEffect)((()=>{const e="groups",t=(0,_.dB)(e);if(t)return B(t.sidePanels),z(t.navItems),void W(!1);(0,i.ZU)("bb_admin_get_feature_settings",{feature_id:e}).then((t=>{if(t.success&&t.data){const a=t.data;B(a.side_panels||[]),z(a.navigation||[]),(0,_.nX)(e,a)}W(!1)})).catch((()=>{W(!1)}))}),[]);const V=e=>!0===e||1===e||"1"===e||"true"===e;(0,n.useEffect)((()=>{T(!0),(0,i.bn)(["bp-disable-group-type-creation","bp-enable-group-auto-join"]).then((e=>{if(e.success&&e.data){const t=e.data.platform||{};w(V(t["bp-disable-group-type-creation"])),k(V(t["bp-enable-group-auto-join"]))}T(!1)})).catch((e=>{console.error("Failed to load group type settings:",e),T(!1)}))}),[]),(0,n.useEffect)((()=>{F()}),[]),(0,n.useEffect)((()=>{const e=e=>{Z.current&&!Z.current.contains(e.target)&&M(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const F=()=>{f(!0),(0,i.Dm)().then((e=>{if(e.success&&e.data){const t=e.data||[];a(Array.isArray(t)?t:[])}else a([]);f(!1)})).catch((e=>{console.error("Group Types API Error:",e),a([]),f(!1)}))};return(0,l.createElement)("div",{className:"bb-admin-feature-settings"},(0,l.createElement)("div",{className:"bb-admin-feature-settings__container"},(0,l.createElement)("aside",{className:"bb-admin-feature-settings__sidebar"},D?(0,l.createElement)("div",{className:"bb-admin-loading"},(0,l.createElement)(o.Spinner,null)):(0,l.createElement)(s.E,{featureId:"groups",sidePanels:A,navItems:G,currentPanel:"group_types",onNavigate:e,onBack:()=>{e("/settings/groups")}})),(0,l.createElement)("main",{className:"bb-admin-feature-settings__main"},(0,l.createElement)("div",{className:"bb-admin-group-types"},(0,l.createElement)("div",{className:"bb-admin-group-types__card"},(0,l.createElement)("div",{className:"bb-admin-group-types__card-header"},(0,l.createElement)("h2",null,(0,r.__)("Group Type Settings","buddyboss")),(0,l.createElement)("button",{className:"bb-admin-group-types__help-btn","aria-label":(0,r.__)("Help","buddyboss")},(0,l.createElement)(g,null))),(0,l.createElement)("div",{className:"bb-admin-group-types__settings"},(0,l.createElement)("div",{className:"bb-admin-group-types__setting-row"},(0,l.createElement)("div",{className:"bb-admin-group-types__setting-label"},(0,l.createElement)("span",null,(0,r.__)("Group Types","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-group-types__setting-control"},(0,l.createElement)("div",{className:"bb-admin-group-types__toggle-wrap"},(0,l.createElement)(o.ToggleControl,{checked:C,onChange:e=>{w(e),(0,i.JK)("bp-disable-group-type-creation",e).then((t=>{t.success?console.log("Group Types setting saved:",t):(console.error("Failed to save Group Types setting:",t),w(!e))})).catch((t=>{console.error("Failed to save Group Types setting:",t),w(!e)}))},disabled:L,__nextHasNoMarginBottom:!0}),(0,l.createElement)("span",{className:"bb-admin-group-types__toggle-label"},(0,r.__)("Enable group types","buddyboss"))),(0,l.createElement)("p",{className:"bb-admin-group-types__setting-desc"},(0,r.__)("When enabled,","buddyboss")," ",(0,l.createElement)("span",{className:"bb-admin-group-types__setting-link"},(0,r.__)("group types","buddyboss"))," ",(0,r.__)("allow you to better organize groups.","buddyboss")))),(0,l.createElement)("div",{className:"bb-admin-group-types__setting-row bb-admin-group-types__setting-row--last"},(0,l.createElement)("div",{className:"bb-admin-group-types__setting-label"},(0,l.createElement)("span",null,(0,r.__)("Auto Membership Approval","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-group-types__setting-control"},(0,l.createElement)("div",{className:"bb-admin-group-types__toggle-wrap"},(0,l.createElement)(o.ToggleControl,{checked:N,onChange:e=>{k(e),(0,i.JK)("bp-enable-group-auto-join",e).then((t=>{t.success?console.log("Auto Membership Approval setting saved:",t):(console.error("Failed to save Auto Membership Approval setting:",t),k(!e))})).catch((t=>{console.error("Failed to save Auto Membership Approval setting:",t),k(!e)}))},disabled:L,__nextHasNoMarginBottom:!0}),(0,l.createElement)("span",{className:"bb-admin-group-types__toggle-label"},(0,r.__)("Allow selected profile types to automatically join groups","buddyboss"))),(0,l.createElement)("p",{className:"bb-admin-group-types__setting-desc"},(0,r.__)("When a member requests to join a group their membership is automatically accepted.","buddyboss")))))),(0,l.createElement)("div",{className:"bb-admin-group-types__card bb-admin-group-types__card--list"},(0,l.createElement)("div",{className:"bb-admin-group-types__list-header"},(0,l.createElement)("h2",null,(0,r.__)("Group Types","buddyboss")),(0,l.createElement)("button",{className:"bb-admin-group-types__add-btn",onClick:()=>{P(null),j(!0)}},(0,l.createElement)(p,null),(0,r.__)("Add New Group Type","buddyboss"))),b?(0,l.createElement)("div",{className:"bb-admin-group-types__loading"},(0,l.createElement)(o.Spinner,null)):0===t.length?(0,l.createElement)("div",{className:"bb-admin-group-types__empty"},(0,r.__)("No group types found.","buddyboss")):(0,l.createElement)("div",{className:"bb-admin-group-types__list"},t.map((e=>{const a=e.name||e.id||e.ID,n=e.labels?.name||e.name||e.post_title||"",o=e.labels?.singular_name||e.slug||e.post_name||n,s=e.groups_count||e.count||0,b=e.privacy||"public";return(0,l.createElement)("div",{key:a,className:"bb-admin-group-types__item"},(0,l.createElement)("div",{className:"bb-admin-group-types__col bb-admin-group-types__col--name"},(0,l.createElement)("div",{className:"bb-admin-group-types__item-icon"},(0,l.createElement)(u,null)),(0,l.createElement)("span",{className:"bb-admin-group-types__item-name"},n)),(0,l.createElement)("div",{className:"bb-admin-group-types__col bb-admin-group-types__col--label"},(0,l.createElement)("span",{className:"bb-admin-group-types__badge"},o)),(0,l.createElement)("div",{className:"bb-admin-group-types__col bb-admin-group-types__col--groups"},(0,l.createElement)(c,null),(0,l.createElement)("a",{href:`#/groups/all?type=${a}`,className:"bb-admin-group-types__groups-link"},s," ",1===s?(0,r.__)("group","buddyboss"):(0,r.__)("groups","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-group-types__col bb-admin-group-types__col--visibility"},(0,l.createElement)("span",{className:"bb-admin-group-types__visibility-badge"},(0,l.createElement)(y,null),(0,l.createElement)("span",null,"public"===b?(0,r.__)("Public","buddyboss"):"private"===b?(0,r.__)("Private","buddyboss"):(0,r.__)("Hidden","buddyboss")))),(0,l.createElement)("div",{className:"bb-admin-group-types__col bb-admin-group-types__col--actions",ref:x===a?Z:null},(0,l.createElement)("button",{className:"bb-admin-group-types__ellipsis-btn",onClick:e=>{e.stopPropagation(),M(x===a?null:a)}},(0,l.createElement)(m,null)),x===a&&(0,l.createElement)("div",{className:"bb-admin-group-types__menu"},(0,l.createElement)("button",{onClick:e=>{e.stopPropagation(),(e=>{M(null);const a=t.find((t=>(t.name||t.id||t.ID)===e));P(a),j(!0)})(a)},className:"bb-admin-group-types__menu-item"},(0,l.createElement)(v,null),(0,l.createElement)("span",null,(0,r.__)("View","buddyboss"))),(0,l.createElement)("button",{onClick:e=>{e.stopPropagation(),(e=>{M(null);const a=t.find((t=>(t.name||t.id||t.ID)===e));P(a),j(!0)})(a)},className:"bb-admin-group-types__menu-item"},(0,l.createElement)(h,null),(0,l.createElement)("span",null,(0,r.__)("Edit","buddyboss"))),(0,l.createElement)("button",{onClick:e=>{e.stopPropagation(),(e=>{confirm((0,r.__)("Are you sure you want to delete this group type?","buddyboss"))&&(0,i.ZY)(e).then((e=>{e.success&&(M(null),F())}))})(a)},className:"bb-admin-group-types__menu-item bb-admin-group-types__menu-delete"},(0,l.createElement)(E,null),(0,l.createElement)("span",null,(0,r.__)("Delete","buddyboss"))))))}))))))),(0,l.createElement)(d,{isOpen:S,onClose:()=>{j(!1),P(null)},onSave:e=>{F()},groupType:H}))}}}]);