"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[564],{564:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(609),n=a(87),l=a(723),r=a(427),i=a(455),o=a.n(i),d=a(291);function c({status:e}){return"public"===e?(0,s.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M8 1.33337C4.32 1.33337 1.33337 4.32004 1.33337 8.00004C1.33337 11.68 4.32 14.6667 8 14.6667C11.68 14.6667 14.6667 11.68 14.6667 8.00004C14.6667 4.32004 11.68 1.33337 8 1.33337ZM8 13.3334C5.05337 13.3334 2.66671 10.9467 2.66671 8.00004C2.66671 5.05337 5.05337 2.66671 8 2.66671C10.9467 2.66671 13.3334 5.05337 13.3334 8.00004C13.3334 10.9467 10.9467 13.3334 8 13.3334Z",fill:"currentColor"})):"private"===e?(0,s.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M12.6667 5.33337H11.3334V4.00004C11.3334 2.16004 9.84004 0.666707 8.00004 0.666707C6.16004 0.666707 4.66671 2.16004 4.66671 4.00004V5.33337H3.33337C2.60004 5.33337 2.00004 5.93337 2.00004 6.66671V13.3334C2.00004 14.0667 2.60004 14.6667 3.33337 14.6667H12.6667C13.4 14.6667 14 14.0667 14 13.3334V6.66671C14 5.93337 13.4 5.33337 12.6667 5.33337ZM8.00004 11.3334C7.26671 11.3334 6.66671 10.7334 6.66671 10C6.66671 9.26671 7.26671 8.66671 8.00004 8.66671C8.73337 8.66671 9.33337 9.26671 9.33337 10C9.33337 10.7334 8.73337 11.3334 8.00004 11.3334ZM10.0667 5.33337H5.93337V4.00004C5.93337 2.86004 6.86004 1.93337 8.00004 1.93337C9.14004 1.93337 10.0667 2.86004 10.0667 4.00004V5.33337Z",fill:"currentColor"})):(0,s.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M8 3.33337C4.66667 3.33337 1.82 5.34004 0.666672 8.00004C1.82 10.66 4.66667 12.6667 8 12.6667C11.3333 12.6667 14.18 10.66 15.3333 8.00004C14.18 5.34004 11.3333 3.33337 8 3.33337ZM8 11C6.34667 11 5 9.65337 5 8.00004C5 6.34671 6.34667 5.00004 8 5.00004C9.65333 5.00004 11 6.34671 11 8.00004C11 9.65337 9.65333 11 8 11ZM8 6.33337C7.08 6.33337 6.33333 7.08004 6.33333 8.00004C6.33333 8.92004 7.08 9.66671 8 9.66671C8.92 9.66671 9.66667 8.92004 9.66667 8.00004C9.66667 7.08004 8.92 6.33337 8 6.33337Z",fill:"currentColor"}),(0,s.createElement)("line",{x1:"2",y1:"14",x2:"14",y2:"2",stroke:"currentColor",strokeWidth:"1.5"}))}function m(){return(0,s.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",stroke:"#666",strokeWidth:"1.2"}),(0,s.createElement)("path",{d:"M14 14C14 11.7909 11.3137 10 8 10C4.68629 10 2 11.7909 2 14",stroke:"#666",strokeWidth:"1.2",strokeLinecap:"round"}))}function u(){return(0,s.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("circle",{cx:"8",cy:"8",r:"6",stroke:"#666",strokeWidth:"1.2"}),(0,s.createElement)("path",{d:"M8 4.66669V8.00002L10 10",stroke:"#666",strokeWidth:"1.2",strokeLinecap:"round"}))}function b(){return(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("circle",{cx:"12",cy:"6",r:"1.5",fill:"#2f2f2f"}),(0,s.createElement)("circle",{cx:"12",cy:"12",r:"1.5",fill:"#2f2f2f"}),(0,s.createElement)("circle",{cx:"12",cy:"18",r:"1.5",fill:"#2f2f2f"}))}function _(){return(0,s.createElement)("div",{className:"bb-admin-groups-list__default-avatar"},(0,s.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M12 12.75C8.83 12.75 6.25 10.17 6.25 7C6.25 3.83 8.83 1.25 12 1.25C15.17 1.25 17.75 3.83 17.75 7C17.75 10.17 15.17 12.75 12 12.75ZM12 2.75C9.66 2.75 7.75 4.66 7.75 7C7.75 9.34 9.66 11.25 12 11.25C14.34 11.25 16.25 9.34 16.25 7C16.25 4.66 14.34 2.75 12 2.75Z",fill:"#666"}),(0,s.createElement)("path",{d:"M20.59 22.75C20.18 22.75 19.84 22.41 19.84 22C19.84 18.55 16.32 15.75 12 15.75C7.68 15.75 4.16 18.55 4.16 22C4.16 22.41 3.82 22.75 3.41 22.75C3 22.75 2.66 22.41 2.66 22C2.66 17.73 6.85 14.25 12 14.25C17.15 14.25 21.34 17.73 21.34 22C21.34 22.41 21 22.75 20.59 22.75Z",fill:"#666"})))}function p(){return(0,s.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M9.16667 15.8333C12.8486 15.8333 15.8333 12.8486 15.8333 9.16667C15.8333 5.48477 12.8486 2.5 9.16667 2.5C5.48477 2.5 2.5 5.48477 2.5 9.16667C2.5 12.8486 5.48477 15.8333 9.16667 15.8333Z",stroke:"#3d3d3d",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.createElement)("path",{d:"M17.5 17.5L13.875 13.875",stroke:"#3d3d3d",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}function g({onNavigate:e}){const[t,a]=(0,n.useState)([]),[i,g]=(0,n.useState)([]),[h,v]=(0,n.useState)(!0),[E,y]=(0,n.useState)(0),[C,w]=(0,n.useState)(1),[N]=(0,n.useState)(20),[f,k]=(0,n.useState)(""),[x,M]=(0,n.useState)([]),[S,L]=(0,n.useState)(""),[Z,P]=(0,n.useState)(""),[B,A]=(0,n.useState)("last_activity"),[W,D]=(0,n.useState)(null),[V,H]=(0,n.useState)([]),[T,$]=(0,n.useState)([]);(0,n.useEffect)((()=>{j(),I(),G()}),[C,f,Z,B]);const G=()=>{o()({path:"/buddyboss/v1/features/groups/settings"}).then((e=>{const t=e.data||e;console.log("Groups sidebar data:",t),H(t.side_panels||[]),$(t.navigation||[])})).catch((e=>{console.error("Error loading sidebar data:",e)}))},j=()=>{v(!0);const e=new URLSearchParams({page:C.toString(),per_page:N.toString(),orderby:B,order:"desc",show_hidden:"true"});f&&e.append("search",f),Z&&e.append("status",Z),o()({path:`/buddyboss/v1/groups?${e.toString()}`,parse:!1}).then((e=>{const t=parseInt(e.headers.get("X-WP-Total")||"0",10);return y(t),e.json()})).then((e=>{console.log("Groups data:",e),a(Array.isArray(e)?e:[]),v(!1)})).catch((e=>{console.error("Error loading groups:",e),v(!1)}))},I=()=>{o()({path:"/buddyboss/v1/groups/types"}).then((e=>{g(e.data||[])})).catch((()=>{}))},U=e=>e.group_type?.group_type_label?e.group_type.group_type_label:e.types&&Array.isArray(e.types)&&e.types.length>0?e.types[0]:e.type_name?e.type_name:"",F=e=>e.avatar_urls?.thumb?e.avatar_urls.thumb:e.avatar?e.avatar:null,J=Math.ceil(E/N);return(0,s.createElement)("div",{className:"bb-admin-feature-settings"},(0,s.createElement)("div",{className:"bb-admin-feature-settings__container"},(0,s.createElement)("aside",{className:"bb-admin-feature-settings__sidebar"},(0,s.createElement)(d.E,{sidePanels:V,navItems:T,currentPanel:"all_groups",featureId:"groups",onNavigate:t=>{e?e(t):window.location.hash=t},onBack:()=>{e?e("/settings"):window.location.hash="#/settings"}})),(0,s.createElement)("main",{className:"bb-admin-feature-settings__main"},(0,s.createElement)("div",{className:"bb-admin-groups-list"},(0,s.createElement)("div",{className:"bb-admin-groups-list__card"},(0,s.createElement)("div",{className:"bb-admin-groups-list__section-header"},(0,s.createElement)("div",{className:"bb-admin-groups-list__section-header-content"},(0,s.createElement)("h2",{className:"bb-admin-groups-list__section-title"},(0,l.__)("Groups","buddyboss")),(0,s.createElement)("button",{className:"bb-admin-groups-list__create-btn",onClick:()=>{window.location.hash="#/groups/create"}},(0,s.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,s.createElement)("path",{d:"M8 3.33337V12.6667M3.33337 8.00004H12.6667",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),(0,l.__)("Create New Group","buddyboss")))),(0,s.createElement)("div",{className:"bb-admin-groups-list__action-bar"},(0,s.createElement)("div",{className:"bb-admin-groups-list__action-wrap"},(0,s.createElement)("div",{className:"bb-admin-groups-list__action-left"},(0,s.createElement)("div",{className:"bb-admin-groups-list__filter-group"},(0,s.createElement)("select",{value:S,onChange:e=>L(e.target.value),className:"bb-admin-groups-list__select"},(0,s.createElement)("option",{value:""},(0,l.__)("Bulk actions","buddyboss")),(0,s.createElement)("option",{value:"delete"},(0,l.__)("Delete","buddyboss"))),(0,s.createElement)("button",{className:"bb-admin-groups-list__apply-btn "+(S&&0!==x.length?"":"bb-admin-groups-list__apply-btn--disabled"),onClick:()=>{if(S&&0!==x.length&&"delete"===S){if(!confirm((0,l.__)("Are you sure you want to delete the selected groups?","buddyboss")))return;Promise.all(x.map((e=>o()({path:`/buddyboss/v1/groups/${e}`,method:"DELETE"})))).then((()=>{M([]),j()}))}},disabled:!S||0===x.length},(0,l.__)("Apply","buddyboss")))),(0,s.createElement)("div",{className:"bb-admin-groups-list__action-right"},(0,s.createElement)("select",{value:Z,onChange:e=>P(e.target.value),className:"bb-admin-groups-list__select"},(0,s.createElement)("option",{value:""},(0,l.__)("All","buddyboss")," (",E,")"),(0,s.createElement)("option",{value:"public"},(0,l.__)("Public","buddyboss")),(0,s.createElement)("option",{value:"private"},(0,l.__)("Private","buddyboss")),(0,s.createElement)("option",{value:"hidden"},(0,l.__)("Hidden","buddyboss"))),(0,s.createElement)("select",{value:B,onChange:e=>A(e.target.value),className:"bb-admin-groups-list__select"},(0,s.createElement)("option",{value:"last_activity"},(0,l.__)("Newest","buddyboss")),(0,s.createElement)("option",{value:"date_created"},(0,l.__)("Date Created","buddyboss")),(0,s.createElement)("option",{value:"name"},(0,l.__)("Name","buddyboss")),(0,s.createElement)("option",{value:"total_member_count"},(0,l.__)("Member Count","buddyboss"))),(0,s.createElement)("div",{className:"bb-admin-groups-list__search-wrap"},(0,s.createElement)("input",{type:"text",value:f,onChange:e=>k(e.target.value),placeholder:(0,l.__)("Search groups","buddyboss"),className:"bb-admin-groups-list__search-input"}),(0,s.createElement)(p,null))))),(0,s.createElement)("div",{className:"bb-admin-groups-list__table-header"},(0,s.createElement)("div",{className:"bb-admin-groups-list__table-header-wrap"},(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--name"},(0,s.createElement)(r.CheckboxControl,{checked:t.length>0&&x.length===t.length,onChange:e=>{M(e?t.map((e=>e.id)):[])}}),(0,s.createElement)("span",null,(0,l.__)("Name","buddyboss"))),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--privacy"},(0,l.__)("Privacy","buddyboss")),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--members"},(0,l.__)("Members","buddyboss")),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--type"},(0,l.__)("Group Type","buddyboss")),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--activity"},(0,l.__)("Last Active","buddyboss")))),(0,s.createElement)("div",{className:"bb-admin-groups-list__table-body"},h?(0,s.createElement)("div",{className:"bb-admin-groups-list__loading"},(0,s.createElement)(r.Spinner,null)):0===t.length?(0,s.createElement)("div",{className:"bb-admin-groups-list__empty"},(0,l.__)("No groups found.","buddyboss")):t.map((e=>{return(0,s.createElement)("div",{key:e.id,className:"bb-admin-groups-list__row"},(0,s.createElement)("div",{className:"bb-admin-groups-list__row-wrap"},(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--name"},(0,s.createElement)(r.CheckboxControl,{checked:x.includes(e.id),onChange:t=>((e,t)=>{M(t?[...x,e]:x.filter((t=>t!==e)))})(e.id,t)}),F(e)?(0,s.createElement)("img",{src:F(e),alt:"",className:"bb-admin-groups-list__avatar"}):(0,s.createElement)(_,null),(0,s.createElement)("a",{href:`#/groups/${e.id}/edit`,className:"bb-admin-groups-list__name-link",title:e.name},e.name)),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--privacy"},(0,s.createElement)("span",{className:`bb-admin-groups-list__privacy-badge bb-admin-groups-list__privacy-badge--${e.status}`},(0,s.createElement)(c,{status:e.status}),(0,s.createElement)("span",null,(t=e.status,{public:(0,l.__)("Public","buddyboss"),private:(0,l.__)("Private","buddyboss"),hidden:(0,l.__)("Hidden","buddyboss")}[t]||t)))),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--members"},(0,s.createElement)(m,null),(0,s.createElement)("a",{href:`#/groups/${e.id}/members`,className:"bb-admin-groups-list__members-link"},(e=>void 0!==e.total_member_count?e.total_member_count:void 0!==e.member_count?e.member_count:0)(e))),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--type"},U(e)&&(0,s.createElement)("span",{className:"bb-admin-groups-list__type-badge"},U(e))),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--activity"},(0,s.createElement)(u,null),(0,s.createElement)("span",{className:"bb-admin-groups-list__activity-text"},(e=>{if(!e)return(0,l.__)("No activity","buddyboss");const t=new Date(e);if(isNaN(t.getTime()))return e;const a=new Date-t,s=Math.floor(a/864e5),n=Math.floor(a/36e5),r=Math.floor(a/6e4);if(r<1)return(0,l.__)("Just now","buddyboss");if(r<60)return r+" "+(0,l.__)("min ago","buddyboss");if(n<24)return n+" "+(1===n?(0,l.__)("hour ago","buddyboss"):(0,l.__)("hours ago","buddyboss"));if(s<30)return s+" "+(1===s?(0,l.__)("day ago","buddyboss"):(0,l.__)("days ago","buddyboss"));{const e={day:"2-digit",month:"short",year:"numeric"};return t.toLocaleDateString("en-US",e)}})(e.last_activity||e.date_created))),(0,s.createElement)("div",{className:"bb-admin-groups-list__col bb-admin-groups-list__col--actions"},(0,s.createElement)("button",{className:"bb-admin-groups-list__action-btn",onClick:()=>D(W===e.id?null:e.id)},(0,s.createElement)(b,null)),W===e.id&&(0,s.createElement)("div",{className:"bb-admin-groups-list__action-menu"},(0,s.createElement)("button",{onClick:()=>{window.location.hash=`#/groups/${e.id}/edit`,D(null)}},(0,l.__)("Edit","buddyboss")),(0,s.createElement)("button",{onClick:()=>{var t;t=e.id,confirm((0,l.__)("Are you sure you want to delete this group?","buddyboss"))&&o()({path:`/buddyboss/v1/groups/${t}`,method:"DELETE"}).then((()=>{j()})).catch((e=>{console.error("Failed to delete group:",e)})),D(null)},className:"bb-admin-groups-list__action-menu-delete"},(0,l.__)("Delete","buddyboss"))))));var t})))),J>1&&(0,s.createElement)("div",{className:"bb-admin-groups-list__pagination"},(0,s.createElement)("div",{className:"bb-admin-groups-list__pagination-info"},(0,l.__)("Page","buddyboss")," ",C," ",(0,l.__)("of","buddyboss")," ",J),(0,s.createElement)("div",{className:"bb-admin-groups-list__pagination-buttons"},(0,s.createElement)("button",{className:"bb-admin-groups-list__pagination-btn",disabled:1===C,onClick:()=>w(C-1)},(0,l.__)("Previous","buddyboss")),(0,s.createElement)("button",{className:"bb-admin-groups-list__pagination-btn",disabled:C>=J,onClick:()=>w(C+1)},(0,l.__)("Next","buddyboss"))))))))}}}]);