"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[564],{564:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var l=a(609),s=a(87),n=a(723),d=a(427),r=a(455),o=a.n(r);function u(){const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[u,b]=(0,s.useState)(0),[c,i]=(0,s.useState)(1),[_]=(0,s.useState)(20),[m,p]=(0,s.useState)(""),[y,E]=(0,s.useState)({status:"",type:"",orderby:"date_created",order:"DESC"});(0,s.useEffect)((()=>{h()}),[c,m,y]);const h=()=>{r(!0);const e=new URLSearchParams({page:c.toString(),per_page:_.toString(),orderby:y.orderby,order:y.order});m&&e.append("search",m),y.status&&e.append("status",y.status),y.type&&e.append("type",y.type),o()({path:`/buddyboss/v1/groups?${e.toString()}`}).then((e=>{t(e.data||[]),b(e.pagination?.total||0),r(!1)})).catch((()=>{r(!1)}))},g=Math.ceil(u/_);return a&&0===e.length?(0,l.createElement)("div",{className:"bb-admin-groups-list bb-admin-loading"},(0,l.createElement)(d.Spinner,null)):(0,l.createElement)("div",{className:"bb-admin-groups-list"},(0,l.createElement)("div",{className:"bb-admin-groups-list__header"},(0,l.createElement)("h1",null,(0,n.__)("All Groups","buddyboss")),(0,l.createElement)(d.Button,{variant:"primary",onClick:()=>{window.location.hash="#/groups/create"}},(0,n.__)("Create Group","buddyboss"))),(0,l.createElement)("div",{className:"bb-admin-groups-list__filters"},(0,l.createElement)(d.TextControl,{value:m,onChange:p,placeholder:(0,n.__)("Search groups...","buddyboss"),className:"bb-admin-groups-list__search"}),(0,l.createElement)(d.SelectControl,{label:(0,n.__)("Status","buddyboss"),value:y.status,options:[{label:(0,n.__)("All Statuses","buddyboss"),value:""},{label:(0,n.__)("Public","buddyboss"),value:"public"},{label:(0,n.__)("Private","buddyboss"),value:"private"},{label:(0,n.__)("Hidden","buddyboss"),value:"hidden"}],onChange:e=>E({...y,status:e})}),(0,l.createElement)(d.SelectControl,{label:(0,n.__)("Order By","buddyboss"),value:y.orderby,options:[{label:(0,n.__)("Date Created","buddyboss"),value:"date_created"},{label:(0,n.__)("Name","buddyboss"),value:"name"},{label:(0,n.__)("Last Activity","buddyboss"),value:"last_activity"},{label:(0,n.__)("Member Count","buddyboss"),value:"total_member_count"}],onChange:e=>E({...y,orderby:e})})),(0,l.createElement)("div",{className:"bb-admin-groups-list__table"},(0,l.createElement)("table",{className:"wp-list-table widefat fixed striped"},(0,l.createElement)("thead",null,(0,l.createElement)("tr",null,(0,l.createElement)("th",null,(0,n.__)("ID","buddyboss")),(0,l.createElement)("th",null,(0,n.__)("Name","buddyboss")),(0,l.createElement)("th",null,(0,n.__)("Status","buddyboss")),(0,l.createElement)("th",null,(0,n.__)("Members","buddyboss")),(0,l.createElement)("th",null,(0,n.__)("Created","buddyboss")),(0,l.createElement)("th",null,(0,n.__)("Actions","buddyboss")))),(0,l.createElement)("tbody",null,e.map((e=>(0,l.createElement)("tr",{key:e.id},(0,l.createElement)("td",null,e.id),(0,l.createElement)("td",null,(0,l.createElement)("div",{className:"bb-admin-groups-list__group"},(0,l.createElement)("img",{src:e.avatar,alt:"",className:"bb-admin-groups-list__avatar"}),(0,l.createElement)("strong",null,e.name))),(0,l.createElement)("td",null,e.status),(0,l.createElement)("td",null,e.member_count),(0,l.createElement)("td",null,e.date_created_formatted),(0,l.createElement)("td",null,(0,l.createElement)(d.Button,{variant:"link",onClick:()=>{window.location.hash=`#/groups/${e.id}/edit`}},(0,n.__)("Edit","buddyboss")),(0,l.createElement)(d.Button,{variant:"link",isDestructive:!0,onClick:()=>(e=>{if(!confirm((0,n.__)("Are you sure you want to delete this group?","buddyboss")))return;const t=bbAdminData?.nonce||"";o()({path:`/buddyboss/v1/groups/${e}`,method:"DELETE",headers:{"X-WP-Nonce":t}}).then((()=>{h()})).catch((e=>{console.error("Failed to delete group:",e)}))})(e.id)},(0,n.__)("Delete","buddyboss"))))))))),g>1&&(0,l.createElement)("div",{className:"bb-admin-groups-list__pagination"},(0,l.createElement)(d.Button,{variant:"secondary",disabled:1===c,onClick:()=>i(c-1)},(0,n.__)("Previous","buddyboss")),(0,l.createElement)("span",{className:"bb-admin-groups-list__page-info"},(0,n.__)("Page","buddyboss")," ",c," ",(0,n.__)("of","buddyboss")," ",g," (",u," ",(0,n.__)("total","buddyboss"),")"),(0,l.createElement)(d.Button,{variant:"secondary",disabled:c>=g,onClick:()=>i(c+1)},(0,n.__)("Next","buddyboss"))))}}}]);