"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[141],{141:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var s=a(609),n=a(87),d=a(723),o=a(427),l=a(455),u=a.n(l);function r({mode:e,groupId:t}){const[a,l]=(0,n.useState)(null),[r,i]=(0,n.useState)({name:"",description:"",status:"public",group_type:"",parent_id:0}),[c,b]=(0,n.useState)("edit"===e),[p,m]=(0,n.useState)(!1),[_,y]=(0,n.useState)(null),[h,v]=(0,n.useState)(!1);(0,n.useEffect)((()=>{"edit"===e&&t&&g()}),[e,t]);const g=()=>{b(!0),u()({path:`/buddyboss/v1/groups/${t}`}).then((e=>{const t=e.data;l(t),i({name:t.name||"",description:t.description||"",status:t.status||"public",group_type:t.type||"",parent_id:t.parent_id||0}),b(!1)})).catch((()=>{b(!1)}))};return c?(0,s.createElement)("div",{className:"bb-admin-group-edit bb-admin-loading"},(0,s.createElement)(o.Spinner,null)):(0,s.createElement)("div",{className:"bb-admin-group-edit"},(0,s.createElement)("div",{className:"bb-admin-group-edit__header"},(0,s.createElement)("h1",null,"create"===e?(0,d.__)("Create Group","buddyboss"):(0,d.__)("Edit Group","buddyboss"))),h&&(0,s.createElement)(o.Notice,{status:"success",isDismissible:!0,onRemove:()=>v(!1)},(0,d.__)("Group saved successfully.","buddyboss")),_&&(0,s.createElement)(o.Notice,{status:"error",isDismissible:!0,onRemove:()=>y(null)},_),(0,s.createElement)(o.Card,{className:"bb-admin-group-edit__form"},(0,s.createElement)(o.CardHeader,null,(0,s.createElement)("h2",null,(0,d.__)("Group Details","buddyboss"))),(0,s.createElement)(o.CardBody,null,(0,s.createElement)(o.TextControl,{label:(0,d.__)("Group Name","buddyboss"),value:r.name,onChange:e=>i({...r,name:e}),required:!0}),(0,s.createElement)(o.TextareaControl,{label:(0,d.__)("Description","buddyboss"),value:r.description,onChange:e=>i({...r,description:e})}),(0,s.createElement)(o.RadioControl,{label:(0,d.__)("Privacy/Status","buddyboss"),selected:r.status,options:[{label:(0,d.__)("Public","buddyboss"),value:"public"},{label:(0,d.__)("Private","buddyboss"),value:"private"},{label:(0,d.__)("Hidden","buddyboss"),value:"hidden"}],onChange:e=>i({...r,status:e})}))),(0,s.createElement)("div",{className:"bb-admin-group-edit__actions"},(0,s.createElement)(o.Button,{variant:"primary",isBusy:p,onClick:()=>{m(!0),y(null),v(!1);const a=bbAdminData?.nonce||"",s="create"===e?"POST":"PUT",n="create"===e?"/buddyboss/v1/groups":`/buddyboss/v1/groups/${t}`;u()({path:n,method:s,headers:{"X-WP-Nonce":a,"Content-Type":"application/json"},data:r}).then((t=>{m(!1),v(!0),"create"===e?window.location.hash=`#/groups/${t.data.id}/edit`:g(),setTimeout((()=>{v(!1)}),3e3)})).catch((e=>{y(e.message||(0,d.__)("Failed to save group.","buddyboss")),m(!1)}))},disabled:!r.name},"create"===e?(0,d.__)("Create Group","buddyboss"):(0,d.__)("Save Changes","buddyboss")),(0,s.createElement)(o.Button,{variant:"secondary",onClick:()=>{window.location.hash="#/groups/all"}},(0,d.__)("Cancel","buddyboss"))))}}}]);