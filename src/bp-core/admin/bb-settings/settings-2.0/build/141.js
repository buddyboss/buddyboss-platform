"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[141],{141:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var n=a(609),i=a(87),r=a(723),u=a(427),s=a(239);function o({mode:e,groupId:t}){const[a,o]=(0,i.useState)(null),[d,_]=(0,i.useState)({name:"",description:"",status:"public",group_type:"",parent_id:0}),[c,b]=(0,i.useState)("edit"===e),[l,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(null),[y,v]=(0,i.useState)(!1);(0,i.useEffect)((()=>{"edit"===e&&t&&f()}),[e,t]);const f=()=>{b(!0),(0,s.Wx)(t).then((e=>{if(e.success&&e.data){const t=e.data;o(t),_({name:t.name||"",description:t.description||"",status:t.status||"public",group_type:t.group_type||"",parent_id:t.parent_id||0})}b(!1)})).catch((()=>{b(!1)}))};return c?(0,n.createElement)("div",{className:"bb-admin-group-edit bb-admin-loading"},(0,n.createElement)(u.Spinner,null)):(0,n.createElement)("div",{className:"bb-admin-group-edit"},(0,n.createElement)("div",{className:"bb-admin-group-edit__header"},(0,n.createElement)("h1",null,"create"===e?(0,r.__)("Create Group","buddyboss"):(0,r.__)("Edit Group","buddyboss"))),y&&(0,n.createElement)(u.Notice,{status:"success",isDismissible:!0,onRemove:()=>v(!1)},(0,r.__)("Group saved successfully.","buddyboss")),m&&(0,n.createElement)(u.Notice,{status:"error",isDismissible:!0,onRemove:()=>g(null)},m),(0,n.createElement)(u.Card,{className:"bb-admin-group-edit__form"},(0,n.createElement)(u.CardHeader,null,(0,n.createElement)("h2",null,(0,r.__)("Group Details","buddyboss"))),(0,n.createElement)(u.CardBody,null,(0,n.createElement)(u.TextControl,{label:(0,r.__)("Group Name","buddyboss"),value:d.name,onChange:e=>_({...d,name:e}),required:!0}),(0,n.createElement)(u.TextareaControl,{label:(0,r.__)("Description","buddyboss"),value:d.description,onChange:e=>_({...d,description:e})}),(0,n.createElement)(u.RadioControl,{label:(0,r.__)("Privacy/Status","buddyboss"),selected:d.status,options:[{label:(0,r.__)("Public","buddyboss"),value:"public"},{label:(0,r.__)("Private","buddyboss"),value:"private"},{label:(0,r.__)("Hidden","buddyboss"),value:"hidden"}],onChange:e=>_({...d,status:e})}))),(0,n.createElement)("div",{className:"bb-admin-group-edit__actions"},(0,n.createElement)(u.Button,{variant:"primary",isBusy:l,onClick:()=>{p(!0),g(null),v(!1),("create"===e?(0,s.wj)(d):(0,s.vW)(t,d)).then((t=>{p(!1),t.success&&t.data?(v(!0),"create"===e?window.location.hash=`#/groups/${t.data.id}/edit`:f(),setTimeout((()=>{v(!1)}),3e3)):g((0,r.__)("Failed to save group.","buddyboss"))})).catch((e=>{g(e.message||(0,r.__)("Failed to save group.","buddyboss")),p(!1)}))},disabled:!d.name},"create"===e?(0,r.__)("Create Group","buddyboss"):(0,r.__)("Save Changes","buddyboss")),(0,n.createElement)(u.Button,{variant:"secondary",onClick:()=>{window.location.hash="#/groups/all"}},(0,r.__)("Cancel","buddyboss"))))}},239:(e,t,a)=>{function n(e,t={}){const a=window.bbAdminData?.ajaxUrl||"/wp-admin/admin-ajax.php",n=window.bbAdminData?.ajaxNonce||"",i=new FormData;return i.append("action",e),i.append("nonce",n),Object.keys(t).forEach((e=>{i.append(e,t[e])})),fetch(a,{method:"POST",credentials:"same-origin",body:i}).then((e=>e.json()))}function i(e){return n("bb_admin_get_platform_settings",{options:e})}function r(e,t){return n("bb_admin_save_platform_setting",{option_name:e,option_value:t})}function u(){return n("bb_admin_get_appearance_settings")}function s(e){return n("bb_admin_save_appearance_settings",e)}function o(){return n("bb_admin_get_activity_types")}function d(){return n("bb_admin_get_activity_topics")}function _(e={}){return n("bb_admin_get_activities",e)}function c(e,t){return n("bb_admin_update_activity",{activity_id:e,...t})}function b(e){return n("bb_admin_delete_activity",{activity_id:e})}function l(e,t=!0){return n("bb_admin_spam_activity",{activity_id:e,is_spam:t?"1":"0"})}function p(e={}){return n("bb_admin_get_groups",e)}function m(e){return n("bb_admin_get_group",{group_id:e})}function g(e){return n("bb_admin_create_group",e)}function y(e,t){return n("bb_admin_update_group",{group_id:e,...t})}function v(e){return n("bb_admin_delete_group",{group_id:e})}function f(){return n("bb_admin_get_group_types")}function h(e){return n("bb_admin_create_group_type",e)}function E(e,t){return n("bb_admin_update_group_type",{type_id:e,...t})}function C(e){return n("bb_admin_delete_group_type",{type_id:e})}a.d(t,{$y:()=>b,Dm:()=>f,GJ:()=>d,Hk:()=>E,Hs:()=>s,J0:()=>c,JK:()=>r,Ni:()=>v,TO:()=>o,Wx:()=>m,ZU:()=>n,ZY:()=>C,ah:()=>_,ao:()=>h,bn:()=>i,f:()=>p,nR:()=>l,q:()=>u,vW:()=>y,wj:()=>g})}}]);