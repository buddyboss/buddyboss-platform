"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[141],{141:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(609),d=a(87),n=a(723),l=a(427),o=a(239);function u({mode:e,groupId:t}){const[a,u]=(0,d.useState)(null),[i,r]=(0,d.useState)({name:"",description:"",status:"public",group_type:"",parent_id:0}),[c,b]=(0,d.useState)("edit"===e),[m,_]=(0,d.useState)(!1),[p,y]=(0,d.useState)(null),[v,g]=(0,d.useState)(!1);(0,d.useEffect)((()=>{"edit"===e&&t&&h()}),[e,t]);const h=()=>{b(!0),(0,o.Wx)(t).then((e=>{if(e.success&&e.data){const t=e.data;u(t),r({name:t.name||"",description:t.description||"",status:t.status||"public",group_type:t.group_type||"",parent_id:t.parent_id||0})}b(!1)})).catch((()=>{b(!1)}))};return c?(0,s.createElement)("div",{className:"bb-admin-group-edit bb-admin-loading"},(0,s.createElement)(l.Spinner,null)):(0,s.createElement)("div",{className:"bb-admin-group-edit"},(0,s.createElement)("div",{className:"bb-admin-group-edit__header"},(0,s.createElement)("h1",null,"create"===e?(0,n.__)("Create Group","buddyboss"):(0,n.__)("Edit Group","buddyboss"))),v&&(0,s.createElement)(l.Notice,{status:"success",isDismissible:!0,onRemove:()=>g(!1)},(0,n.__)("Group saved successfully.","buddyboss")),p&&(0,s.createElement)(l.Notice,{status:"error",isDismissible:!0,onRemove:()=>y(null)},p),(0,s.createElement)(l.Card,{className:"bb-admin-group-edit__form"},(0,s.createElement)(l.CardHeader,null,(0,s.createElement)("h2",null,(0,n.__)("Group Details","buddyboss"))),(0,s.createElement)(l.CardBody,null,(0,s.createElement)(l.TextControl,{label:(0,n.__)("Group Name","buddyboss"),value:i.name,onChange:e=>r({...i,name:e}),required:!0}),(0,s.createElement)(l.TextareaControl,{label:(0,n.__)("Description","buddyboss"),value:i.description,onChange:e=>r({...i,description:e})}),(0,s.createElement)(l.RadioControl,{label:(0,n.__)("Privacy/Status","buddyboss"),selected:i.status,options:[{label:(0,n.__)("Public","buddyboss"),value:"public"},{label:(0,n.__)("Private","buddyboss"),value:"private"},{label:(0,n.__)("Hidden","buddyboss"),value:"hidden"}],onChange:e=>r({...i,status:e})}))),(0,s.createElement)("div",{className:"bb-admin-group-edit__actions"},(0,s.createElement)(l.Button,{variant:"primary",isBusy:m,onClick:()=>{_(!0),y(null),g(!1),("create"===e?(0,o.wj)(i):(0,o.vW)(t,i)).then((t=>{_(!1),t.success&&t.data?(g(!0),"create"===e?window.location.hash=`#/groups/${t.data.id}/edit`:h(),setTimeout((()=>{g(!1)}),3e3)):y((0,n.__)("Failed to save group.","buddyboss"))})).catch((e=>{y(e.message||(0,n.__)("Failed to save group.","buddyboss")),_(!1)}))},disabled:!i.name},"create"===e?(0,n.__)("Create Group","buddyboss"):(0,n.__)("Save Changes","buddyboss")),(0,s.createElement)(l.Button,{variant:"secondary",onClick:()=>{window.location.hash="#/groups/all"}},(0,n.__)("Cancel","buddyboss"))))}}}]);