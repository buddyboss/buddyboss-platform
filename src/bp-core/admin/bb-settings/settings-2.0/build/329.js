"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[329],{329:(e,t,s)=>{s.r(t),s.d(t,{default:()=>b});var n=s(609),a=s(87),r=s(723),l=s(427),o=s(455),i=s.n(o),c=s(291);function d(){return(0,n.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M2.66663 7.99996L7.33329 13.3333L13.3333 7.33329V2.66663H8.66663L2.66663 7.99996Z",stroke:"#666",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,n.createElement)("circle",{cx:"10.6666",cy:"5.33329",r:"0.666667",fill:"#666"}))}function m(){return(0,n.createElement)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",stroke:"#666",strokeWidth:"1.2"}),(0,n.createElement)("path",{d:"M14 14C14 11.7909 11.3137 10 8 10C4.68629 10 2 11.7909 2 14",stroke:"#666",strokeWidth:"1.2",strokeLinecap:"round"}))}function u(){return(0,n.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("circle",{cx:"12",cy:"6",r:"1.5",fill:"#2f2f2f"}),(0,n.createElement)("circle",{cx:"12",cy:"12",r:"1.5",fill:"#2f2f2f"}),(0,n.createElement)("circle",{cx:"12",cy:"18",r:"1.5",fill:"#2f2f2f"}))}function p({status:e}){return"public"===e?(0,n.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M8 1.33337C4.32 1.33337 1.33337 4.32004 1.33337 8.00004C1.33337 11.68 4.32 14.6667 8 14.6667C11.68 14.6667 14.6667 11.68 14.6667 8.00004C14.6667 4.32004 11.68 1.33337 8 1.33337ZM8 13.3334C5.05337 13.3334 2.66671 10.9467 2.66671 8.00004C2.66671 5.05337 5.05337 2.66671 8 2.66671C10.9467 2.66671 13.3334 5.05337 13.3334 8.00004C13.3334 10.9467 10.9467 13.3334 8 13.3334Z",fill:"currentColor"})):"private"===e?(0,n.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M12.6667 5.33337H11.3334V4.00004C11.3334 2.16004 9.84004 0.666707 8.00004 0.666707C6.16004 0.666707 4.66671 2.16004 4.66671 4.00004V5.33337H3.33337C2.60004 5.33337 2.00004 5.93337 2.00004 6.66671V13.3334C2.00004 14.0667 2.60004 14.6667 3.33337 14.6667H12.6667C13.4 14.6667 14 14.0667 14 13.3334V6.66671C14 5.93337 13.4 5.33337 12.6667 5.33337ZM8.00004 11.3334C7.26671 11.3334 6.66671 10.7334 6.66671 10C6.66671 9.26671 7.26671 8.66671 8.00004 8.66671C8.73337 8.66671 9.33337 9.26671 9.33337 10C9.33337 10.7334 8.73337 11.3334 8.00004 11.3334ZM10.0667 5.33337H5.93337V4.00004C5.93337 2.86004 6.86004 1.93337 8.00004 1.93337C9.14004 1.93337 10.0667 2.86004 10.0667 4.00004V5.33337Z",fill:"currentColor"})):(0,n.createElement)("svg",{width:"12",height:"12",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)("path",{d:"M8 3.33337C4.66667 3.33337 1.82 5.34004 0.666672 8.00004C1.82 10.66 4.66667 12.6667 8 12.6667C11.3333 12.6667 14.18 10.66 15.3333 8.00004C14.18 5.34004 11.3333 3.33337 8 3.33337ZM8 11C6.34667 11 5 9.65337 5 8.00004C5 6.34671 6.34667 5.00004 8 5.00004C9.65333 5.00004 11 6.34671 11 8.00004C11 9.65337 9.65333 11 8 11ZM8 6.33337C7.08 6.33337 6.33333 7.08004 6.33333 8.00004C6.33333 8.92004 7.08 9.66671 8 9.66671C8.92 9.66671 9.66667 8.92004 9.66667 8.00004C9.66667 7.08004 8.92 6.33337 8 6.33337Z",fill:"currentColor"}),(0,n.createElement)("line",{x1:"2",y1:"14",x2:"14",y2:"2",stroke:"currentColor",strokeWidth:"1.5"}))}function b({onNavigate:e}){const[t,s]=(0,a.useState)([]),[o,b]=(0,a.useState)(!0),[g,_]=(0,a.useState)(!0),[y,h]=(0,a.useState)(!0),[E,v]=(0,a.useState)(null),[C,f]=(0,a.useState)(!0),w=(0,a.useRef)(null),[N,k]=(0,a.useState)([]),[x,M]=(0,a.useState)([]),[A,T]=(0,a.useState)(!0);(0,a.useEffect)((()=>{i()({path:"/buddyboss/v1/features/groups/settings"}).then((e=>{k(e.data?.side_panels||[]),M(e.data?.navigation||[]),T(!1)})).catch((()=>{T(!1)}))}),[]),(0,a.useEffect)((()=>{f(!0),i()({path:"/buddyboss/v1/settings"}).then((e=>{const t=e.platform||{};_(!!t["bp-disable-group-type-creation"]),h(!!t["bp-enable-group-auto-join"]),f(!1)})).catch((e=>{console.error("Failed to load group type settings:",e),f(!1)}))}),[]),(0,a.useEffect)((()=>{S()}),[]),(0,a.useEffect)((()=>{const e=e=>{w.current&&!w.current.contains(e.target)&&v(null)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const S=()=>{b(!0),i()({path:"/buddyboss/v1/groups/types"}).then((e=>{console.log("Group Types API Response:",e);const t=e.data||e||[];s(Array.isArray(t)?t:[]),b(!1)})).catch((e=>{console.error("Group Types API Error:",e),s([]),b(!1)}))};return(0,n.createElement)("div",{className:"bb-admin-feature-settings"},(0,n.createElement)("div",{className:"bb-admin-feature-settings__container"},(0,n.createElement)("aside",{className:"bb-admin-feature-settings__sidebar"},A?(0,n.createElement)("div",{className:"bb-admin-loading"},(0,n.createElement)(l.Spinner,null)):(0,n.createElement)(c.E,{featureId:"groups",sidePanels:N,navItems:x,currentPanel:"group_types",onNavigate:e,onBack:()=>{e("/settings/groups")}})),(0,n.createElement)("main",{className:"bb-admin-feature-settings__main"},(0,n.createElement)("div",{className:"bb-admin-group-types"},(0,n.createElement)("div",{className:"bb-admin-group-types__header"},(0,n.createElement)("h2",null,(0,r.__)("Group Type Settings","buddyboss")),(0,n.createElement)("button",{className:"bb-admin-group-types__help-btn","aria-label":(0,r.__)("Help","buddyboss")},(0,n.createElement)("i",{className:"bb-icon-l-question"}))),(0,n.createElement)("div",{className:"bb-admin-group-types__card"},(0,n.createElement)("div",{className:"bb-admin-group-types__settings"},(0,n.createElement)("div",{className:"bb-admin-group-types__setting-item"},(0,n.createElement)("div",{className:"bb-admin-group-types__setting-content"},(0,n.createElement)("h3",null,(0,r.__)("Group Types","buddyboss")),(0,n.createElement)("p",null,(0,r.__)("When enabled, group types allow you to better organize groups.","buddyboss"))),(0,n.createElement)("div",{className:"bb-admin-group-types__setting-toggle"},(0,n.createElement)(l.ToggleControl,{checked:g,onChange:e=>{_(e);const t=bbAdminData?.nonce||"";i()({path:"/buddyboss/v1/settings",method:"POST",headers:{"X-WP-Nonce":t},data:{"bp-disable-group-type-creation":e}}).then((e=>{console.log("Group Types setting saved:",e)})).catch((t=>{console.error("Failed to save Group Types setting:",t),_(!e)}))},disabled:C,__nextHasNoMarginBottom:!0}))),(0,n.createElement)("div",{className:"bb-admin-group-types__setting-item"},(0,n.createElement)("div",{className:"bb-admin-group-types__setting-content"},(0,n.createElement)("h3",null,(0,r.__)("Auto Membership Approval","buddyboss")),(0,n.createElement)("p",null,(0,r.__)("When a member requests to join a group their membership is automatically accepted.","buddyboss"))),(0,n.createElement)("div",{className:"bb-admin-group-types__setting-toggle"},(0,n.createElement)(l.ToggleControl,{checked:y,onChange:e=>{h(e);const t=bbAdminData?.nonce||"";i()({path:"/buddyboss/v1/settings",method:"POST",headers:{"X-WP-Nonce":t},data:{"bp-enable-group-auto-join":e}}).then((e=>{console.log("Auto Membership Approval setting saved:",e)})).catch((t=>{console.error("Failed to save Auto Membership Approval setting:",t),h(!e)}))},disabled:C,__nextHasNoMarginBottom:!0})))),(0,n.createElement)("div",{className:"bb-admin-group-types__list-section"},(0,n.createElement)("div",{className:"bb-admin-group-types__list-header"},(0,n.createElement)("h3",null,(0,r.__)("Group Types","buddyboss")),(0,n.createElement)("button",{className:"bb-admin-group-types__add-btn"},(0,n.createElement)("span",null,"+"),(0,r.__)("Add New Group Type","buddyboss"))),o?(0,n.createElement)("div",{className:"bb-admin-group-types__loading"},(0,n.createElement)(l.Spinner,null)):0===t.length?(0,n.createElement)("div",{className:"bb-admin-group-types__empty"},(0,r.__)("No group types found.","buddyboss")):(0,n.createElement)("div",{className:"bb-admin-group-types__list"},t.map((t=>{const s=t.id||t.ID,a=t.name||t.post_title||"",l=t.slug||t.post_name||"",o=t.groups_count||t.count||0,c=t.privacy||"public";return(0,n.createElement)("div",{key:s,className:"bb-admin-group-types__item"},(0,n.createElement)("div",{className:"bb-admin-group-types__item-icon"},(0,n.createElement)(d,null)),(0,n.createElement)("div",{className:"bb-admin-group-types__item-name"},a),(0,n.createElement)("div",{className:"bb-admin-group-types__item-slug"},l),(0,n.createElement)("div",{className:"bb-admin-group-types__item-groups"},(0,n.createElement)(m,null),(0,n.createElement)("a",{href:`#/groups?type=${l}`,className:"bb-admin-group-types__item-link"},o," ",1===o?(0,r.__)("group","buddyboss"):(0,r.__)("groups","buddyboss"))),(0,n.createElement)("div",{className:"bb-admin-group-types__item-privacy"},(0,n.createElement)(p,{status:c}),(0,n.createElement)("span",null,"public"===c?(0,r.__)("Public","buddyboss"):"private"===c?(0,r.__)("Private","buddyboss"):(0,r.__)("Hidden","buddyboss"))),(0,n.createElement)("div",{className:"bb-admin-group-types__item-actions",ref:E===s?w:null},(0,n.createElement)("button",{className:"bb-admin-group-types__ellipsis-btn",onClick:()=>v(E===s?null:s)},(0,n.createElement)(u,null)),E===s&&(0,n.createElement)("div",{className:"bb-admin-group-types__menu"},(0,n.createElement)("button",{onClick:()=>(t=>{v(null),e(`/settings/groups/types/${t}/edit`)})(s)},(0,r.__)("Edit","buddyboss")),(0,n.createElement)("button",{onClick:()=>(e=>{confirm((0,r.__)("Are you sure you want to delete this group type?","buddyboss"))&&i()({path:`/buddyboss/v1/groups/types/${e}`,method:"DELETE",headers:{"X-WP-Nonce":bbAdminData?.nonce||""}}).then((()=>{v(null),S()}))})(s)},(0,r.__)("Delete","buddyboss")))))})))))))))}}}]);