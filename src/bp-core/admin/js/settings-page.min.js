!function(){var e=jQuery.noConflict(),t=[],a=[];e(function(){e("[data-run-js-condition]").each(function(){var t=e(this).data("run-js-condition"),a=e(this).prop("tagName");e(this).on("change.run-condition",function(){if("SELECT"===a&&e(this).is(":visible")){var s=t+"-"+e(this).val();return e('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+s+")").hide(),e(".js-show-on-"+s).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}e(this).prop("checked")&&e(this).is(":visible")?(e(".js-hide-on-"+t).hide(),e(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(e(".js-hide-on-"+t).show(),e(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),e("body.buddypress.buddyboss_page_bp-pages .bp-admin-card").length>1&&e(".create-background-page").click(function(){var t=e(this).attr("data-name");e.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:t},success:function(e){window.location.href=e.data.url}})}),e(".bp-search-child-field").on("click",'input[type="checkbox"]',function(t){var a=e(t.delegateTarget).prevAll(".bp-search-parent-field").first();a.length&&t.currentTarget.checked&&a.find('input[type="checkbox"]').prop("checked",!0)}),e(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(t){var a=e(t.delegateTarget).nextUntil(".bp-search-parent-field");a.length&&!t.currentTarget.checked&&a.find('input[type="checkbox"]').prop("checked",!1)})}),e(document).ready(function(){var s=e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");if(e("body.buddypress.post-type-bp-group-type").length){var i=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]');e(s).removeClass("current"),e(i).addClass("current"),e(i).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")}if(e("body.buddypress.post-type-bp-email").length){var n=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]');e(s).removeClass("current"),e(n).addClass("current"),e(n).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")}if(e("body.buddypress.post-type-topic").length){var o=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');e(o).addClass("current"),e(o).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(e("body.buddypress.post-type-reply").length){var r=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');e(r).addClass("current"),e(r).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(e("body.buddypress.post-type-bp-member-type").length){var p=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');e(s).removeClass("current"),e(p).addClass("current"),e(p).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(e("body.buddypress.post-type-bp_ps_form").length){var d=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');e(s).removeClass("current"),e(d).addClass("current"),e(d).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(e("body.buddypress.buddyboss_page_bbp-repair").length){var c=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');e(s).removeClass("current"),e(c).addClass("current"),e(c).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(e("body.buddypress.buddyboss_page_bbp-converter").length){var u=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');e(s).removeClass("current"),e(u).addClass("current"),e(u).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(e("body.buddypress.buddyboss_page_bp-media-import").length){var l=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');e(s).removeClass("current"),e(l).addClass("current"),e(l).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(e("body.buddypress.buddyboss_page_bp-member-type-import").length||e("body.buddypress.buddyboss_page_bp-repair-community").length){var m=e('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');e(s).removeClass("current"),e(m).addClass("current"),e(m).attr("aria-current","page"),e("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}e("body .section-bp_search_settings_community").length&&(e("body .section-bp_search_settings_community table td input:checkbox:checked").length===e("body .section-bp_search_settings_community table td input:checkbox").length&&e("#bp_search_select_all_components").prop("checked",!0),e("#bp_search_select_all_components").click(function(){var t=e("body .section-bp_search_settings_community table");e("td input:checkbox",t).prop("checked",this.checked)}),e("body .section-bp_search_settings_community table td input:checkbox").click(function(){e("body .section-bp_search_settings_community table td input:checkbox:checked").length===e("body .section-bp_search_settings_community table td input:checkbox").length?e("#bp_search_select_all_components").prop("checked",!0):e("#bp_search_select_all_components").prop("checked",!1)})),e("body .section-bp_search_settings_post_types").length&&(e("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===e("body .section-bp_search_settings_post_types table td input:checkbox").length&&e("#bp_search_select_all_post_types").prop("checked",!0),e("#bp_search_select_all_post_types").click(function(){var t=e("body .section-bp_search_settings_post_types table");e("td input:checkbox",t).prop("checked",this.checked)}),e("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){e("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===e("body .section-bp_search_settings_post_types table td input:checkbox").length?e("#bp_search_select_all_post_types").prop("checked",!0):e("#bp_search_select_all_post_types").prop("checked",!1)})),e(".buddyboss_page_bp-activity").length&&e(document).on("click",".activity-attached-gif-container",function(t){t.preventDefault();var a=e(this).find("video").get(0),s=e(this).find(".gif-play-button");!0===a.paused?(a.play(),s.hide()):(a.pause(),s.show())}),e("body.buddyboss_page_bp-help").length&&(e(".bp-help-card-grid").on("click","span.open",function(){e(this).toggleClass("active"),e(this).closest(".main").find("ul:first").toggle()}),e(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),e(".bp-help-card-grid li.selected").find("ul:first").show(),e(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),e(".bp-help-card-grid .sub-menu-count").each(function(){e(this).text("("+e(this).closest("li").find("ul:first li").size()+")")})),e(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?e(".bp-enable-group-restrict-invites").show():e(".bp-enable-group-restrict-invites").hide(),e(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?e(".bp-enable-group-restrict-invites").show():(e(".bp-enable-group-restrict-invites").hide(),e("#bp-enable-group-restrict-invites").prop("checked",!1))})),e("#bp_media_profile_media_support").change(function(){this.checked?e("#bp_media_profile_albums_support").prop("disabled",!1):(e("#bp_media_profile_albums_support").prop("disabled",!0),e("#bp_media_profile_albums_support").attr("checked",!1))}),e("#bp_media_group_media_support").change(function(){this.checked?e("#bp_media_group_albums_support").prop("disabled",!1):(e("#bp_media_group_albums_support").prop("disabled",!0),e("#bp_media_group_albums_support").attr("checked",!1))}),e(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){e('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var b=function(){e.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(t){if(void 0!==t.success&&void 0!==t.data){var a=t.data.total_media,s=t.data.total_albums,i=t.data.albums_done,n=t.data.media_done,o=t.data.import_status;e("#bp-media-import-albums-total").text(s),e("#bp-media-import-media-total").text(a),e("#bp-media-import-albums-done").text(i),e("#bp-media-import-media-done").text(n),"reset_albums"==o||"reset_media"==o||"reset_forum"==o||"reset_topic"==o||"reset_reply"==o||"reset_options"==o?e("#bp-media-resetting").show():e("#bp-media-resetting").hide(),"done"==o&&s==i&&a==n?(e("#bp-media-import-msg").text(t.data.success_msg),e("#bp-media-import-submit").show()):b()}else e("#bp-media-import-msg").text(t.data.error_msg)},error:function(){}})};if(e("#bp-media-import-updating").length&&b(),e(".display-options").length){var _=e(".display-options"),h=e("select[name=bp-display-name-format]"),f=h.val();e(_).each(function(){e(this).hide()}),"first_name"===f?(e(".first-name-options").show(),e(".nick-name-options").hide(),e(".first-last-name-options").hide()):"first_last_name"===f?(e(".first-last-name-options").show(),e(".first-name-options").hide(),e(".nick-name-options").hide()):(e(".nick-name-options").show(),e(".first-name-options").hide(),e(".first-last-name-options").hide()),e(h).change(function(){e(_).each(function(){e(this).hide()}),"first_name"===(f=e(this).val())?(e(".first-name-options").show(),e(".nick-name-options").hide(),e(".first-last-name-options").hide()):"first_last_name"===f?(e(".first-last-name-options").show(),e(".first-name-options").hide(),e(".nick-name-options").hide()):(e(".nick-name-options").show(),e(".first-name-options").hide(),e(".first-last-name-options").hide())})}if(e("#bp-tools-submit").length){var g=function(a,s){e('body .section-repair_community .settings fieldset .checkbox label[for="'+t[s]+'"]').append('<div class="loader-repair-tools"></div>'),e.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:t[s],offset:a,nonce:e('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(a){void 0!==a.success&&void 0!==a.data&&("running"===a.data.status?(e('body .section-repair_community .settings fieldset .checkbox label[for="'+t[s]+'"] .loader-repair-tools').remove(),e('body .section-repair_community .settings fieldset .checkbox label[for="'+t[s]+'"] code').remove(),e('body .section-repair_community .settings fieldset .checkbox label[for="'+t[s]+'"]').append("<code>"+a.data.records+"</code>"),g(a.data.offset,s)):(e('body .section-repair_community .settings fieldset .checkbox label[for="'+t[s]+'"] .loader-repair-tools').remove(),e(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+a.data.message+"</p></div>"),s+=1,g(a.data.offset,s)),t.length===s&&e("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return e("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})};e(document).on("click","#bp-tools-submit",function(a){a.preventDefault(),t=[],setTimeout(function(){e("body .section-repair_community .settings fieldset .updated").remove()},500),e.each(e('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){t.push(e(this).val())}),t.length&&(e("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),e("body .section-repair_community .settings fieldset .checkbox code").remove(),g(1,0))})}if(e("#bp-tools-forum-submit").length){var y=function(t,s){e('body .section-repair_forums .settings fieldset .checkbox label[for="'+a[s]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==a[s]&&e.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:a[s],offset:t,nonce:e('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(t){void 0!==t.success&&void 0!==t.data&&("running"===t.data.status?(e('body .section-repair_forums .settings fieldset .checkbox label[for="'+a[s]+'"] .loader-repair-tools').remove(),e('body .section-repair_forums .settings fieldset .checkbox label[for="'+a[s]+'"] code').remove(),e('body .section-repair_forums .settings fieldset .checkbox label[for="'+a[s]+'"]').append("<code>"+t.data.records+"</code>"),y(t.data.offset,s)):(e('body .section-repair_forums .settings fieldset .checkbox label[for="'+a[s]+'"] .loader-repair-tools').remove(),0===t.data.status?e(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+t.data.message+"</p></div>"):e(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+t.data.message+"</p></div>"),s+=1,y(t.data.offset,s)),a.length===s&&e("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return e("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})};e(document).on("click","#bp-tools-forum-submit",function(t){t.preventDefault(),a=[],setTimeout(function(){e("body .section-repair_forums .settings fieldset .updated").remove()},500),e.each(e('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){a.push(e(this).val())}),a.length&&(e("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),e("body .section-repair_forums .settings fieldset .checkbox code").remove(),y(1,0))})}})}();