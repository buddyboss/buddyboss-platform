window.bp=window.bp||{},function(){function e(e,t,i){var o=new Date;o.setTime(o.getTime()+60*i*1e3);var a="expires="+o.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function i(){s(".bb-sortable .registration-restrictions-rule:not(.custom)").each(function(e){s(this).find(".registration-restrictions-priority").html(e+1)})}function o(e,t){var i=s("#bb-domain-restrictions-setting"),o=[],a=[];e&&e.currentTarget&&s(e.currentTarget).closest(".registration-restrictions-rule").hasClass("untouched")&&s(e.currentTarget).closest(".registration-restrictions-rule").removeClass("untouched"),"submit"!==t&&"remove"!==t&&"add"!==t||s(".registration-restrictions-rule").removeClass("untouched"),s(".bb-domain-restrictions-listing .registration-restrictions-rule").not(".custom").not(".untouched").each(function(){var e=s(this).find(".registration-restrictions-domain").val().trim().toLowerCase(),n=s(this).find(".registration-restrictions-tld").val().trim().toLowerCase(),r=s(this).find(".registration-restrictions-input-select").val();s(this).removeClass("error"),i.children(".restrictions-error").html(""),""!==e&&""!==n&&(void 0===o[e+"_"+n]?o[e+"_"+n]=1:(o[e+"_"+n]+=1,s(this).addClass("error"),a.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate)||a.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate))),"submit"!==t&&"remove"!==t&&"add"!==t||""!==e&&""!==n&&""!==r||(s(this).addClass("error"),a.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty)||a.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty))}),s("#bb-domain-restrictions-setting").children(".restrictions-error").html("");for(var n=0;n<a.length;n++){var r="<p>"+a[n]+"</p>";s("#bb-domain-restrictions-setting").children(".restrictions-error").append(r)}a.length>0&&"submit"===t&&e.preventDefault()}function a(e,t){var i=[],o=[];s("#bb-email-restrictions-setting .registration-restrictions-rule").not(".custom").each(function(){var a=s(this).find(".registration-restrictions-domain").val().trim().toLowerCase(),n=s(this).find(".registration-restrictions-input-select").val();""!==a&&(void 0===i[a]?(i[a]=1,s(this).removeClass("error")):(i[a]+=1,s(this).addClass("error"),o.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate)||o.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate)));var r=!("submit"!==t&&"remove"!==t&&"add"!==t||""!==a&&""!==n),p=e&&e.currentTarget,c=p&&e.currentTarget.classList.contains("registration-restrictions-input-select")&&""===n,d=p&&e.currentTarget.classList.contains("registration-restrictions-domain")&&""===a;(r||c||d)&&(s(this).addClass("error"),o.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty)||o.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty))}),s("#bb-email-restrictions-setting").children(".restrictions-error").html("");for(var a=0;a<o.length;a++){var n="<p>"+o[a]+"</p>";s("#bb-email-restrictions-setting").children(".restrictions-error").append(n)}o.length>0&&"submit"===t&&e.preventDefault()}function n(e){return s.grep(e,function(t,i){return i===s.inArray(t,e)})}var s=jQuery.noConflict(),r=[],p=[];s(function(){var e=s(".edit-php.post-type-bp-email"),i=e.find(".page-title-action:first");i.after(BP_ADMIN.email_template.html),s(document).on("click",".btn-open-missing-email",function(e){if(e.preventDefault(),s(document).find("#bp-hello-backdrop").length);else{var t=s(document).find(".bp-hello-email");s('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(t)}var i=document.getElementById("bp-hello-backdrop"),o=document.getElementById("bp-hello-container");if(null!==i){document.body.classList.add("bp-disable-scroll"),i.style.display="",o.style.display="";var a=o.querySelectorAll("a[href], button");a=Array.prototype.slice.call(a),a[0].focus()}});var o=s.bbGetParameterByName("popup");"yes"===o&&s(".btn-open-missing-email").trigger("click");var a=t("scrollto");"bpmissingemails"===a&&(s("html, body").animate({scrollTop:s("#bp-missing-emails").offset().top},1500),s(".label-bp-missing-emails").css("background-color","#faafaa"),setTimeout(function(){s(".label-bp-missing-emails").css("background-color","transparent")},1500));var n=t("scrollto");"bpreinstallemails"===n&&(s("html, body").animate({scrollTop:s("#bp-reinstall-emails").offset().top},1500),s(".label-bp-reinstall-emails").css("background-color","#faafaa"),setTimeout(function(){s(".label-bp-reinstall-emails").css("background-color","transparent")},1500)),s("[data-run-js-condition]").each(function(){var e=s(this).data("run-js-condition"),t=s(this).prop("tagName");s(this).on("change.run-condition",function(){if("SELECT"===t&&s(this).is(":visible")){var i=e+"-"+s(this).val();return s('[class*="js-show-on-'+e+'-"]:not(.js-show-on-'+i+")").hide(),s(".js-show-on-"+i).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}var o=s(this).prop("checked");o&&s(this).is(":visible")?(s(".js-hide-on-"+e).hide(),s(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition")):(s(".js-hide-on-"+e).show(),s(".js-show-on-"+e).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")});var r=s(document).find(".buddyboss_page_bp-pages .bp-admin-card").length;r&&s(document).on("click",".create-background-page",function(){var e=s(this).attr("data-name");s.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),s(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=s(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),s(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=s(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)}),s(document).on("change","#bpm_blocking_member_blocking",function(){s('label[for="bpm_blocking_auto_suspend"]').toggleClass("is_disabled"),s("#bpm_blocking_auto_suspend").prop("checked",!1),s('label[for="bpm_blocking_email_notification"]').removeClass("is_disabled"),!1===s("#bpm_blocking_member_blocking").prop("checked")&&!1===s("#bb_blocking_member_reporting").prop("checked")&&(s("#bpm_blocking_email_notification").prop("checked",!1),s('label[for="bpm_blocking_email_notification"]').addClass("is_disabled"))}),s(document).on("change","#bb_blocking_member_reporting",function(){s('label[for="bb_reporting_auto_suspend"]').toggleClass("is_disabled"),s("#bb_reporting_auto_suspend").prop("checked",!1),s('label[for="bpm_blocking_email_notification"]').removeClass("is_disabled"),!1===s("#bpm_blocking_member_blocking").prop("checked")&&!1===s("#bb_blocking_member_reporting").prop("checked")&&(s("#bpm_blocking_email_notification").prop("checked",!1),s('label[for="bpm_blocking_email_notification"]').addClass("is_disabled"))}),!1===s("#bpm_blocking_member_blocking").prop("checked")&&!1===s("#bb_blocking_member_reporting").prop("checked")&&(s("#bpm_blocking_email_notification").prop("checked",!1),s('label[for="bpm_blocking_email_notification"]').addClass("is_disabled")),s("#bb_reporting_category_description").length&&s(".wp-heading-inline").append(s("#bb_reporting_category_description")),s('body.taxonomy-bpm_category span:contains("Slug")').each(function(){s(this).parent().remove()}),s(".taxonomy-bpm_category #the-list").on("click","button.editinline",function(e){e.preventDefault();var t=s(this).closest("tr"),i=t.find("td.bb_category_show_when_reporting").text();""!==i&&(s('tr.inline-edit-row select[name="bb_category_show_when_reporting"] option').prop("selected",!1),s('tr.inline-edit-row select[name="bb_category_show_when_reporting"] option').filter(function(){return this.text===i}).prop("selected",!0))})}),s(document).ready(function(){function t(e,t,i){e.find(".bp-feedback").removeClass("success error").addClass(i).find("p").html(t),e.show()}function i(){s(".document-extensions-listing .extension-icon").each(function(){if(0===s(this).closest("td").find(".icon-select-main").length){var e=[];s(this).closest("td").find("select.extension-icon option").each(function(){var t=s(this).val(),i=this.innerText,o='<li><i class="'+t+'"></i><span>'+i+"</span></li>";e.push(o)}),s(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+e+"</ul></div></div>");var t=s(this).closest("td").find(".extension-icon").val(),i=s(this).closest("td").find(".extension-icon option:selected").text();s(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+t+'"></i><span>'+i+"</span></li>")}})}var o=s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");if(s("body.buddypress.post-type-bp-group-type").length){var a=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]');s(o).removeClass("current"),s(a).addClass("current"),s(a).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")}if(s("body.buddypress.post-type-bp-email").length){var n=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]');s(o).removeClass("current"),s(n).addClass("current"),s(n).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")}if(s("body.buddypress.post-type-topic").length){var c=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');s(c).addClass("current"),s(c).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(s("body.buddypress.post-type-reply").length){var d=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');s(d).addClass("current"),s(d).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(s("body.buddypress.post-type-bp-member-type").length){var l=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');s(o).removeClass("current"),s(l).addClass("current"),s(l).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(s("body.buddypress.post-type-bp_ps_form").length){var u=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');s(o).removeClass("current"),s(u).addClass("current"),s(u).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(s("body.buddypress.buddyboss_page_bbp-repair").length){var m=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');s(o).removeClass("current"),s(m).addClass("current"),s(m).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(s("body.buddypress.buddyboss_page_bbp-converter").length){var b=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');s(o).removeClass("current"),s(b).addClass("current"),s(b).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(s("body.buddypress.buddyboss_page_bp-media-import").length){var h=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');s(o).removeClass("current"),s(h).addClass("current"),s(h).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(s("body.buddypress.buddyboss_page_bp-member-type-import").length||s("body.buddypress.buddyboss_page_bp-repair-community").length){var f=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');s(o).removeClass("current"),s(f).addClass("current"),s(f).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(s("body.buddypress.taxonomy-bpm_category").length){var g=s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu li"),v=s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform"),y=s('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-moderation"]');s(g).removeClass("wp-has-current-submenu"),s(g).removeClass("wp-menu-open"),s(v).addClass("wp-has-current-submenu wp-menu-open"),s(o).removeClass("current"),s(y).addClass("current"),s(y).attr("aria-current","page"),s("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-moderation"]').parent().addClass("current")}if(s("body .section-bp_search_settings_community").length&&(s("body .section-bp_search_settings_community table td input:checkbox:checked").length===s("body .section-bp_search_settings_community table td input:checkbox").length&&s("#bp_search_select_all_components").prop("checked",!0),s("#bp_search_select_all_components").click(function(){var e=s("body .section-bp_search_settings_community table");s("td input:checkbox",e).prop("checked",this.checked)}),s("body .section-bp_search_settings_community table td input:checkbox").click(function(){s("body .section-bp_search_settings_community table td input:checkbox:checked").length===s("body .section-bp_search_settings_community table td input:checkbox").length?s("#bp_search_select_all_components").prop("checked",!0):s("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===s(this).attr("id")&&!0===s(this).prop("checked")&&!1===s("#bp_search_post_type_topic").prop("checked")&&s("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===s(this).attr("id")&&!0!==s(this).prop("checked")&&!0===s("#bp_search_topic_tax_topic-tag").prop("checked")&&s("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),s("body .section-bp_search_settings_post_types").length&&(s("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===s("body .section-bp_search_settings_post_types table td input:checkbox").length&&s("#bp_search_select_all_post_types").prop("checked",!0),s("#bp_search_select_all_post_types").click(function(){var e=s("body .section-bp_search_settings_post_types table");s("td input:checkbox",e).prop("checked",this.checked)}),s("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){s("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===s("body .section-bp_search_settings_post_types table td input:checkbox").length?s("#bp_search_select_all_post_types").prop("checked",!0):s("#bp_search_select_all_post_types").prop("checked",!1)})),s("body .section-bp_document_settings_extensions").length&&(s(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&s("#bp_select_extensions").prop("checked",!0),s("#bp_select_extensions").click(function(){var e=s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");s("td input:checkbox",e).prop("checked",this.checked)}),s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===s("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?s("#bp_select_extensions").prop("checked",!0):s("#bp_select_extensions").prop("checked",!1)}),s("form").submit(function(){var e=!1;if(s('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){var t=s.trim(s(this).val());""===t?(s(this).addClass("error"),e=!0):s(this).hasClass("error")&&s(this).removeClass("error")}),e)return!1})),s(".buddyboss_page_bp-activity").length&&s(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=s(this).find("video").get(0),i=s(this).find(".gif-play-button");!0===t.paused?(t.play(),i.hide()):(t.pause(),i.show())}),s("body.buddyboss_page_bp-help").length&&(s(".bp-help-card-grid").on("click","span.open",function(){s(this).toggleClass("active"),s(this).closest(".main").find("ul:first").toggle()}),s(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),s(".bp-help-card-grid li.selected").find("ul:first").show(),s(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),s(".bp-help-card-grid .sub-menu-count").each(function(){s(this).text("("+s(this).closest("li").find("ul:first li").size()+")")})),s(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length){var w=document.getElementById("bp-enable-group-hierarchies");w.checked?s(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():s(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),s(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?s(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(s(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),s("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))}),s(document).on("click","#bp-enable-group-restrict-invites",function(){if(!0===this.checked)return!!confirm(BP_ADMIN.group.restrict_invites_confirm_message)})}if(s(".buddyboss_page_bp-settings .section-bp_groups").length){var k=document.getElementById("bp-disable-group-type-creation");k.checked?s(".bb-group-headers-elements .bb-group-headers-element-group-type").show():s(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),s(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(s(".bb-group-headers-elements .bb-group-headers-element-group-type").show(),s(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!0)):(s(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),s(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!1))})}if(s(".buddyboss_page_bp-settings .section-bp_groups").length){var x=document.getElementById("bp-disable-group-cover-image-uploads");x.checked?s(".bb-group-elements .bb-group-element-cover-images").show():s(".bb-group-elements .bb-group-element-cover-images").hide(),s(document).on("click","#bp-disable-group-cover-image-uploads",function(){!0===this.checked?(s(".bb-group-elements .bb-group-element-cover-images").show(),s(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!0)):(s(".bb-group-elements .bb-group-element-cover-images").hide(),s(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!1))})}if(s(".buddyboss_page_bp-settings .section-bp_groups").length){var C=document.getElementById("bp-disable-group-avatar-uploads");C.checked?s(".bb-group-elements .bb-group-element-avatars").show():s(".bb-group-elements .bb-group-element-avatars").hide(),s(document).on("click","#bp-disable-group-avatar-uploads",function(){!0===this.checked?(s(".bb-group-elements .bb-group-element-avatars").show(),s(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!0)):(s(".bb-group-elements .bb-group-element-avatars").hide(),s(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!1))})}if(s(".buddyboss_page_bp-settings .section-bp_groups_types").length){var D=document.getElementById("bp-disable-group-type-creation");D.checked?s(".bb-group-elements .bb-group-element-group-type").show():s(".bb-group-elements .bb-group-element-group-type").hide(),s(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(s(".bb-group-elements .bb-group-element-group-type").show(),s(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!0)):(s(".bb-group-elements .bb-group-element-group-type").hide(),s(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!1))})}s(".buddyboss_page_bp-settings .section-bp_custom_post_type").length&&(s(".bp-feed-post-type-checkbox").each(function(){var e=s(this).data("post_type");!0===this.checked&&s(".bp-feed-post-type-comment-"+e).closest("tr").show()}),s(".buddyboss_page_bp-settings .section-bp_custom_post_type").on("click",".bp-feed-post-type-checkbox",function(){var e=s(this).data("post_type"),t=s(".bp-feed-post-type-comment-"+e);!0===this.checked?t.closest("tr").show():t.prop("checked",!1).closest("tr").hide()})),s("#bp_media_profile_media_support").change(function(){this.checked?s("#bp_media_profile_albums_support").prop("disabled",!1):(s("#bp_media_profile_albums_support").prop("disabled",!0),s("#bp_media_profile_albums_support").attr("checked",!1))}),s("#bp_media_group_media_support").change(function(){this.checked?s("#bp_media_group_albums_support").prop("disabled",!1):(s("#bp_media_group_albums_support").prop("disabled",!0),s("#bp_media_group_albums_support").attr("checked",!1))}),s("body .section-bp_video_settings_extensions").length&&(s(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),s(".video-extensions-listing #bp_select_extensions").click(function(){var e=s("body .section-bp_video_settings_extensions table tbody tr td table tbody tr");s("td input:checkbox",e).prop("checked",this.checked)})),s(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));var B=function(){setTimeout(function(){s('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300)};B();var I=function(){s.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){if(void 0!==e.success&&void 0!==e.data){var t=e.data.total_media,i=e.data.total_albums,o=e.data.albums_done,a=e.data.media_done,n=e.data.import_status;s("#bp-media-import-albums-total").text(i),s("#bp-media-import-media-total").text(t),s("#bp-media-import-albums-done").text(o),s("#bp-media-import-media-done").text(a),"reset_albums"==n||"reset_media"==n||"reset_forum"==n||"reset_topic"==n||"reset_reply"==n||"reset_options"==n?s("#bp-media-resetting").show():s("#bp-media-resetting").hide(),"done"==n&&i==o&&t==a?(s("#bp-media-import-msg").text(e.data.success_msg),s("#bp-media-import-submit").show()):I()}else s("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};if(s("#bp-media-import-updating").length&&I(),s(".display-options:not(.button)").length){var P=s(".display-options:not(.button)"),A=s("select[name=bp-display-name-format]"),N=A.val();s(P).each(function(){s(this).hide()}),"first_name"===N?(s(".first-name-options").show(),s(".nick-name-options").hide(),s(".first-last-name-options").hide()):"first_last_name"===N?(s(".first-last-name-options").show(),s(".first-name-options").hide(),s(".nick-name-options").hide()):(s(".nick-name-options").show(),s(".first-name-options").hide(),s(".first-last-name-options").hide()),s(A).change(function(){s(P).each(function(){s(this).hide()}),N=s(this).val(),"first_name"===N?(s(".first-name-options").show(),s(".nick-name-options").hide(),s(".first-last-name-options").hide()):"first_last_name"===N?(s(".first-last-name-options").show(),s(".first-name-options").hide(),s(".nick-name-options").hide()):(s(".nick-name-options").show(),s(".first-name-options").hide(),s(".first-last-name-options").hide())})}var j=s(".profile-layout-options");if(j.length){var M=s("select[name=bp-profile-layout-format]"),T=M.val();s(j).each(function(){s(this).hide()}),"list_grid"===T?s(".profile-default-layout").show():s(".profile-default-layout").hide(),s(M).change(function(){s(j).each(function(){s(this).hide()}),T=s(this).val(),"list_grid"===T?s(".profile-default-layout").show():s(".profile-default-layout").hide()});var E=function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var o=e[i].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t},Q=E();Q.reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),e("reset_member","",0))}var S=s(".group-layout-options:not(.group-header-style)");if(S.length){var L=s("select[name=bp-group-layout-format]"),U=L.val();s(S).each(function(){s(this).hide()}),"list_grid"===U?(s(".group-gride-style").show(),s(".group-default-layout").show()):"grid"===U?(s(".group-gride-style").show(),s(".group-default-layout").hide()):s(".group-default-layout").hide(),s(L).change(function(){s(S).each(function(){s(this).hide()}),U=s(this).val(),"list_grid"===U?(s(".group-gride-style").show(),s(".group-default-layout").show()):"grid"===U?(s(".group-gride-style").show(),s(".group-default-layout").hide()):s(".group-default-layout").hide()});var q=function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var o=e[i].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t},O=q();O.reset_group&&(localStorage.setItem("bp-groups",""),e("reset_group","",0))}if(s("#bp-tools-submit").length){var R=function(e,t){if(void 0===r[t])return!1;s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"]').append('<div class="loader-repair-tools"></div>'),s.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:r[t],offset:e,nonce:s('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return s("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"] .loader-repair-tools').remove(),s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"] code').remove(),s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"]').append("<code>"+e.data.records+"</code>"),R(e.data.offset,t)):(s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"] .loader-repair-tools').remove(),s(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),void 0!==e.data.records&&""!==e.data.records&&(s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"] code').remove(),s('body .section-repair_community .settings fieldset .checkbox label[for="'+r[t]+'"]').append("<code>"+e.data.records+"</code>")),t+=1,R(e.data.offset,t)),r.length===t&&s("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return s("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})};s(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),r=[],setTimeout(function(){s("body .section-repair_community .settings fieldset .updated").remove()},500),s.each(s('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){r.push(s(this).val())}),r.length&&(s("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),s("body .section-repair_community .settings fieldset .checkbox code").remove(),R(0,0))})}if(s("#bb-giphy-connect").length&&s(document).on("click","#bb-giphy-connect",function(e){if(e.preventDefault(),s("#bb-giphy-connect").data("connected"))return s("#bb-giphy-connect").data("connected",!1),s("#bb-giphy-connect").addClass("button-primary"),s("#bp_media_gif_api_key").attr("readonly",!1),s("#bp_media_gif_api_key").val(""),s("#bp_media_profiles_gif_support").attr("disabled",!0).attr("checked",!1),s("#bp_media_groups_gif_support").attr("disabled",!0).attr("checked",!1),s("#bp_media_messages_gif_support").attr("disabled",!0).attr("checked",!1),s("#bp_media_forums_gif_support").attr("disabled",!0).attr("checked",!1),s("#bb-giphy-connect").val(s("#bb-giphy-connect").data("connect-text")),!1;s("#bb-giphy-connect").addClass("disable-btn"),s("#bp_media_settings_gifs .bp-new-notice-panel-notice").addClass("hidden"),s.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bb_admin_check_valid_giphy_key",key:s("#bp_media_gif_api_key").val(),nonce:s("#bb-giphy-connect").data("nonce")},success:function(e){e.data.code&&200===e.data.code?(s("#bb-giphy-connect").data("connected",!0),s("#bb-giphy-connect").removeClass("button-primary"),s("#bp_media_gif_api_key").attr("readonly",!0),s("#bp_media_profiles_gif_support").attr("disabled",!1),s("#bp_media_groups_gif_support").attr("disabled",!1),s("#bp_media_messages_gif_support").attr("disabled",!1),s("#bp_media_forums_gif_support").attr("disabled",!1),s("#bb-giphy-connect").val(s("#bb-giphy-connect").data("disconnect-text"))):(s("#bp_media_settings_gifs .bp-new-notice-panel-notice").removeClass("hidden"),s("#bp_media_settings_gifs .bp-new-notice-panel-notice span#giphy_response_code").html(e.data.code),
s("#bp_media_settings_gifs .bp-new-notice-panel-notice span#giphy_response_message").html(e.data.message))},error:function(){s("#bb-giphy-connect").removeClass("disable-btn")}})}),s("#bp-tools-forum-submit").length){var z=function(e,t){s('body .section-repair_forums .settings fieldset .checkbox label[for="'+p[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==p[t]&&s.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:p[t],offset:e,site_id:s("body .section-repair_forums #bbp-network-site").val(),nonce:s('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(s('body .section-repair_forums .settings fieldset .checkbox label[for="'+p[t]+'"] .loader-repair-tools').remove(),s('body .section-repair_forums .settings fieldset .checkbox label[for="'+p[t]+'"] code').remove(),s('body .section-repair_forums .settings fieldset .checkbox label[for="'+p[t]+'"]').append("<code>"+e.data.records+"</code>"),z(e.data.offset,t)):(s('body .section-repair_forums .settings fieldset .checkbox label[for="'+p[t]+'"] .loader-repair-tools').remove(),0===e.data.status?s(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):s(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1,z(e.data.offset,t)),p.length===t&&s("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return s("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})};s(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),p=[];var t=s("body .section-repair_forums #bbp-network-site");if(t.length&&"0"===t.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){s("body .section-repair_forums .settings fieldset .updated").remove()},500),s.each(s('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){p.push(s(this).val())}),p.length&&(s("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),s("body .section-repair_forums .settings fieldset .checkbox code").remove(),z(1,0))})}var F=s("#allow-custom-registration"),G=0;F.length&&(G=parseInt(F.val()),0===G?(s(".register-text-box").hide(),s(".register-email-checkbox").show(),s(".register-password-checkbox").show(),s(".register-legal-agreement-checkbox").show()):(s(".register-email-checkbox").hide(),s(".register-password-checkbox").hide(),s(".register-legal-agreement-checkbox").hide(),s(".register-text-box").show()),s(F).change(function(){G=parseInt(s(this).val()),0===G?(s(".register-text-box").hide(),s(".register-email-checkbox").show(),s(".register-password-checkbox").show(),s(".register-legal-agreement-checkbox").show(),s(".registration-form-main-select p.description").show()):(s(".register-email-checkbox").hide(),s(".register-password-checkbox").hide(),s(".register-legal-agreement-checkbox").hide(),s(".register-text-box").show(),s(".registration-form-main-select p.description").hide())}));var V=s("#bp-profile-avatar-type"),W=s("input[type=radio][name=bp-default-profile-avatar-type]"),H=s("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),J=s(".default-profile-avatar-type"),K=s(".default-profile-avatar-custom"),X=s(".enable-profile-gravatar-field"),Y=s(".bb-wordpress-profile-gravatar-warning"),Z=s(".preview-avatar-cover-image"),$=Z.find(".web-preview-wrap"),ee=Z.find(".app-preview-wrap");V.length&&s(V).change(function(){J.addClass("bp-hide"),K.addClass("bp-hide"),Y.addClass("bp-hide"),X.addClass("bp-hide");var e="",t=$.find(".preview-item-avatar img");Z.find(".preview_avatar_cover").removeClass("has-avatar"),"BuddyBoss"===s(this).val()?(X.removeClass("bp-hide"),J.removeClass("bp-hide"),H=s("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),e=s("."+H+"-profile-avatar").prop("src"),"custom"===H&&(K.removeClass("bp-hide"),e=s("#bp-default-user-custom-avatar").val(),void 0!==e.length&&0==e.length&&(e=t.attr("data-blank-avatar")))):"WordPress"===s(this).val()&&(BP_ADMIN.avatar_settings.wordpress_show_avatar||Y.removeClass("bp-hide"),e=t.attr("data-wordpress-avatar")),void 0!==e.length&&0<e.length&&Z.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),ee.find(".preview-item-avatar img").prop("src",e)}),W.length&&s(W).change(function(){Z.find(".preview_avatar_cover").removeClass("has-avatar");var e="",t=$.find(".preview-item-avatar img");"BuddyBoss"===V.val()&&"custom"===this.value?(K.removeClass("bp-hide"),e=s("#bp-default-user-custom-avatar").val(),void 0!==e.length&&0==e.length&&(e=t.attr("data-blank-avatar"))):(e=s("."+this.value+"-profile-avatar").prop("src"),K.addClass("bp-hide")),void 0!==e.length&&0<e.length&&Z.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),ee.find(".preview-item-avatar img").prop("src",e)});var te=s("#bp-disable-cover-image-uploads"),ie=s("input[type=radio][name=bp-default-profile-cover-type]"),oe=s("input[type=radio][name=bp-default-profile-cover-type]:checked").val();te.length&&s(te).change(function(){Z.find(".preview_avatar_cover").removeClass("has-cover");var e=$.find(".preview-item-cover img"),t=ee.find(".preview-item-cover img");s(this).prop("checked")?(s(".profile-cover-options").removeClass("bp-hide"),oe=s("input[type=radio][name=bp-default-profile-cover-type]:checked").val(),Z.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==oe&&(s(".default-profile-cover-custom").addClass("bp-hide"),"buddyboss"===oe&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))):s(".profile-cover-options").addClass("bp-hide")}),ie.length&&s(ie).change(function(){Z.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=$.find(".preview-item-cover img"),t=ee.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(s(".default-profile-cover-custom").removeClass("bp-hide"),e.prop("src",s("#bp-default-custom-user-cover").val()),t.prop("src",s("#bp-default-custom-user-cover").val())):(s(".default-profile-cover-custom").addClass("bp-hide"),oe=s("input[type=radio][name=bp-default-profile-cover-type]:checked").val(),"buddyboss"===oe&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))}),s(".custom-profile-group-avatar").on("click","a.bp-delete-custom-avatar",function(e){if(e.preventDefault(),confirm(BP_Confirm.are_you_sure)){var i=s(this),o=i.parents("tr"),a=o.find(".bb-custom-profile-group-avatar-feedback"),n=BP_Uploader.settings.defaults.multipart_params.bp_params.item_id,r=BP_Uploader.settings.defaults.multipart_params.bp_params.object;i.html(i.data("removing")),a.hide(),a.find(".bp-feedback").removeClass("success error"),bp.ajax.post("bp_avatar_delete",{json:!0,item_id:n,item_type:BP_Uploader.settings.defaults.multipart_params.bp_params.item_type,object:r,nonce:BP_Uploader.settings.defaults.multipart_params.bp_params.nonces.remove}).done(function(e){i.html(i.data("remove")),s(".default-profile-avatar-custom ."+r+"-"+e.item_id+"-avatar").each(function(){s(this).prop("src",e.avatar)}),s(".custom-profile-group-avatar a.bb-img-remove-button").length&&s(".custom-profile-group-avatar a.bb-img-remove-button").addClass("bp-hide"),s(".custom-profile-group-avatar .bb-upload-container img").prop("src",e.avatar).addClass("bp-hide"),s(".custom-profile-group-avatar .bb-upload-container .bb-default-custom-avatar-field").val(""),s(".preview_avatar_cover .preview-item-avatar img").prop("src","")}).fail(function(e){var o=BP_Uploader.strings.default_error,n="error";i.html(i.data("remove")),_.isUndefined(e)||(o=BP_Uploader.strings.feedback_messages[e.feedback_code]),t(a,o,n)})}}),s(document).on("change","#default-profile-cover-file, #default-group-cover-file",function(e){e.preventDefault();var i=s(this)[0].files[0],o=s(".custom-profile-group-cover"),a=o.find(".bb-img-upload-button"),n=o.find(".bb-custom-profile-group-cover-feedback"),r=o.find(".bb-upload-preview"),p=o.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),c=o.find("a.bb-img-remove-button");if(a.html(a.data("uploading")),n.hide(),n.find(".bp-feedback").removeClass("success error"),void 0===i)return t(n,BP_ADMIN.profile_group_cover.select_file,"error"),!1;var d=new FormData;d.append("file",i),d.append("name",i.name),d.append("_wpnonce",BP_ADMIN.profile_group_cover.upload.nonce),d.append("action",BP_ADMIN.profile_group_cover.upload.action),d.append("bp_params[object]",BP_ADMIN.profile_group_cover.upload.object),d.append("bp_params[item_id]",BP_ADMIN.profile_group_cover.upload.item_id),d.append("bp_params[item_type]",BP_ADMIN.profile_group_cover.upload.item_type),d.append("bp_params[has_cover_image]",BP_ADMIN.profile_group_cover.upload.has_cover_image),d.append("bp_params[nonces][remove]",BP_ADMIN.profile_group_cover.remove.nonce),s.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:d,type:"post",success:function(e){a.html(a.data("upload"));var i,o="error";void 0===e?(i=BP_ADMIN.profile_group_cover.file_upload_error,t(n,i,o)):e.success?(r.prop("src",e.data.url).removeClass("bp-hide"),p.val(e.data.url),c.removeClass("bp-hide"),o="success",i=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],s(".preview-avatar-cover-image .preview-item-cover img").prop("src",e.data.url)):(i=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],t(n,i,o)),s("#default-profile-cover-file, #default-group-cover-file").val("")}})}),s(".custom-profile-group-cover").on("click","a.bb-img-remove-button",function(e){if(e.preventDefault(),confirm(BP_Confirm.are_you_sure)){var i=s(this),o=s(".custom-profile-group-cover"),a=o.find(".bb-custom-profile-group-cover-feedback"),n=o.find(".bb-upload-preview"),r=o.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),p=n.data("default");i.html(i.data("removing")),a.hide(),a.find(".bp-feedback").removeClass("success error"),s.ajax({url:BP_ADMIN.ajax_url,cache:!1,data:{json:!0,action:BP_ADMIN.profile_group_cover.remove.action,item_id:BP_ADMIN.profile_group_cover.upload.item_id,item_type:BP_ADMIN.profile_group_cover.upload.item_type,object:BP_ADMIN.profile_group_cover.upload.object,nonce:BP_ADMIN.profile_group_cover.remove.nonce},type:"post",success:function(e){i.html(i.data("remove"));var o,c="error";void 0===e?(o=BP_ADMIN.profile_group_cover.file_upload_error,t(a,o,c)):e.success?(n.prop("src",p).addClass("bp-hide"),r.val(""),i.addClass("bp-hide"),c="success",o=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],s(".preview-avatar-cover-image .preview-item-cover img").prop("src","")):(o=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],t(a,o,c))}})}});var ae=s("#bp-disable-group-avatar-uploads"),ne=s("input[type=radio][name=bp-default-group-avatar-type]"),se=s("input[type=radio][name=bp-default-group-avatar-type]:checked").val();ae.length&&s(ae).change(function(){var e="",t=$.find(".preview-item-avatar img");Z.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),ee.find(".preview-item-avatar img").prop("src",""),s(this).prop("checked")?(s(".group-avatar-options").removeClass("bp-hide"),se=s("input[type=radio][name=bp-default-group-avatar-type]:checked").val(),e=s("#bp-default-group-custom-avatar").val(),0==e.length&&(e=t.attr("data-blank-avatar")),"custom"!==se&&(s(".default-group-avatar-custom").addClass("bp-hide"),e=s("."+se+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&Z.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),ee.find(".preview-item-avatar img").prop("src",e)):s(".group-avatar-options").addClass("bp-hide")}),ne.length&&s(ne).change(function(){var e="",t=$.find(".preview-item-avatar img");Z.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),ee.find(".preview-item-avatar img").prop("src",""),"custom"===this.value?(s(".default-group-avatar-custom").removeClass("bp-hide"),e=s("#bp-default-group-custom-avatar").val(),0==e.length&&(e=t.attr("data-blank-avatar"))):(s(".default-group-avatar-custom").addClass("bp-hide"),e=s("."+this.value+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&Z.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),ee.find(".preview-item-avatar img").prop("src",e)});var re=s("#bp-disable-group-cover-image-uploads"),pe=s("input[type=radio][name=bp-default-group-cover-type]"),ce=s("input[type=radio][name=bp-default-group-cover-type]:checked").val();re.length&&s(re).change(function(){Z.find(".preview_avatar_cover").removeClass("has-cover");var e=$.find(".preview-item-cover img"),t=ee.find(".preview-item-cover img");s(this).prop("checked")?(s(".group-cover-options").removeClass("bp-hide"),ce=s("input[type=radio][name=bp-default-group-cover-type]:checked").val(),Z.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==ce&&(s(".default-group-cover-custom").addClass("bp-hide"),"buddyboss"===oe&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))):s(".group-cover-options").addClass("bp-hide")}),pe.length&&s(pe).change(function(){Z.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=$.find(".preview-item-cover img"),t=ee.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(s(".default-group-cover-custom").removeClass("bp-hide"),e.prop("src",s("#bp-default-custom-group-cover").val()),t.prop("src",s("#bp-default-custom-group-cover").val())):(s(".default-group-cover-custom").addClass("bp-hide"),oe=s("input[type=radio][name=bp-default-group-cover-type]:checked").val(),"buddyboss"===oe&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))});var de=!1;if(s("#bp_member_avatar_settings .image-width-height").length){var le=s("select#bb-cover-profile-width").find("option:selected").val(),ue=s("select#bb-cover-profile-height").find("option:selected").val();s("#bp_member_avatar_settings").on("change","select#bb-cover-profile-width, select#bb-cover-profile-height",function(e){e.preventDefault(),de=!0,"bb-cover-profile-width"===s(this).attr("id")&&le===s(this).val()?de=!1:"bb-cover-profile-height"===s(this).attr("id")&&ue===s(this).val()&&(de=!1),"bb-cover-profile-height"===s(this).attr("id")&&("small"===s(this).val()?s(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):s(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))})}if(s("#bp_groups_avatar_settings .image-width-height").length){var me=s("select#bb-cover-group-width").find("option:selected").val(),be=s("select#bb-cover-group-height").find("option:selected").val();s("#bp_groups_avatar_settings").on("change","select#bb-cover-group-width, select#bb-cover-group-height",function(e){e.preventDefault(),de=!0,"bb-cover-group-width"===s(this).attr("id")&&me===s(this).val()?de=!1:"bb-cover-group-height"===s(this).attr("id")&&be===s(this).val()&&(de=!1),"bb-cover-group-height"===s(this).attr("id")&&("small"===s(this).val()?s(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):s(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))})}if(s("body.buddyboss_page_bp-settings").on("click",'input[name="submit"]',function(e){if(de&&(s("#bp_member_avatar_settings").length||s("#bp_groups_avatar_settings").length)){var t=BP_ADMIN.cover_size_alert.profile;return s("#bp_groups_avatar_settings").length&&(t=BP_ADMIN.cover_size_alert.group),!!confirm(t)||(e.preventDefault(),!1)}return!0}),s(".preview-switcher .button").on("click",function(e){e.preventDefault();var t=s(this).attr("href");s(this).closest(".preview-switcher-main").find(".preview-block.active").removeClass("active"),s(t).addClass("active"),s(this).addClass("button-primary").siblings().removeClass("button-primary")}),s('.profile-header-style input[type="radio"], .group-header-style input[type="radio"]').on("change",function(){s(".web-preview-wrap .preview-item-avatar").removeClass("left-image").removeClass("centered-image").addClass(s(this).val()+"-image")}),s("#bp_profile_list_settings").on("change",'.member-directory-profile-actions input[type="checkbox"]',function(){var e=[],t=[],i="";i=BP_ADMIN.member_directories.profile_action_btn,s('.member-directory-profile-actions input[type="checkbox"]:checked').each(function(i,o){e.push(o.value),t.push(BP_ADMIN.member_directories.profile_actions.filter(function(e){return e.element_name===o.value}))}),s(".member-directory-profile-primary-action select").find("option:not(:first)").remove(),s.each(t,function(e,t){if(void 0!==t[0]&&void 0!==t[0].element_name&&void 0!==t[0].element_label){var o=!1;i===t[0].element_name&&(o=!0),s(".member-directory-profile-primary-action select").append(s("<option></option>").attr("value",t[0].element_name).text(t[0].element_label).attr("selected",o))}}),0===e.length?(s(".member-directory-profile-primary-action").addClass("bp-hide"),s(".member-directory-profile-primary-action select").find("option:eq(0)").prop("selected",!0)):s(".member-directory-profile-primary-action").removeClass("bp-hide")}),s(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=s(this).closest("table.extension-listing"),t=s(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),o=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),i(),e.find("tbody tr.extra-extension").each(function(){s(this).find("input.extension-check").attr("name","bp_document_extensions_support["+o+"][is_active]"),s(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+o+"][is_active]"),s(this).find("input.extension-name").attr("name","bp_document_extensions_support["+o+"][name]"),s(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+o+"][name]"),s(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+o+"][hidden]"),s(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+o+"][hidden]"),s(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+o+"][extension]"),s(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+o+"][extension]"),s(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+o+"][icon]"),s(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+o+"][icon]"),s(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+o+"][mime_type]"),s(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+o+"][mime_type]"),s(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+o+"][description]"),s(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+o+"][description]"),s(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+o+"][mime_type]"),o+=1}),o=parseInt(s(".extension-listing tr.default-extension").length)}),s(document).on("click","table.extension-listing #btn-add-video-extensions",function(){var e=s(this).closest("table.extension-listing"),t=s(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),o=1;e.find("tbody").append(' <tr class="custom-extension extra-extension video-extensions"> '+t+" </tr> "),i(),e.find("tbody tr.extra-extension").each(function(){s(this).find("input.extension-check").attr("name","bp_video_extensions_support["+o+"][is_active]"),s(this).find("input.extension-check").attr("data-name","bp_video_extensions_support["+o+"][is_active]"),s(this).find("input.extension-name").attr("name","bp_video_extensions_support["+o+"][name]"),s(this).find("input.extension-name").attr("data-name","bp_video_extensions_support["+o+"][name]"),s(this).find("input.extension-hidden").attr("name","bp_video_extensions_support["+o+"][hidden]"),s(this).find("input.extension-hidden").attr("data-name","bp_video_extensions_support["+o+"][hidden]"),s(this).find("input.extension-extension").attr("name","bp_video_extensions_support["+o+"][extension]"),s(this).find("input.extension-extension").attr("data-name","bp_video_extensions_support["+o+"][extension]"),s(this).find("input.extension-mime").attr("name","bp_video_extensions_support["+o+"][mime_type]"),s(this).find("input.extension-mime").attr("data-name","bp_video_extensions_support["+o+"][mime_type]"),s(this).find("input.extension-desc").attr("name","bp_video_extensions_support["+o+"][description]"),s(this).find("input.extension-desc").attr("data-name","bp_video_extensions_support["+o+"][description]"),s(this).find("a.btn-check-mime-type").attr("id","bp_video_extensions_support["+o+"][mime_type]"),o+=1}),o=parseInt(s(".extension-listing tr.default-extension").length)}),i(),s(document).on("click",".custom-extension-list-select li",function(){var e=s(this).find("i").attr("class"),t=this.innerText,i='<li><i class="'+e+'"></i><span>'+t+"</span></li>";s(this).closest("td").find(".icon-select-main .icon-select-button").html(i),s(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),s(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),s(this).closest(".icon-select-main").siblings(".bb-icon").length&&s(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),s(document).on("click",".icon-select-main .icon-select-button",function(){s(this).siblings(".custom-extension-list").toggle()}),s(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=s(this).closest("table.extension-listing");s(this).closest("tr").remove();var t=parseInt(s(".extension-listing tr.extra-extension").length);t=1,e.find("tbody tr.extra-extension").each(function(){s(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),s(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),s(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),s(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),s(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),s(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),s(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),s(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),s(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),s(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),s(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),s(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),s(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),s(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),s(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();var t=s("#bp-document-file-input").prop("files")[0];if(void 0===t)return alert(BP_ADMIN.select_document),!1;var i=new FormData;i.append("file",t),i.append("action","bp_document_check_file_mime_type"),s.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:i,type:"post",success:function(e){s(".show-document-mime-type").show(),s(".show-document-mime-type input.type").val(e.data.type)}})}),s(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var t=s(this).attr("id");s(document).find('input[name="'+t+'"]').val("");var i=s(document).find("#mime-type").val();s(document).find('input[name="'+t+'"]').val(i),s(document).find(".close-modal").trigger("click")}),s(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();var t=s(this).attr("id");if(s(document).find(".mime-copy").attr("id",t),s(document).find(".bp-hello-mime").attr("id","bp-hello-container"),s(document).find("#bp-hello-backdrop").length);else{var i=s(document).find(".bp-hello-mime");s('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(i)}var o=document.getElementById("bp-hello-backdrop"),a=document.querySelector("#bp-hello-container:not(.bb-onload-modal)");if(null!==o){document.body.classList.add("bp-disable-scroll"),o.style.display="",a.style.display="";var n=a.querySelectorAll("a[href], button");n=Array.prototype.slice.call(n),n[0].focus()}}),document.addEventListener("click",function(e){var t=document.getElementById("bp-hello-backdrop");if(t&&document.getElementById("bp-hello-container")){var i=t.contains(e.target),o=e.target.classList.contains("close-modal");(o||i)&&(s(e.target).closest("#bp-hello-container").hide(),s(document).find("#bp-document-file-input").val(""),s(document).find(".show-document-mime-type").hide(),s(document).find(".show-document-mime-type input#mime-type").val(""))}},!1),s(document).on("click",".bp-show-moderation-alert",function(){var e=s(this).attr("data-action");s("#bp-hello-backdrop").show(),s("#bp-hello-container").find(".bp-spam-action-msg").hide(),s("#bp-hello-container").find(".bp-not-spam-action-msg").hide(),"spam"===e?s("#bp-hello-container").find(".bp-spam-action-msg").show():"not-spam"===e&&s("#bp-hello-container").find(".bp-not-spam-action-msg").show(),s("#bp-hello-container").show().addClass("deactivation-popup")}),s(document).on("click",".bp-show-deactivate-popup a",function(e){e.preventDefault(),s("#bp-hello-container").find(".bp-hello-content").empty(),s("#bp-hello-backdrop").show(),s("#bp-hello-container").show().addClass("deactivation-popup"),s("#bp-hello-container").find(".component-deactivate").attr("data-redirect",s(this).attr("href")),s("#bp-hello-container").find(".bp-hello-content").append(s(this).parent().closest(".row-actions").find(".component-deactivate-msg").text())}),s(document).on("click",".close-modal",function(){s("#bp-hello-backdrop").hide(),s("#bp-hello-container").hide().removeClass("deactivation-popup"),s("#bp-hello-container").find(".component-deactivate").removeClass("form-submit")}),s(document).on("click",".component-deactivate",function(e){e.preventDefault(),s(this).hasClass("form-submit")?s("form#bp-admin-component-form").find('input[name="bp-admin-component-submit"]').trigger("click"):window.location=s(this).attr("data-redirect")}),s("form#bp-admin-component-form").submit(function(e){var t=s('#bulk-action-selector-top[name="action"]').find(":selected").val();t||(t=s('#bulk-action-selector-top[name="action2"]').find(":selected").val());var i=!1,o="";s(".mass-check-deactivate").each(function(){1==s(this).prop("checked")&&(i=!0),o+=s(this).parent().find(".component-deactivate-msg").text()}),s("#bp-hello-container").find(".component-deactivate").hasClass("form-submit")||"inactive"!==t||!0!==i||(s("#bp-hello-container").find(".bp-hello-content").empty(),o&&(e.preventDefault(),s("#bp-hello-backdrop").show(),s("#bp-hello-container").show().addClass("deactivation-popup"),s("#bp-hello-container").find(".bp-hello-content").html(o),s("#bp-hello-container").find(".component-deactivate").addClass("form-submit")))}),s(document).on("change","#bp_moderation_settings_reporting .bpm_reporting_content_content_label > input",function(){s(this).prop("checked")?s(this).parent().next("label").removeClass("is_disabled").find('input[type="checkbox"]').prop("disabled",!1):s(this).parent().next("label").addClass("is_disabled").find('input[type="checkbox"]').removeProp("checked").removeAttr("checked").prop("disabled","disabled"),s('label[for="bpm_reporting_email_notification"]').removeClass("is_disabled"),0===s(".bpm_reporting_content_content_label > input:checked").length&&(s("#bpm_reporting_email_notification").prop("checked",!1),s('label[for="bpm_reporting_email_notification"]').addClass("is_disabled"))}),0===s(".bpm_reporting_content_content_label > input:checked").length&&(s("#bpm_reporting_email_notification").prop("checked",!1),s('label[for="bpm_reporting_email_notification"]').addClass("is_disabled")),s(document).on("click",".bp-suspend-user, .bp-unsuspend-user",function(){var e=s(this).attr("data-action");return"suspend"===e?confirm(BP_ADMIN.moderation.suspend_confirm_message):"unsuspend"===e?confirm(BP_ADMIN.moderation.unsuspend_confirm_message):void 0}),s(document).on("click",".notification-defaults",function(){var e=s(this).next(".manage-defaults");e.hasClass("manage-defaults-hide")?s(this).next(".manage-defaults").removeClass("manage-defaults-hide"):s(this).next(".manage-defaults").addClass("manage-defaults-hide")}),s(document).on("click",".bb-notification-checkbox",function(){!1===s(this).prop("checked")?s(this).parents(".field-block").find(".manage-defaults .field-wrap").addClass("disabled"):s(this).parents(".field-block").find(".manage-defaults .field-wrap").removeClass("disabled")}),void 0!==BP_ADMIN.post_type&&"object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker){var _e=BP_ADMIN.post_type;_e&&(s("#"+_e+"-label-background-color").length&&s("#"+_e+"-label-background-color").wpColorPicker(),s("#"+_e+"-label-text-color").length&&s("#"+_e+"-label-text-color").wpColorPicker(),s("#"+_e+"-label-color-type").length&&s(document).on("change","#"+_e+"-label-color-type",function(e){e.preventDefault(),"default"===s(this).val()?s("#"+_e+"-color-settings").hide():s("#"+_e+"-color-settings").show()}),s(".wp-picker-input-wrap .wp-picker-clear").click(function(e){e.preventDefault();var t=s(this).closest("span").find(".wp-color-picker").attr("id");if(_e+"-label-background-color"===t){var i=void 0!==BP_ADMIN.background_color?BP_ADMIN.background_color:"";i&&(s("#"+_e+"-label-background-color").val(i),s("#"+_e+"-background-color-colorpicker .wp-color-result").css("background-color",i))}if(_e+"-label-text-color"===t){var o=void 0!==BP_ADMIN.color?BP_ADMIN.color:"";o&&(s("#"+_e+"-label-text-color").val(o),s("#"+_e+"-text-color-colorpicker .wp-color-result").css("background-color",o))}}))}s(document).on("click",".bb-hide-pw",function(e){e.preventDefault();var t=s(this),i=t.closest(".password-toggle").find("input"),o=i.data("type")?i.data("type"):"text";t.toggleClass("bb-show-pass"),t.hasClass("bb-show-pass")?i.attr("type",o):i.attr("type","password")})}),s.bbGetParameterByName=function(e){var t=new RegExp("[\\?&amp;]"+e+"=([^&amp;#]*)").exec(window.location.href);return t&&t[1]?t[1]:null},s(document).on("click",".registration-restrictions-listing .registration-restrictions-add-rule",function(e){e.preventDefault();var t=s(this),o=parseInt(t.prev(".registration-restrictions-lastindex").val())+1,a=new RegExp("placeholder_priority_index","g"),n=t.closest(".registration-restrictions-listing").find(".registration-restrictions-rule-list .registration-restrictions-rule.custom").html();t.closest(".registration-restrictions-listing").find(".registration-restrictions-rule-list").append(' <div class="registration-restrictions-rule untouched"> '+n.replace(a,o)+" </div> "),t.prev(".registration-restrictions-lastindex").val(o),i()}),s(document).on("click",".registration-restrictions-listing .registration-restrictions-rule-remove",function(e){e.preventDefault()
;var t=s(e.currentTarget),o=t.parents(".bb-domain-restrictions-listing"),a=parseInt(t.prev(".registration-restrictions-lastindex").val())-1;if(t.closest(".registration-restrictions-rule").hasClass("custom")||(t.closest(".registration-restrictions-rule").remove(),t.parents(".registration-restrictions-listing").find(".registration-restrictions-lastindex").val(a)),void 0!==o&&o.length>0)if(0===o.find(".registration-restrictions-rule").not(".custom").length)s(".bb-domain-restrictions-listing .registration-restrictions-select").find("option").attr("disabled",!1);else{var n=o.find(".registration-restrictions-rule:not(.custom) .registration-restrictions-input-select");0===n.find('option[value="only_allow"]:selected').length&&0===n.find('option[value="always_allow"]:selected').length&&s(".bb-domain-restrictions-listing .registration-restrictions-select").find("option").attr("disabled",!1)}i()}),s(document).on("change",".registration-restrictions-listing .registration-restrictions-select",function(e){e.preventDefault();var t=s(e.currentTarget),i=t.parents(".bb-domain-restrictions-listing").find(".registration-restrictions-select"),a=t.parents(".bb-domain-restrictions-listing").find(".registration-restrictions-select").not(t),r="",p=[];i.each(function(e,i){var o=s(this).find("option:selected").val();p[e]=o,0!==t.length&&t.get(0)===i&&(r=o)});var c=n(p);c=c.filter(function(e){return""!==e}),1===c.length?"always_allow"===c[0]?1===a.length?(a.find("option").attr("disabled",!1),a.find('option[value="only_allow"]').attr("disabled",!0)):(i.find("option").attr("disabled",!1),i.find('option[value="only_allow"]').attr("disabled",!0)):"only_allow"===c[0]?1===a.length?(a.find("option").attr("disabled",!1),a.find('option[value="always_allow"]').attr("disabled",!0)):(i.find("option").attr("disabled",!1),i.find('option[value="always_allow"]').attr("disabled",!0)):"never_allow"===c[0]&&i.find("option").attr("disabled",!1):0!==c.length&&c.length>1&&""!==r&&("only_allow"===r?(a.find("option").attr("disabled",!1),a.find('option[value="always_allow"]').attr("disabled",!0)):"always_allow"===t.find(":selected").val()&&(a.find("option").attr("disabled",!1),a.find('option[value="only_allow"]').attr("disabled",!0))),o()}),s(".registration-restrictions-rule-list.bb-sortable").sortable({update:function(){i()}}),s(document).on("input blur",".bb-domain-restrictions-listing .registration-restrictions-domain, .registration-restrictions-tld",function(e){o(e)}),s(".registration-restrictions-add-rule").on("click",function(){var e=s(this);e.hasClass("domain-rule-add")?o(null,"add"):a(null,"add")}),s(document).on("click",".registration-restrictions-rule-remove",function(){var e=s(this);e.hasClass("domain-rule-remove")?o(null,"remove"):a(null,"remove")}),s("#bb_registration_restrictions").parents("form").on("submit",function(e){o(e,"submit"),a(e,"submit"),s("#bb-domain-restrictions-setting .registration-restrictions-rule.error").length>0?s("html, body").animate({scrollTop:s("#bb-domain-restrictions-setting").offset().top-75}):s("#bb-email-restrictions-setting .registration-restrictions-rule.error").length>0&&s("html, body").animate({scrollTop:s("#bb-email-restrictions-setting").offset().top-75})}),s(document).on("input blur","#bb-email-restrictions-setting .registration-restrictions-domain",function(e){a(e)}),s(document).on("change","#bb-email-restrictions-setting .registration-restrictions-input-select",function(e){a(e)})}();