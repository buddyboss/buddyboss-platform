window.bp=window.bp||{},function(){var S=jQuery.noConflict(),L=[],U=[];function q(e,t,i){var o=new Date,i=(o.setTime(o.getTime()+60*i*1e3),"expires="+o.toUTCString());document.cookie=e+"="+t+";"+i+";path=/"}function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function n(){S(".bb-sortable .registration-restrictions-rule:not(.custom)").each(function(e){S(this).find(".registration-restrictions-priority").html(e+1)})}function r(e,o){var n=S("#bb-domain-restrictions-setting"),a=[],s=[];e&&e.currentTarget&&S(e.currentTarget).closest(".registration-restrictions-rule").hasClass("untouched")&&S(e.currentTarget).closest(".registration-restrictions-rule").removeClass("untouched"),"submit"!==o&&"remove"!==o&&"add"!==o||S(".registration-restrictions-rule").removeClass("untouched"),S(".bb-domain-restrictions-listing .registration-restrictions-rule").not(".custom").not(".untouched").each(function(){var e=S(this).find(".registration-restrictions-domain").val().trim().toLowerCase(),t=S(this).find(".registration-restrictions-tld").val().trim().toLowerCase(),i=S(this).find(".registration-restrictions-input-select").val();S(this).removeClass("error"),n.children(".restrictions-error").html(""),""!==e&&""!==t&&(void 0===a[e+"_"+t]?a[e+"_"+t]=1:(a[e+"_"+t]+=1,S(this).addClass("error"),s.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate)||s.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate))),"submit"!==o&&"remove"!==o&&"add"!==o||""!==e&&""!==t&&""!==i||(S(this).addClass("error"),s.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty))||s.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty)}),S("#bb-domain-restrictions-setting").children(".restrictions-error").html("");for(var t=0;t<s.length;t++){var i="<p>"+s[t]+"</p>";S("#bb-domain-restrictions-setting").children(".restrictions-error").append(i)}0<s.length&&"submit"===o&&e.preventDefault()}function t(n,a){var s=[],r=[];S("#bb-email-restrictions-setting .registration-restrictions-rule").not(".custom").each(function(){var e=S(this).find(".registration-restrictions-domain").val().trim().toLowerCase(),t=S(this).find(".registration-restrictions-input-select").val(),i=(""!==e&&(void 0===s[e]?(s[e]=1,S(this).removeClass("error")):(s[e]+=1,S(this).addClass("error"),r.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate)||r.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.duplicate))),!("submit"!==a&&"remove"!==a&&"add"!==a||""!==e&&""!==t)),o=n&&n.currentTarget,t=o&&n.currentTarget.classList.contains("registration-restrictions-input-select")&&""===t,o=o&&n.currentTarget.classList.contains("registration-restrictions-domain")&&""===e;(i||t||o)&&(S(this).addClass("error"),r.includes(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty)||r.push(BP_ADMIN.bb_registration_restrictions.feedback_messages.empty))}),S("#bb-email-restrictions-setting").children(".restrictions-error").html("");for(var e=0;e<r.length;e++){var t="<p>"+r[e]+"</p>";S("#bb-email-restrictions-setting").children(".restrictions-error").append(t)}0<r.length&&"submit"===a&&n.preventDefault()}S(function(){S(".edit-php.post-type-bp-email").find(".page-title-action:first").after(BP_ADMIN.email_template.html),S(document).on("click",".btn-open-missing-email",function(e){e.preventDefault(),S(document).find("#bp-hello-backdrop").length||(e=S(document).find(".bp-hello-email"),S('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(e));var e=document.getElementById("bp-hello-backdrop"),t=document.getElementById("bp-hello-container");null!==e&&(document.body.classList.add("bp-disable-scroll"),e.style.display="",t.style.display="",e=t.querySelectorAll("a[href], button"),(e=Array.prototype.slice.call(e))[0].focus())}),"yes"===S.bbGetParameterByName("popup")&&S(".btn-open-missing-email").trigger("click"),"bpmissingemails"===e("scrollto")&&(S("html, body").animate({scrollTop:S("#bp-missing-emails").offset().top},1500),S(".label-bp-missing-emails").css("background-color","#faafaa"),setTimeout(function(){S(".label-bp-missing-emails").css("background-color","transparent")},1500)),"bpreinstallemails"===e("scrollto")&&(S("html, body").animate({scrollTop:S("#bp-reinstall-emails").offset().top},1500),S(".label-bp-reinstall-emails").css("background-color","#faafaa"),setTimeout(function(){S(".label-bp-reinstall-emails").css("background-color","transparent")},1500)),S("[data-run-js-condition]").each(function(){var t=S(this).data("run-js-condition"),i=S(this).prop("tagName");S(this).on("change.run-condition",function(){var e;if("SELECT"===i&&S(this).is(":visible"))return e=t+"-"+S(this).val(),S('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),S(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0;(S(this).prop("checked")&&S(this).is(":visible")?(S(".js-hide-on-"+t).hide(),S(".js-show-on-"+t).show()):(S(".js-hide-on-"+t).show(),S(".js-show-on-"+t).hide())).find("[data-run-js-condition]").trigger("change.run-condition")}).trigger("change.run-condition")}),S(document).find(".buddyboss_page_bp-pages .bp-admin-card").length&&S(document).on("click",".create-background-page",function(){var e=S(this).attr("data-name");S.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),S(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=S(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),S(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=S(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)}),S(document).on("change","#bpm_blocking_member_blocking",function(){S('label[for="bpm_blocking_auto_suspend"]').toggleClass("is_disabled"),S("#bpm_blocking_auto_suspend").prop("checked",!1),S('label[for="bpm_blocking_email_notification"]').removeClass("is_disabled"),!1===S("#bpm_blocking_member_blocking").prop("checked")&&!1===S("#bb_blocking_member_reporting").prop("checked")&&(S("#bpm_blocking_email_notification").prop("checked",!1),S('label[for="bpm_blocking_email_notification"]').addClass("is_disabled"))}),S(document).on("change","#bb_blocking_member_reporting",function(){S('label[for="bb_reporting_auto_suspend"]').toggleClass("is_disabled"),S("#bb_reporting_auto_suspend").prop("checked",!1),S('label[for="bpm_blocking_email_notification"]').removeClass("is_disabled"),!1===S("#bpm_blocking_member_blocking").prop("checked")&&!1===S("#bb_blocking_member_reporting").prop("checked")&&(S("#bpm_blocking_email_notification").prop("checked",!1),S('label[for="bpm_blocking_email_notification"]').addClass("is_disabled"))}),!1===S("#bpm_blocking_member_blocking").prop("checked")&&!1===S("#bb_blocking_member_reporting").prop("checked")&&(S("#bpm_blocking_email_notification").prop("checked",!1),S('label[for="bpm_blocking_email_notification"]').addClass("is_disabled")),S("#bb_reporting_category_description").length&&S(".wp-heading-inline").append(S("#bb_reporting_category_description")),S('body.taxonomy-bpm_category span:contains("Slug")').each(function(){S(this).parent().remove()}),S(".taxonomy-bpm_category #the-list").on("click","button.editinline",function(e){e.preventDefault();var t=S(this).closest("tr").find("td.bb_category_show_when_reporting").text();""!==t&&(S('tr.inline-edit-row select[name="bb_category_show_when_reporting"] option').prop("selected",!1),S('tr.inline-edit-row select[name="bb_category_show_when_reporting"] option').filter(function(){return this.text===t}).prop("selected",!0))})}),S(document).ready(function(){function s(){S.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,i,o,n,a;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,i=e.data.total_albums,o=e.data.albums_done,n=e.data.media_done,a=e.data.import_status,S("#bp-media-import-albums-total").text(i),S("#bp-media-import-media-total").text(t),S("#bp-media-import-albums-done").text(o),S("#bp-media-import-media-done").text(n),"reset_albums"==a||"reset_media"==a||"reset_forum"==a||"reset_topic"==a||"reset_reply"==a||"reset_options"==a?S("#bp-media-resetting").show():S("#bp-media-resetting").hide(),"done"==a&&i==o&&t==n?(S("#bp-media-import-msg").text(e.data.success_msg),S("#bp-media-import-submit").show()):s()):S("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})}var e,t,i,o,n,a,r,p=S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li"),c=(S("body.buddypress.post-type-bp-group-type").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),S("body.buddypress.post-type-bp-email").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),S("body.buddypress.post-type-topic").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),S("body.buddypress.post-type-reply").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),S("body.buddypress.post-type-bp-member-type").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),S("body.buddypress.post-type-bp_ps_form").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),S("body.buddypress.buddyboss_page_bbp-repair").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),S("body.buddypress.buddyboss_page_bbp-converter").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),S("body.buddypress.buddyboss_page_bp-media-import").length&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(S("body.buddypress.buddyboss_page_bp-member-type-import").length||S("body.buddypress.buddyboss_page_bp-repair-community").length)&&(b=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),S(p).removeClass("current"),S(b).addClass("current"),S(b).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),S("body.buddypress.taxonomy-bpm_category").length&&(b=S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu li"),k=S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform"),l=S('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-moderation"]'),S(b).removeClass("wp-has-current-submenu"),S(b).removeClass("wp-menu-open"),S(k).addClass("wp-has-current-submenu wp-menu-open"),S(p).removeClass("current"),S(l).addClass("current"),S(l).attr("aria-current","page"),S("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-moderation"]').parent().addClass("current")),S("body .section-bp_search_settings_community").length&&(S("body .section-bp_search_settings_community table td input:checkbox:checked").length===S("body .section-bp_search_settings_community table td input:checkbox").length&&S("#bp_search_select_all_components").prop("checked",!0),S("#bp_search_select_all_components").click(function(){var e=S("body .section-bp_search_settings_community table");S("td input:checkbox",e).prop("checked",this.checked)}),S("body .section-bp_search_settings_community table td input:checkbox").click(function(){S("body .section-bp_search_settings_community table td input:checkbox:checked").length===S("body .section-bp_search_settings_community table td input:checkbox").length?S("#bp_search_select_all_components").prop("checked",!0):S("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===S(this).attr("id")&&!0===S(this).prop("checked")&&!1===S("#bp_search_post_type_topic").prop("checked")&&S("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===S(this).attr("id")&&!0!==S(this).prop("checked")&&!0===S("#bp_search_topic_tax_topic-tag").prop("checked")&&S("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),S("body .section-bp_search_settings_post_types").length&&(S("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===S("body .section-bp_search_settings_post_types table td input:checkbox").length&&S("#bp_search_select_all_post_types").prop("checked",!0),S("#bp_search_select_all_post_types").click(function(){var e=S("body .section-bp_search_settings_post_types table");S("td input:checkbox",e).prop("checked",this.checked)}),S("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){S("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===S("body .section-bp_search_settings_post_types table td input:checkbox").length?S("#bp_search_select_all_post_types").prop("checked",!0):S("#bp_search_select_all_post_types").prop("checked",!1)})),S("body .section-bp_document_settings_extensions").length&&(S(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&S("#bp_select_extensions").prop("checked",!0),S("#bp_select_extensions").click(function(){var e=S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");S("td input:checkbox",e).prop("checked",this.checked)}),S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===S("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?S("#bp_select_extensions").prop("checked",!0):S("#bp_select_extensions").prop("checked",!1)}),S("form").submit(function(){var e=!1;if(S('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){""===S.trim(S(this).val())?(S(this).addClass("error"),e=!0):S(this).hasClass("error")&&S(this).removeClass("error")}),e)return!1})),S(".buddyboss_page_bp-activity").length&&S(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var e=S(this).find("video").get(0),t=S(this).find(".gif-play-button");!0===e.paused?(e.play(),t.hide()):(e.pause(),t.show())}),S("body.buddyboss_page_bp-help").length&&(S(".bp-help-card-grid").on("click","span.open",function(){S(this).toggleClass("active"),S(this).closest(".main").find("ul:first").toggle()}),S(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),S(".bp-help-card-grid li.selected").find("ul:first").show(),S(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),S(".bp-help-card-grid .sub-menu-count").each(function(){S(this).text("("+S(this).closest("li").find("ul:first li").size()+")")})),S(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?S(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():S(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),S(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?S(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(S(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),S("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))}),S(document).on("click","#bp-enable-group-restrict-invites",function(){if(!0===this.checked)return!!confirm(BP_ADMIN.group.restrict_invites_confirm_message)})),S(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-type-creation").checked?S(".bb-group-headers-elements .bb-group-headers-element-group-type").show():S(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),S(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(S(".bb-group-headers-elements .bb-group-headers-element-group-type").show(),S(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!0)):(S(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),S(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!1))})),S(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-cover-image-uploads").checked?S(".bb-group-elements .bb-group-element-cover-images").show():S(".bb-group-elements .bb-group-element-cover-images").hide(),S(document).on("click","#bp-disable-group-cover-image-uploads",function(){!0===this.checked?(S(".bb-group-elements .bb-group-element-cover-images").show(),S(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!0)):(S(".bb-group-elements .bb-group-element-cover-images").hide(),S(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!1))})),S(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-avatar-uploads").checked?S(".bb-group-elements .bb-group-element-avatars").show():S(".bb-group-elements .bb-group-element-avatars").hide(),S(document).on("click","#bp-disable-group-avatar-uploads",function(){!0===this.checked?(S(".bb-group-elements .bb-group-element-avatars").show(),S(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!0)):(S(".bb-group-elements .bb-group-element-avatars").hide(),S(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!1))})),S(".buddyboss_page_bp-settings .section-bp_groups_types").length&&(document.getElementById("bp-disable-group-type-creation").checked?S(".bb-group-elements .bb-group-element-group-type").show():S(".bb-group-elements .bb-group-element-group-type").hide(),S(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(S(".bb-group-elements .bb-group-element-group-type").show(),S(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!0)):(S(".bb-group-elements .bb-group-element-group-type").hide(),S(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!1))})),S(".buddyboss_page_bp-settings .section-bp_custom_post_type").length&&(S(".bp-feed-post-type-checkbox").each(function(){var e=S(this).data("post_type");!0===this.checked&&S(".bp-feed-post-type-comment-"+e).closest("tr").show()}),S(".buddyboss_page_bp-settings .section-bp_custom_post_type").on("click",".bp-feed-post-type-checkbox",function(){var e=S(this).data("post_type"),e=S(".bp-feed-post-type-comment-"+e);!0===this.checked?e.closest("tr").show():e.prop("checked",!1).closest("tr").hide()})),S("#bp_media_profile_media_support").change(function(){this.checked?S("#bp_media_profile_albums_support").prop("disabled",!1):(S("#bp_media_profile_albums_support").prop("disabled",!0),S("#bp_media_profile_albums_support").attr("checked",!1))}),S("#bp_media_group_media_support").change(function(){this.checked?S("#bp_media_group_albums_support").prop("disabled",!1):(S("#bp_media_group_albums_support").prop("disabled",!0),S("#bp_media_group_albums_support").attr("checked",!1))}),S("body .section-bp_video_settings_extensions").length&&(S(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),S(".video-extensions-listing #bp_select_extensions").click(function(){var e=S("body .section-bp_video_settings_extensions table tbody tr td table tbody tr");S("td input:checkbox",e).prop("checked",this.checked)})),S(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)})),setTimeout(function(){S('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300),S("#bp-media-import-updating").length&&s(),S(".display-options:not(.button)").length&&(e=S(".display-options:not(.button)"),b=S("select[name=bp-display-name-format]"),t=b.val(),S(e).each(function(){S(this).hide()}),("first_name"===t?(S(".first-name-options").show(),S(".nick-name-options").hide(),S(".first-last-name-options")):"first_last_name"===t?(S(".first-last-name-options").show(),S(".first-name-options").hide(),S(".nick-name-options")):(S(".nick-name-options").show(),S(".first-name-options").hide(),S(".first-last-name-options"))).hide(),S(b).change(function(){S(e).each(function(){S(this).hide()}),("first_name"===(t=S(this).val())?(S(".first-name-options").show(),S(".nick-name-options").hide(),S(".first-last-name-options")):"first_last_name"===t?(S(".first-last-name-options").show(),S(".first-name-options").hide(),S(".nick-name-options")):(S(".nick-name-options").show(),S(".first-name-options").hide(),S(".first-last-name-options"))).hide()})),S(".profile-layout-options")),d=(c.length&&(k=S("select[name=bp-profile-layout-format]"),i=k.val(),S(c).each(function(){S(this).hide()}),"list_grid"===i?S(".profile-default-layout").show():S(".profile-default-layout").hide(),S(k).change(function(){S(c).each(function(){S(this).hide()}),"list_grid"===(i=S(this).val())?S(".profile-default-layout").show():S(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var o=e[i].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_member)&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),q("reset_member","",0)),S(".group-layout-options:not(.group-header-style)")),l=(d.length&&(p=S("select[name=bp-group-layout-format]"),o=p.val(),S(d).each(function(){S(this).hide()}),"list_grid"===o?(S(".group-gride-style").show(),S(".group-default-layout").show()):("grid"===o&&S(".group-gride-style").show(),S(".group-default-layout").hide()),S(p).change(function(){S(d).each(function(){S(this).hide()}),"list_grid"===(o=S(this).val())?(S(".group-gride-style").show(),S(".group-default-layout").show()):("grid"===o&&S(".group-gride-style").show(),S(".group-default-layout").hide())}),function(){for(var e=document.cookie.split(";"),t={},i=0;i<e.length;i++){var o=e[i].split("=");t[(o[0]+"").trim()]=unescape(o.slice(1).join("="))}return t}().reset_group)&&(localStorage.setItem("bp-groups",""),q("reset_group","",0)),S("#bp-tools-submit").length&&(n=function(e,t){if(void 0===L[t])return!1;S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"]').append('<div class="loader-repair-tools"></div>'),S.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:L[t],offset:e,nonce:S('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return S("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"] .loader-repair-tools').remove(),S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"] code').remove(),S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"]').append("<code>"+e.data.records+"</code>")):(S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"] .loader-repair-tools').remove(),S(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),void 0!==e.data.records&&""!==e.data.records&&(S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"] code').remove(),S('body .section-repair_community .settings fieldset .checkbox label[for="'+L[t]+'"]').append("<code>"+e.data.records+"</code>")),t+=1),n(e.data.offset,t),L.length===t&&S("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return S("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},S(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),L=[],setTimeout(function(){S("body .section-repair_community .settings fieldset .updated").remove()},500),S.each(S('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){L.push(S(this).val())}),L.length&&(S("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),S("body .section-repair_community .settings fieldset .checkbox code").remove(),n(0,0))})),S("#bb-giphy-connect").length&&S(document).on("click","#bb-giphy-connect",function(e){if(e.preventDefault(),S("#bb-giphy-connect").data("connected"))return S("#bb-giphy-connect").data("connected",!1),S("#bb-giphy-connect").addClass("button-primary"),S("#bp_media_gif_api_key").attr("readonly",!1),S("#bp_media_gif_api_key").val(""),S("#bp_media_profiles_gif_support").attr("disabled",!0).attr("checked",!1),S("#bp_media_groups_gif_support").attr("disabled",!0).attr("checked",!1),S("#bp_media_messages_gif_support").attr("disabled",!0).attr("checked",!1),S("#bp_media_forums_gif_support").attr("disabled",!0).attr("checked",!1),S("#bb-giphy-connect").val(S("#bb-giphy-connect").data("connect-text")),!1;S("#bb-giphy-connect").addClass("disable-btn"),S("#bp_media_settings_gifs .bp-new-notice-panel-notice").addClass("hidden"),S.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bb_admin_check_valid_giphy_key",key:S("#bp_media_gif_api_key").val(),nonce:S("#bb-giphy-connect").data("nonce")},success:function(e){e.data.code&&200===e.data.code?(S("#bb-giphy-connect").data("connected",!0),S("#bb-giphy-connect").removeClass("button-primary"),S("#bp_media_gif_api_key").attr("readonly",!0),S("#bp_media_profiles_gif_support").attr("disabled",!1),S("#bp_media_groups_gif_support").attr("disabled",!1),S("#bp_media_messages_gif_support").attr("disabled",!1),S("#bp_media_forums_gif_support").attr("disabled",!1),S("#bb-giphy-connect").val(S("#bb-giphy-connect").data("disconnect-text"))):(S("#bp_media_settings_gifs .bp-new-notice-panel-notice").removeClass("hidden"),S("#bp_media_settings_gifs .bp-new-notice-panel-notice span#giphy_response_code").html(e.data.code),S("#bp_media_settings_gifs .bp-new-notice-panel-notice span#giphy_response_message").html(e.data.message))},error:function(){S("#bb-giphy-connect").removeClass("disable-btn")}})}),S("#bp-tools-forum-submit").length&&(a=function(e,t){S('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==U[t]&&S.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:U[t],offset:e,site_id:S("body .section-repair_forums #bbp-network-site").val(),nonce:S('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(S('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] .loader-repair-tools').remove(),S('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] code').remove(),S('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"]').append("<code>"+e.data.records+"</code>")):(S('body .section-repair_forums .settings fieldset .checkbox label[for="'+U[t]+'"] .loader-repair-tools').remove(),0===e.data.status?S(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):S(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),a(e.data.offset,t),U.length===t)&&S("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn")},error:function(){return S("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},S(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),U=[];e=S("body .section-repair_forums #bbp-network-site");if(e.length&&"0"===e.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){S("body .section-repair_forums .settings fieldset .updated").remove()},500),S.each(S('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){U.push(S(this).val())}),U.length&&(S("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),S("body .section-repair_forums .settings fieldset .checkbox code").remove(),a(1,0))})),S("#allow-custom-registration")),u=(l.length&&((0===parseInt(l.val())?(S(".register-text-box").hide(),S(".register-email-checkbox").show(),S(".register-password-checkbox").show(),S(".register-legal-agreement-checkbox")):(S(".register-email-checkbox").hide(),S(".register-password-checkbox").hide(),S(".register-legal-agreement-checkbox").hide(),S(".register-text-box"))).show(),S(l).change(function(){0===parseInt(S(this).val())?(S(".register-text-box").hide(),S(".register-email-checkbox").show(),S(".register-password-checkbox").show(),S(".register-legal-agreement-checkbox").show(),S(".registration-form-main-select p.description").show()):(S(".register-email-checkbox").hide(),S(".register-password-checkbox").hide(),S(".register-legal-agreement-checkbox").hide(),S(".register-text-box").show(),S(".registration-form-main-select p.description").hide())})),S("#bp-profile-avatar-type")),b=S("input[type=radio][name=bp-default-profile-avatar-type]"),m=(S("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),S(".default-profile-avatar-type")),h=S(".default-profile-avatar-custom"),g=S(".enable-profile-gravatar-field"),f=S(".bb-wordpress-profile-gravatar-warning"),v=S(".preview-avatar-cover-image"),y=v.find(".web-preview-wrap"),w=v.find(".app-preview-wrap"),k=(u.length&&S(u).change(function(){m.addClass("bp-hide"),h.addClass("bp-hide"),f.addClass("bp-hide"),g.addClass("bp-hide");var e="",t=y.find(".preview-item-avatar img");v.find(".preview_avatar_cover").removeClass("has-avatar"),"BuddyBoss"===S(this).val()?(g.removeClass("bp-hide"),m.removeClass("bp-hide"),r=S("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),e=S("."+r+"-profile-avatar").prop("src"),"custom"===r&&(h.removeClass("bp-hide"),void 0!==(e=S("#bp-default-user-custom-avatar").val()).length)&&0==e.length&&(e=t.attr("data-blank-avatar"))):"WordPress"===S(this).val()&&(BP_ADMIN.avatar_settings.wordpress_show_avatar||f.removeClass("bp-hide"),e=t.attr("data-wordpress-avatar")),void 0!==e.length&&0<e.length&&v.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),w.find(".preview-item-avatar img").prop("src",e)}),b.length&&S(b).change(function(){v.find(".preview_avatar_cover").removeClass("has-avatar");var e="",t=y.find(".preview-item-avatar img");"BuddyBoss"===u.val()&&"custom"===this.value?(h.removeClass("bp-hide"),void 0!==(e=S("#bp-default-user-custom-avatar").val()).length&&0==e.length&&(e=t.attr("data-blank-avatar"))):(e=S("."+this.value+"-profile-avatar").prop("src"),h.addClass("bp-hide")),void 0!==e.length&&0<e.length&&v.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),w.find(".preview-item-avatar img").prop("src",e)}),S("#bp-disable-cover-image-uploads")),p=S("input[type=radio][name=bp-default-profile-cover-type]"),x=S("input[type=radio][name=bp-default-profile-cover-type]:checked").val();function C(e,t,i){e.find(".bp-feedback").removeClass("success error").addClass(i).find("p").html(t),e.show()}k.length&&S(k).change(function(){v.find(".preview_avatar_cover").removeClass("has-cover");var e=y.find(".preview-item-cover img"),t=w.find(".preview-item-cover img");S(this).prop("checked")?(S(".profile-cover-options").removeClass("bp-hide"),x=S("input[type=radio][name=bp-default-profile-cover-type]:checked").val(),v.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==x&&(S(".default-profile-cover-custom").addClass("bp-hide"),"buddyboss"===x)&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover")))):S(".profile-cover-options").addClass("bp-hide")}),p.length&&S(p).change(function(){v.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=y.find(".preview-item-cover img"),t=w.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(S(".default-profile-cover-custom").removeClass("bp-hide"),e.prop("src",S("#bp-default-custom-user-cover").val()),t.prop("src",S("#bp-default-custom-user-cover").val())):(S(".default-profile-cover-custom").addClass("bp-hide"),"buddyboss"===(x=S("input[type=radio][name=bp-default-profile-cover-type]:checked").val())&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))}),S(".custom-profile-group-avatar").on("click","a.bp-delete-custom-avatar",function(e){var i,o,t;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(i=S(this),o=i.parents("tr").find(".bb-custom-profile-group-avatar-feedback"),e=BP_Uploader.settings.defaults.multipart_params.bp_params.item_id,t=BP_Uploader.settings.defaults.multipart_params.bp_params.object,i.html(i.data("removing")),o.hide(),o.find(".bp-feedback").removeClass("success error"),bp.ajax.post("bp_avatar_delete",{json:!0,item_id:e,item_type:BP_Uploader.settings.defaults.multipart_params.bp_params.item_type,object:t,nonce:BP_Uploader.settings.defaults.multipart_params.bp_params.nonces.remove}).done(function(e){i.html(i.data("remove")),S(".default-profile-avatar-custom ."+t+"-"+e.item_id+"-avatar").each(function(){S(this).prop("src",e.avatar)}),S(".custom-profile-group-avatar a.bb-img-remove-button").length&&S(".custom-profile-group-avatar a.bb-img-remove-button").addClass("bp-hide"),S(".custom-profile-group-avatar .bb-upload-container img").prop("src",e.avatar).addClass("bp-hide"),S(".custom-profile-group-avatar .bb-upload-container .bb-default-custom-avatar-field").val(""),S(".preview_avatar_cover .preview-item-avatar img").prop("src","")}).fail(function(e){var t=BP_Uploader.strings.default_error;i.html(i.data("remove")),_.isUndefined(e)||(t=BP_Uploader.strings.feedback_messages[e.feedback_code]),C(o,t,"error")}))}),S(document).on("change","#default-profile-cover-file, #default-group-cover-file",function(e){e.preventDefault();var e=S(this)[0].files[0],t=S(".custom-profile-group-cover"),i=t.find(".bb-img-upload-button"),o=t.find(".bb-custom-profile-group-cover-feedback"),n=t.find(".bb-upload-preview"),a=t.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),s=t.find("a.bb-img-remove-button");if(i.html(i.data("uploading")),o.hide(),o.find(".bp-feedback").removeClass("success error"),void 0===e)return C(o,BP_ADMIN.profile_group_cover.select_file,"error"),!1;t=new FormData;t.append("file",e),t.append("name",e.name),t.append("_wpnonce",BP_ADMIN.profile_group_cover.upload.nonce),t.append("action",BP_ADMIN.profile_group_cover.upload.action),t.append("bp_params[object]",BP_ADMIN.profile_group_cover.upload.object),t.append("bp_params[item_id]",BP_ADMIN.profile_group_cover.upload.item_id),t.append("bp_params[item_type]",BP_ADMIN.profile_group_cover.upload.item_type),t.append("bp_params[has_cover_image]",BP_ADMIN.profile_group_cover.upload.has_cover_image),t.append("bp_params[nonces][remove]",BP_ADMIN.profile_group_cover.remove.nonce),S.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(e){i.html(i.data("upload"));var t;void 0===e?(t=BP_ADMIN.profile_group_cover.file_upload_error,C(o,t,"error")):e.success?(n.prop("src",e.data.url).removeClass("bp-hide"),a.val(e.data.url),s.removeClass("bp-hide"),t=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],S(".preview-avatar-cover-image .preview-item-cover img").prop("src",e.data.url)):(t=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],C(o,t,"error")),S("#default-profile-cover-file, #default-group-cover-file").val("")}})}),S(".custom-profile-group-cover").on("click","a.bb-img-remove-button",function(e){var i,o,n,a,s;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(i=S(this),e=S(".custom-profile-group-cover"),o=e.find(".bb-custom-profile-group-cover-feedback"),n=e.find(".bb-upload-preview"),a=e.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),s=n.data("default"),i.html(i.data("removing")),o.hide(),o.find(".bp-feedback").removeClass("success error"),S.ajax({url:BP_ADMIN.ajax_url,cache:!1,data:{json:!0,action:BP_ADMIN.profile_group_cover.remove.action,item_id:BP_ADMIN.profile_group_cover.upload.item_id,item_type:BP_ADMIN.profile_group_cover.upload.item_type,object:BP_ADMIN.profile_group_cover.upload.object,nonce:BP_ADMIN.profile_group_cover.remove.nonce},type:"post",success:function(e){i.html(i.data("remove"));var t;void 0===e?(t=BP_ADMIN.profile_group_cover.file_upload_error,C(o,t,"error")):e.success?(n.prop("src",s).addClass("bp-hide"),a.val(""),i.addClass("bp-hide"),t=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],S(".preview-avatar-cover-image .preview-item-cover img").prop("src","")):(t=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],C(o,t,"error"))}}))});var D,B,I,P,A,N,j,l=S("#bp-disable-group-avatar-uploads"),b=S("input[type=radio][name=bp-default-group-avatar-type]"),k=(S("input[type=radio][name=bp-default-group-avatar-type]:checked").val(),l.length&&S(l).change(function(){var e="",t=y.find(".preview-item-avatar img");v.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),w.find(".preview-item-avatar img").prop("src",""),S(this).prop("checked")?(S(".group-avatar-options").removeClass("bp-hide"),D=S("input[type=radio][name=bp-default-group-avatar-type]:checked").val(),0==(e=S("#bp-default-group-custom-avatar").val()).length&&(e=t.attr("data-blank-avatar")),"custom"!==D&&(S(".default-group-avatar-custom").addClass("bp-hide"),e=S("."+D+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&v.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),w.find(".preview-item-avatar img").prop("src",e)):S(".group-avatar-options").addClass("bp-hide")}),b.length&&S(b).change(function(){var e="",t=y.find(".preview-item-avatar img");v.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),w.find(".preview-item-avatar img").prop("src",""),"custom"===this.value?(S(".default-group-avatar-custom").removeClass("bp-hide"),0==(e=S("#bp-default-group-custom-avatar").val()).length&&(e=t.attr("data-blank-avatar"))):(S(".default-group-avatar-custom").addClass("bp-hide"),e=S("."+this.value+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&v.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),w.find(".preview-item-avatar img").prop("src",e)}),S("#bp-disable-group-cover-image-uploads")),p=S("input[type=radio][name=bp-default-group-cover-type]"),M=(S("input[type=radio][name=bp-default-group-cover-type]:checked").val(),k.length&&S(k).change(function(){v.find(".preview_avatar_cover").removeClass("has-cover");var e=y.find(".preview-item-cover img"),t=w.find(".preview-item-cover img");S(this).prop("checked")?(S(".group-cover-options").removeClass("bp-hide"),B=S("input[type=radio][name=bp-default-group-cover-type]:checked").val(),v.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==B&&(S(".default-group-cover-custom").addClass("bp-hide"),"buddyboss"===x)&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover")))):S(".group-cover-options").addClass("bp-hide")}),p.length&&S(p).change(function(){v.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=y.find(".preview-item-cover img"),t=w.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(S(".default-group-cover-custom").removeClass("bp-hide"),e.prop("src",S("#bp-default-custom-group-cover").val()),t.prop("src",S("#bp-default-custom-group-cover").val())):(S(".default-group-cover-custom").addClass("bp-hide"),"buddyboss"===(x=S("input[type=radio][name=bp-default-group-cover-type]:checked").val())&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))}),!1);function T(){S(".document-extensions-listing .extension-icon").each(function(){var i,e,t;0===S(this).closest("td").find(".icon-select-main").length&&(i=[],S(this).closest("td").find("select.extension-icon option").each(function(){var e=S(this).val(),t=this.innerText;i.push('<li><i class="'+e+'"></i><span>'+t+"</span></li>")}),S(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+i+"</ul></div></div>"),e=S(this).closest("td").find(".extension-icon").val(),t=S(this).closest("td").find(".extension-icon option:selected").text(),S(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+e+'"></i><span>'+t+"</span></li>"))})}S("#bp_member_avatar_settings .image-width-height").length&&(I=S("select#bb-cover-profile-width").find("option:selected").val(),P=S("select#bb-cover-profile-height").find("option:selected").val(),S("#bp_member_avatar_settings").on("change","select#bb-cover-profile-width, select#bb-cover-profile-height",function(e){e.preventDefault(),M=!0,("bb-cover-profile-width"===S(this).attr("id")&&I===S(this).val()||"bb-cover-profile-height"===S(this).attr("id")&&P===S(this).val())&&(M=!1),"bb-cover-profile-height"===S(this).attr("id")&&("small"===S(this).val()?S(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):S(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))})),S("#bp_groups_avatar_settings .image-width-height").length&&(A=S("select#bb-cover-group-width").find("option:selected").val(),N=S("select#bb-cover-group-height").find("option:selected").val(),S("#bp_groups_avatar_settings").on("change","select#bb-cover-group-width, select#bb-cover-group-height",function(e){e.preventDefault(),M=!0,("bb-cover-group-width"===S(this).attr("id")&&A===S(this).val()||"bb-cover-group-height"===S(this).attr("id")&&N===S(this).val())&&(M=!1),"bb-cover-group-height"===S(this).attr("id")&&("small"===S(this).val()?S(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):S(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))})),S("body.buddyboss_page_bp-settings").on("click",'input[name="submit"]',function(e){var t;return!M||!S("#bp_member_avatar_settings").length&&!S("#bp_groups_avatar_settings").length||(t=BP_ADMIN.cover_size_alert.profile,S("#bp_groups_avatar_settings").length&&(t=BP_ADMIN.cover_size_alert.group),!!confirm(t))||(e.preventDefault(),!1)}),S(".preview-switcher .button").on("click",function(e){e.preventDefault();e=S(this).attr("href");S(this).closest(".preview-switcher-main").find(".preview-block.active").removeClass("active"),S(e).addClass("active"),S(this).addClass("button-primary").siblings().removeClass("button-primary")}),S('.profile-header-style input[type="radio"], .group-header-style input[type="radio"]').on("change",function(){S(".web-preview-wrap .preview-item-avatar").removeClass("left-image").removeClass("centered-image").addClass(S(this).val()+"-image")}),S("#bp_profile_list_settings").on("change",'.member-directory-profile-actions input[type="checkbox"]',function(){var i=[],o=[],n=BP_ADMIN.member_directories.profile_action_btn;S('.member-directory-profile-actions input[type="checkbox"]:checked').each(function(e,t){i.push(t.value),o.push(BP_ADMIN.member_directories.profile_actions.filter(function(e){return e.element_name===t.value}))}),S(".member-directory-profile-primary-action select").find("option:not(:first)").remove(),S.each(o,function(e,t){var i;void 0!==t[0]&&void 0!==t[0].element_name&&void 0!==t[0].element_label&&(i=!1,n===t[0].element_name&&(i=!0),S(".member-directory-profile-primary-action select").append(S("<option></option>").attr("value",t[0].element_name).text(t[0].element_label).attr("selected",i)))}),0===i.length?(S(".member-directory-profile-primary-action").addClass("bp-hide"),S(".member-directory-profile-primary-action select").find("option:eq(0)").prop("selected",!0)):S(".member-directory-profile-primary-action").removeClass("bp-hide")}),S(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=S(this).closest("table.extension-listing"),t=S(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),i=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),T(),e.find("tbody tr.extra-extension").each(function(){S(this).find("input.extension-check").attr("name","bp_document_extensions_support["+i+"][is_active]"),S(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+i+"][is_active]"),S(this).find("input.extension-name").attr("name","bp_document_extensions_support["+i+"][name]"),S(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+i+"][name]"),S(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+i+"][hidden]"),S(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+i+"][hidden]"),S(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+i+"][extension]"),S(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+i+"][extension]"),S(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+i+"][icon]"),S(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+i+"][icon]"),S(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+i+"][mime_type]"),S(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+i+"][mime_type]"),S(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+i+"][description]"),S(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+i+"][description]"),S(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+i+"][mime_type]"),i+=1}),i=parseInt(S(".extension-listing tr.default-extension").length)}),S(document).on("click","table.extension-listing #btn-add-video-extensions",function(){var e=S(this).closest("table.extension-listing"),t=S(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),i=1;e.find("tbody").append(' <tr class="custom-extension extra-extension video-extensions"> '+t+" </tr> "),T(),e.find("tbody tr.extra-extension").each(function(){S(this).find("input.extension-check").attr("name","bp_video_extensions_support["+i+"][is_active]"),S(this).find("input.extension-check").attr("data-name","bp_video_extensions_support["+i+"][is_active]"),S(this).find("input.extension-name").attr("name","bp_video_extensions_support["+i+"][name]"),S(this).find("input.extension-name").attr("data-name","bp_video_extensions_support["+i+"][name]"),S(this).find("input.extension-hidden").attr("name","bp_video_extensions_support["+i+"][hidden]"),S(this).find("input.extension-hidden").attr("data-name","bp_video_extensions_support["+i+"][hidden]"),S(this).find("input.extension-extension").attr("name","bp_video_extensions_support["+i+"][extension]"),S(this).find("input.extension-extension").attr("data-name","bp_video_extensions_support["+i+"][extension]"),S(this).find("input.extension-mime").attr("name","bp_video_extensions_support["+i+"][mime_type]"),S(this).find("input.extension-mime").attr("data-name","bp_video_extensions_support["+i+"][mime_type]"),S(this).find("input.extension-desc").attr("name","bp_video_extensions_support["+i+"][description]"),S(this).find("input.extension-desc").attr("data-name","bp_video_extensions_support["+i+"][description]"),S(this).find("a.btn-check-mime-type").attr("id","bp_video_extensions_support["+i+"][mime_type]"),i+=1}),i=parseInt(S(".extension-listing tr.default-extension").length)}),T(),S(document).on("click",".custom-extension-list-select li",function(){var e=S(this).find("i").attr("class"),t='<li><i class="'+e+'"></i><span>'+this.innerText+"</span></li>";S(this).closest("td").find(".icon-select-main .icon-select-button").html(t),S(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),S(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),S(this).closest(".icon-select-main").siblings(".bb-icon").length&&S(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),S(document).on("click",".icon-select-main .icon-select-button",function(){S(this).siblings(".custom-extension-list").toggle()}),S(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=S(this).closest("table.extension-listing"),t=(S(this).closest("tr").remove(),parseInt(S(".extension-listing tr.extra-extension").length)),t=1;e.find("tbody tr.extra-extension").each(function(){S(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),S(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),S(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),S(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),S(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),S(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),S(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),S(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),S(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),S(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),S(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),S(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),S(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),S(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),S(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();e=S("#bp-document-file-input").prop("files")[0];if(void 0===e)return alert(BP_ADMIN.select_document),!1;var t=new FormData;t.append("file",e),t.append("action","bp_document_check_file_mime_type"),S.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:t,type:"post",success:function(e){S(".show-document-mime-type").show(),S(".show-document-mime-type input.type").val(e.data.type)}})}),S(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var e=S(this).attr("id"),t=(S(document).find('input[name="'+e+'"]').val(""),S(document).find("#mime-type").val());S(document).find('input[name="'+e+'"]').val(t),S(document).find(".close-modal").trigger("click")}),S(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();var e=S(this).attr("id"),e=(S(document).find(".mime-copy").attr("id",e),S(document).find(".bp-hello-mime").attr("id","bp-hello-container"),S(document).find("#bp-hello-backdrop").length||(e=S(document).find(".bp-hello-mime"),S('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(e)),document.getElementById("bp-hello-backdrop")),t=document.querySelector("#bp-hello-container:not(.bb-onload-modal)");null!==e&&(document.body.classList.add("bp-disable-scroll"),e.style.display="",t.style.display="",e=t.querySelectorAll("a[href], button"),(e=Array.prototype.slice.call(e))[0].focus())}),document.addEventListener("click",function(e){var t=document.getElementById("bp-hello-backdrop");t&&document.getElementById("bp-hello-container")&&(t=t.contains(e.target),e.target.classList.contains("close-modal")||t)&&(S(e.target).closest("#bp-hello-container").hide(),S(document).find("#bp-document-file-input").val(""),S(document).find(".show-document-mime-type").hide(),S(document).find(".show-document-mime-type input#mime-type").val(""))},!1),S(document).on("click",".bp-show-moderation-alert",function(){var e=S(this).attr("data-action");S("#bp-hello-backdrop").show(),S("#bp-hello-container").find(".bp-spam-action-msg").hide(),S("#bp-hello-container").find(".bp-not-spam-action-msg").hide(),"spam"===e?S("#bp-hello-container").find(".bp-spam-action-msg").show():"not-spam"===e&&S("#bp-hello-container").find(".bp-not-spam-action-msg").show(),S("#bp-hello-container").show().addClass("deactivation-popup")}),S(document).on("click",".bp-show-deactivate-popup a",function(e){e.preventDefault(),S("#bp-hello-container").find(".bp-hello-content").empty(),S("#bp-hello-backdrop").show(),S("#bp-hello-container").show().addClass("deactivation-popup"),S("#bp-hello-container").find(".component-deactivate").attr("data-redirect",S(this).attr("href")),S("#bp-hello-container").find(".bp-hello-content").append(S(this).parent().closest(".row-actions").find(".component-deactivate-msg").text())}),S(document).on("click",".close-modal",function(){S("#bp-hello-backdrop").hide(),S("#bp-hello-container").hide().removeClass("deactivation-popup"),S("#bp-hello-container").find(".component-deactivate").removeClass("form-submit")}),S(document).on("click",".component-deactivate",function(e){e.preventDefault(),S(this).hasClass("form-submit")?S("form#bp-admin-component-form").find('input[name="bp-admin-component-submit"]').trigger("click"):window.location=S(this).attr("data-redirect")}),S("form#bp-admin-component-form").submit(function(e){var t=(t=S('#bulk-action-selector-top[name="action"]').find(":selected").val())||S('#bulk-action-selector-top[name="action2"]').find(":selected").val(),i=!1,o="";S(".mass-check-deactivate").each(function(){1==S(this).prop("checked")&&(i=!0),o+=S(this).parent().find(".component-deactivate-msg").text()}),S("#bp-hello-container").find(".component-deactivate").hasClass("form-submit")||"inactive"!==t||!0!==i||(S("#bp-hello-container").find(".bp-hello-content").empty(),o&&(e.preventDefault(),S("#bp-hello-backdrop").show(),S("#bp-hello-container").show().addClass("deactivation-popup"),S("#bp-hello-container").find(".bp-hello-content").html(o),S("#bp-hello-container").find(".component-deactivate").addClass("form-submit")))}),S(document).on("change","#bp_moderation_settings_reporting .bpm_reporting_content_content_label > input",function(){S(this).prop("checked")?S(this).parent().next("label").removeClass("is_disabled").find('input[type="checkbox"]').prop("disabled",!1):S(this).parent().next("label").addClass("is_disabled").find('input[type="checkbox"]').removeProp("checked").removeAttr("checked").prop("disabled","disabled"),S('label[for="bpm_reporting_email_notification"]').removeClass("is_disabled"),0===S(".bpm_reporting_content_content_label > input:checked").length&&(S("#bpm_reporting_email_notification").prop("checked",!1),S('label[for="bpm_reporting_email_notification"]').addClass("is_disabled"))}),0===S(".bpm_reporting_content_content_label > input:checked").length&&(S("#bpm_reporting_email_notification").prop("checked",!1),S('label[for="bpm_reporting_email_notification"]').addClass("is_disabled")),S(document).on("click",".bp-suspend-user, .bp-unsuspend-user",function(){var e=S(this).attr("data-action");return"suspend"===e?confirm(BP_ADMIN.moderation.suspend_confirm_message):"unsuspend"===e?confirm(BP_ADMIN.moderation.unsuspend_confirm_message):void 0}),S(document).on("click",".notification-defaults",function(){S(this).next(".manage-defaults").hasClass("manage-defaults-hide")?S(this).next(".manage-defaults").removeClass("manage-defaults-hide"):S(this).next(".manage-defaults").addClass("manage-defaults-hide")}),S(document).on("click",".bb-notification-checkbox",function(){!1===S(this).prop("checked")?S(this).parents(".field-block").find(".manage-defaults .field-wrap").addClass("disabled"):S(this).parents(".field-block").find(".manage-defaults .field-wrap").removeClass("disabled")}),void 0!==BP_ADMIN.post_type&&"object"==typeof jQuery.wp&&"function"==typeof jQuery.wp.wpColorPicker&&(j=BP_ADMIN.post_type)&&(S("#"+j+"-label-background-color").length&&S("#"+j+"-label-background-color").wpColorPicker(),S("#"+j+"-label-text-color").length&&S("#"+j+"-label-text-color").wpColorPicker(),S("#"+j+"-label-color-type").length&&S(document).on("change","#"+j+"-label-color-type",function(e){e.preventDefault(),"default"===S(this).val()?S("#"+j+"-color-settings").hide():S("#"+j+"-color-settings").show()}),S(".wp-picker-input-wrap .wp-picker-clear").click(function(e){e.preventDefault();var t,e=S(this).closest("span").find(".wp-color-picker").attr("id");j+"-label-background-color"===e&&(t=void 0!==BP_ADMIN.background_color?BP_ADMIN.background_color:"")&&(S("#"+j+"-label-background-color").val(t),S("#"+j+"-background-color-colorpicker .wp-color-result").css("background-color",t)),j+"-label-text-color"===e&&(t=void 0!==BP_ADMIN.color?BP_ADMIN.color:"")&&(S("#"+j+"-label-text-color").val(t),S("#"+j+"-text-color-colorpicker .wp-color-result").css("background-color",t))})),S(document).on("click",".bb-hide-pw",function(e){e.preventDefault();var e=S(this),t=e.closest(".password-toggle").find("input"),i=t.data("type")?t.data("type"):"text";e.toggleClass("bb-show-pass"),e.hasClass("bb-show-pass")?t.attr("type",i):t.attr("type","password")}),void 0!==S.fn.select2&&(0<S("#bb-login-redirection").length&&S("#bb-login-redirection").select2({containerCssClass:"custom-select2",dropdownCssClass:"custom-dropdown-select2"}),0<S("#bb-logout-redirection").length)&&S("#bb-logout-redirection").select2({containerCssClass:"custom-select2",dropdownCssClass:"custom-dropdown-select2"});var E=S("#bb-login-redirection"),Q=(E.length&&("0"===E.val()?(S(".login-redirection-text-box").show(),E.closest("td").find(".description, .bb-description").hide()):(S(".login-redirection-text-box").hide(),E.closest("td").find(".description, .bb-description").show()),S(E).change(function(){"0"===S(this).val()?(S(".login-redirection-text-box").show(),E.closest("td").find(".description, .bb-description").hide()):(S(".login-redirection-text-box").hide(),E.closest("td").find(".description, .bb-description").show())})),S("#bb-logout-redirection"));Q.length&&("0"===Q.val()?(S(".logout-redirection-text-box").show(),Q.closest("td").find(".description, .bb-description").hide()):(S(".logout-redirection-text-box").hide(),Q.closest("td").find(".description, .bb-description").show()),S(Q).change(function(){"0"===S(this).val()?(S(".logout-redirection-text-box").show(),Q.closest("td").find(".description, .bb-description").hide()):(S(".logout-redirection-text-box").hide(),Q.closest("td").find(".description, .bb-description").show())}))}),S.bbGetParameterByName=function(e){e=new RegExp("[\\?&amp;]"+e+"=([^&amp;#]*)").exec(window.location.href);return e&&e[1]?e[1]:null},S(document).on("click",".registration-restrictions-listing .registration-restrictions-add-rule",function(e){e.preventDefault();var e=S(this),t=parseInt(e.prev(".registration-restrictions-lastindex").val())+1,i=new RegExp("placeholder_priority_index","g"),o=e.closest(".registration-restrictions-listing").find(".registration-restrictions-rule-list .registration-restrictions-rule.custom").html();e.closest(".registration-restrictions-listing").find(".registration-restrictions-rule-list").append(' <div class="registration-restrictions-rule untouched"> '+o.replace(i,t)+" </div> "),e.prev(".registration-restrictions-lastindex").val(t),n()}),S(document).on("click",".registration-restrictions-listing .registration-restrictions-rule-remove",function(e){e.preventDefault();var e=S(e.currentTarget),t=e.parents(".bb-domain-restrictions-listing"),i=parseInt(e.prev(".registration-restrictions-lastindex").val())-1;e.closest(".registration-restrictions-rule").hasClass("custom")||(e.closest(".registration-restrictions-rule").remove(),e.parents(".registration-restrictions-listing").find(".registration-restrictions-lastindex").val(i)),void 0!==t&&0<t.length&&(0===t.find(".registration-restrictions-rule").not(".custom").length||0===(e=t.find(".registration-restrictions-rule:not(.custom) .registration-restrictions-input-select")).find('option[value="only_allow"]:selected').length&&0===e.find('option[value="always_allow"]:selected').length)&&S(".bb-domain-restrictions-listing .registration-restrictions-select").find("option").attr("disabled",!1),n()}),S(document).on("change",".registration-restrictions-listing .registration-restrictions-select",function(e){e.preventDefault();var i,o=S(e.currentTarget),e=o.parents(".bb-domain-restrictions-listing").find(".registration-restrictions-select"),t=o.parents(".bb-domain-restrictions-listing").find(".registration-restrictions-select").not(o),n="",a=[],s=(e.each(function(e,t){var i=S(this).find("option:selected").val();a[e]=i,0!==o.length&&o.get(0)===t&&(n=i)}),i=a,S.grep(i,function(e,t){return t===S.inArray(e,i)}));1===(s=s.filter(function(e){return""!==e})).length?"always_allow"===s[0]?(1===t.length?(t.find("option").attr("disabled",!1),t):(e.find("option").attr("disabled",!1),e)).find('option[value="only_allow"]').attr("disabled",!0):"only_allow"===s[0]?(1===t.length?(t.find("option").attr("disabled",!1),t):(e.find("option").attr("disabled",!1),e)).find('option[value="always_allow"]').attr("disabled",!0):"never_allow"===s[0]&&e.find("option").attr("disabled",!1):0!==s.length&&1<s.length&&""!==n&&("only_allow"===n?(t.find("option").attr("disabled",!1),t.find('option[value="always_allow"]').attr("disabled",!0)):"always_allow"===o.find(":selected").val()&&(t.find("option").attr("disabled",!1),t.find('option[value="only_allow"]').attr("disabled",!0))),r()}),S(".registration-restrictions-rule-list.bb-sortable").sortable({update:function(){n()}}),S(document).on("input blur",".bb-domain-restrictions-listing .registration-restrictions-domain, .registration-restrictions-tld",function(e){r(e)}),S(".registration-restrictions-add-rule").on("click",function(){(S(this).hasClass("domain-rule-add")?r:t)(null,"add")}),S(document).on("click",".registration-restrictions-rule-remove",function(){(S(this).hasClass("domain-rule-remove")?r:t)(null,"remove")}),S("#bb_registration_restrictions").parents("form").on("submit",function(e){r(e,"submit"),t(e,"submit"),0<S("#bb-domain-restrictions-setting .registration-restrictions-rule.error").length?S("html, body").animate({scrollTop:S("#bb-domain-restrictions-setting").offset().top-75}):0<S("#bb-email-restrictions-setting .registration-restrictions-rule.error").length&&S("html, body").animate({scrollTop:S("#bb-email-restrictions-setting").offset().top-75})}),S(document).on("input blur","#bb-email-restrictions-setting .registration-restrictions-domain",function(e){t(e)}),S(document).on("change","#bb-email-restrictions-setting .registration-restrictions-input-select",function(e){t(e)})}();