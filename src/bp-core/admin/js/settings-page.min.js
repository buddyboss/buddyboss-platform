!function(){var C=jQuery.noConflict(),j=[],T=[];function Q(e,t,a){var s=new Date;s.setTime(s.getTime()+60*a*1e3);var i="expires="+s.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}C(function(){C("[data-run-js-condition]").each(function(){var t=C(this).data("run-js-condition"),a=C(this).prop("tagName");C(this).on("change.run-condition",function(){if("SELECT"===a&&C(this).is(":visible")){var e=t+"-"+C(this).val();return C('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),C(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}C(this).prop("checked")&&C(this).is(":visible")?(C(".js-hide-on-"+t).hide(),C(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(C(".js-hide-on-"+t).show(),C(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),1<C("body.buddypress.buddyboss_page_bp-pages .bp-admin-card").length&&C(".create-background-page").click(function(){var e=C(this).attr("data-name");C.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){window.location.href=e.data.url}})}),C(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=C(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),C(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=C(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)})}),C(document).ready(function(){var e,t,a,s,i,o,n,r,p,d,c=C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");C("body.buddypress.post-type-bp-group-type").length&&(e=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),C(c).removeClass("current"),C(e).addClass("current"),C(e).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),C("body.buddypress.post-type-bp-email").length&&(t=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),C(c).removeClass("current"),C(t).addClass("current"),C(t).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),C("body.buddypress.post-type-topic").length&&(a=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),C(a).addClass("current"),C(a).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),C("body.buddypress.post-type-reply").length&&(s=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),C(s).addClass("current"),C(s).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),C("body.buddypress.post-type-bp-member-type").length&&(i=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),C(c).removeClass("current"),C(i).addClass("current"),C(i).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),C("body.buddypress.post-type-bp_ps_form").length&&(o=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),C(c).removeClass("current"),C(o).addClass("current"),C(o).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),C("body.buddypress.buddyboss_page_bbp-repair").length&&(n=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),C(c).removeClass("current"),C(n).addClass("current"),C(n).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),C("body.buddypress.buddyboss_page_bbp-converter").length&&(r=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),C(c).removeClass("current"),C(r).addClass("current"),C(r).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),C("body.buddypress.buddyboss_page_bp-media-import").length&&(p=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),C(c).removeClass("current"),C(p).addClass("current"),C(p).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(C("body.buddypress.buddyboss_page_bp-member-type-import").length||C("body.buddypress.buddyboss_page_bp-repair-community").length)&&(d=C('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),C(c).removeClass("current"),C(d).addClass("current"),C(d).attr("aria-current","page"),C("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),C("body .section-bp_search_settings_community").length&&(C("body .section-bp_search_settings_community table td input:checkbox:checked").length===C("body .section-bp_search_settings_community table td input:checkbox").length&&C("#bp_search_select_all_components").prop("checked",!0),C("#bp_search_select_all_components").click(function(){var e=C("body .section-bp_search_settings_community table");C("td input:checkbox",e).prop("checked",this.checked)}),C("body .section-bp_search_settings_community table td input:checkbox").click(function(){C("body .section-bp_search_settings_community table td input:checkbox:checked").length===C("body .section-bp_search_settings_community table td input:checkbox").length?C("#bp_search_select_all_components").prop("checked",!0):C("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===C(this).attr("id")&&!0===C(this).prop("checked")&&!1===C("#bp_search_post_type_topic").prop("checked")&&C("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===C(this).attr("id")&&!0!==C(this).prop("checked")&&!0===C("#bp_search_topic_tax_topic-tag").prop("checked")&&C("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),C("body .section-bp_search_settings_post_types").length&&(C("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===C("body .section-bp_search_settings_post_types table td input:checkbox").length&&C("#bp_search_select_all_post_types").prop("checked",!0),C("#bp_search_select_all_post_types").click(function(){var e=C("body .section-bp_search_settings_post_types table");C("td input:checkbox",e).prop("checked",this.checked)}),C("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){C("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===C("body .section-bp_search_settings_post_types table td input:checkbox").length?C("#bp_search_select_all_post_types").prop("checked",!0):C("#bp_search_select_all_post_types").prop("checked",!1)})),C(".buddyboss_page_bp-activity").length&&C(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=C(this).find("video").get(0),a=C(this).find(".gif-play-button");!0===t.paused?(t.play(),a.hide()):(t.pause(),a.show())}),C("body.buddyboss_page_bp-help").length&&(C(".bp-help-card-grid").on("click","span.open",function(){C(this).toggleClass("active"),C(this).closest(".main").find("ul:first").toggle()}),C(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),C(".bp-help-card-grid li.selected").find("ul:first").show(),C(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),C(".bp-help-card-grid .sub-menu-count").each(function(){C(this).text("("+C(this).closest("li").find("ul:first li").size()+")")})),C(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?C(".bp-enable-group-restrict-invites").show():C(".bp-enable-group-restrict-invites").hide(),C(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?C(".bp-enable-group-restrict-invites").show():(C(".bp-enable-group-restrict-invites").hide(),C("#bp-enable-group-restrict-invites").prop("checked",!1))})),C("#bp_media_profile_media_support").change(function(){this.checked?C("#bp_media_profile_albums_support").prop("disabled",!1):(C("#bp_media_profile_albums_support").prop("disabled",!0),C("#bp_media_profile_albums_support").attr("checked",!1))}),C("#bp_media_group_media_support").change(function(){this.checked?C("#bp_media_group_albums_support").prop("disabled",!1):(C("#bp_media_group_albums_support").prop("disabled",!0),C("#bp_media_group_albums_support").attr("checked",!1))}),C(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){C('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var u,l,m,b=function(){C.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,a,s,i,o;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,a=e.data.total_albums,s=e.data.albums_done,i=e.data.media_done,o=e.data.import_status,C("#bp-media-import-albums-total").text(a),C("#bp-media-import-media-total").text(t),C("#bp-media-import-albums-done").text(s),C("#bp-media-import-media-done").text(i),"reset_albums"==o||"reset_media"==o||"reset_forum"==o||"reset_topic"==o||"reset_reply"==o||"reset_options"==o?C("#bp-media-resetting").show():C("#bp-media-resetting").hide(),"done"==o&&a==s&&t==i?(C("#bp-media-import-msg").text(e.data.success_msg),C("#bp-media-import-submit").show()):b()):C("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};C("#bp-media-import-updating").length&&b(),C(".display-options").length&&(u=C(".display-options"),l=C("select[name=bp-display-name-format]"),m=l.val(),C(u).each(function(){C(this).hide()}),"first_name"===m?(C(".first-name-options").show(),C(".nick-name-options").hide(),C(".first-last-name-options").hide()):"first_last_name"===m?(C(".first-last-name-options").show(),C(".first-name-options").hide(),C(".nick-name-options").hide()):(C(".nick-name-options").show(),C(".first-name-options").hide(),C(".first-last-name-options").hide()),C(l).change(function(){C(u).each(function(){C(this).hide()}),"first_name"===(m=C(this).val())?(C(".first-name-options").show(),C(".nick-name-options").hide(),C(".first-last-name-options").hide()):"first_last_name"===m?(C(".first-last-name-options").show(),C(".first-name-options").hide(),C(".nick-name-options").hide()):(C(".nick-name-options").show(),C(".first-name-options").hide(),C(".first-last-name-options").hide())}));var h,_,f=C(".profile-layout-options");f.length&&(h=C("select[name=bp-profile-layout-format]"),_=h.val(),C(f).each(function(){C(this).hide()}),"list_grid"===_?C(".profile-default-layout").show():C(".profile-default-layout").hide(),C(h).change(function(){C(f).each(function(){C(this).hide()}),"list_grid"===(_=C(this).val())?C(".profile-default-layout").show():C(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},a=0;a<e.length;a++){var s=e[a].split("=");t[(s[0]+"").trim()]=unescape(s.slice(1).join("="))}return t}().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),Q("reset_member","",0)));var g,y,w,v,k=C(".group-layout-options");k.length&&(g=C("select[name=bp-group-layout-format]"),y=g.val(),C(k).each(function(){C(this).hide()}),"list_grid"===y?C(".group-default-layout").show():C(".group-default-layout").hide(),C(g).change(function(){C(k).each(function(){C(this).hide()}),"list_grid"===(y=C(this).val())?C(".group-default-layout").show():C(".group-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},a=0;a<e.length;a++){var s=e[a].split("=");t[(s[0]+"").trim()]=unescape(s.slice(1).join("="))}return t}().reset_group&&(localStorage.setItem("bp-groups",""),Q("reset_group","",0))),C("#bp-tools-submit").length&&(w=function(e,t){C('body .section-repair_community .settings fieldset .checkbox label[for="'+j[t]+'"]').append('<div class="loader-repair-tools"></div>'),C.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:j[t],offset:e,nonce:C('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(C('body .section-repair_community .settings fieldset .checkbox label[for="'+j[t]+'"] .loader-repair-tools').remove(),C('body .section-repair_community .settings fieldset .checkbox label[for="'+j[t]+'"] code').remove(),C('body .section-repair_community .settings fieldset .checkbox label[for="'+j[t]+'"]').append("<code>"+e.data.records+"</code>")):(C('body .section-repair_community .settings fieldset .checkbox label[for="'+j[t]+'"] .loader-repair-tools').remove(),C(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),w(e.data.offset,t),j.length===t&&C("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return C("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},C(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),j=[],setTimeout(function(){C("body .section-repair_community .settings fieldset .updated").remove()},500),C.each(C('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){j.push(C(this).val())}),j.length&&(C("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),C("body .section-repair_community .settings fieldset .checkbox code").remove(),w(1,0))})),C("#bp-tools-forum-submit").length&&(v=function(e,t){C('body .section-repair_forums .settings fieldset .checkbox label[for="'+T[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==T[t]&&C.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:T[t],offset:e,nonce:C('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(C('body .section-repair_forums .settings fieldset .checkbox label[for="'+T[t]+'"] .loader-repair-tools').remove(),C('body .section-repair_forums .settings fieldset .checkbox label[for="'+T[t]+'"] code').remove(),C('body .section-repair_forums .settings fieldset .checkbox label[for="'+T[t]+'"]').append("<code>"+e.data.records+"</code>")):(C('body .section-repair_forums .settings fieldset .checkbox label[for="'+T[t]+'"] .loader-repair-tools').remove(),0===e.data.status?C(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):C(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),v(e.data.offset,t),T.length===t&&C("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return C("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},C(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),T=[],setTimeout(function(){C("body .section-repair_forums .settings fieldset .updated").remove()},500),C.each(C('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){T.push(C(this).val())}),T.length&&(C("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),C("body .section-repair_forums .settings fieldset .checkbox code").remove(),v(1,0))}));var x=C("#allow-custom-registration");x.length&&(0===parseInt(x.val())?(C(".register-text-box").hide(),C(".register-email-checkbox").show(),C(".register-password-checkbox").show()):(C(".register-email-checkbox").hide(),C(".register-password-checkbox").hide(),C(".register-text-box").show()),C(x).change(function(){0===parseInt(C(this).val())?(C(".register-text-box").hide(),C(".register-email-checkbox").show(),C(".register-password-checkbox").show(),C(".registration-form-main-select p.description").show()):(C(".register-email-checkbox").hide(),C(".register-password-checkbox").hide(),C(".register-text-box").show(),C(".registration-form-main-select p.description").hide())}))})}();