!function(){var j=jQuery.noConflict(),I=[],D=[];function T(e,t,n){var i=new Date;i.setTime(i.getTime()+60*n*1e3);var s="expires="+i.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}j(function(){j("[data-run-js-condition]").each(function(){var t=j(this).data("run-js-condition"),n=j(this).prop("tagName");j(this).on("change.run-condition",function(){if("SELECT"===n&&j(this).is(":visible")){var e=t+"-"+j(this).val();return j('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),j(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}j(this).prop("checked")&&j(this).is(":visible")?(j(".js-hide-on-"+t).hide(),j(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(j(".js-hide-on-"+t).show(),j(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),j(document).find(".buddyboss_page_bp-pages .bp-admin-card").length&&j(document).on("click",".create-background-page",function(){var e=j(this).attr("data-name");j.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),j(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=j(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),j(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=j(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)})}),j(document).ready(function(){var e,t,n,i,s,o,a,r,p,d,c=j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");j("body.buddypress.post-type-bp-group-type").length&&(e=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),j(c).removeClass("current"),j(e).addClass("current"),j(e).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),j("body.buddypress.post-type-bp-email").length&&(t=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),j(c).removeClass("current"),j(t).addClass("current"),j(t).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),j("body.buddypress.post-type-topic").length&&(n=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),j(n).addClass("current"),j(n).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),j("body.buddypress.post-type-reply").length&&(i=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),j(i).addClass("current"),j(i).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),j("body.buddypress.post-type-bp-member-type").length&&(s=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),j(c).removeClass("current"),j(s).addClass("current"),j(s).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),j("body.buddypress.post-type-bp_ps_form").length&&(o=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),j(c).removeClass("current"),j(o).addClass("current"),j(o).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),j("body.buddypress.buddyboss_page_bbp-repair").length&&(a=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),j(c).removeClass("current"),j(a).addClass("current"),j(a).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),j("body.buddypress.buddyboss_page_bbp-converter").length&&(r=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),j(c).removeClass("current"),j(r).addClass("current"),j(r).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),j("body.buddypress.buddyboss_page_bp-media-import").length&&(p=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),j(c).removeClass("current"),j(p).addClass("current"),j(p).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(j("body.buddypress.buddyboss_page_bp-member-type-import").length||j("body.buddypress.buddyboss_page_bp-repair-community").length)&&(d=j('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),j(c).removeClass("current"),j(d).addClass("current"),j(d).attr("aria-current","page"),j("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),j("body .section-bp_search_settings_community").length&&(j("body .section-bp_search_settings_community table td input:checkbox:checked").length===j("body .section-bp_search_settings_community table td input:checkbox").length&&j("#bp_search_select_all_components").prop("checked",!0),j("#bp_search_select_all_components").click(function(){var e=j("body .section-bp_search_settings_community table");j("td input:checkbox",e).prop("checked",this.checked)}),j("body .section-bp_search_settings_community table td input:checkbox").click(function(){j("body .section-bp_search_settings_community table td input:checkbox:checked").length===j("body .section-bp_search_settings_community table td input:checkbox").length?j("#bp_search_select_all_components").prop("checked",!0):j("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===j(this).attr("id")&&!0===j(this).prop("checked")&&!1===j("#bp_search_post_type_topic").prop("checked")&&j("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===j(this).attr("id")&&!0!==j(this).prop("checked")&&!0===j("#bp_search_topic_tax_topic-tag").prop("checked")&&j("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),j("body .section-bp_search_settings_post_types").length&&(j("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===j("body .section-bp_search_settings_post_types table td input:checkbox").length&&j("#bp_search_select_all_post_types").prop("checked",!0),j("#bp_search_select_all_post_types").click(function(){var e=j("body .section-bp_search_settings_post_types table");j("td input:checkbox",e).prop("checked",this.checked)}),j("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){j("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===j("body .section-bp_search_settings_post_types table td input:checkbox").length?j("#bp_search_select_all_post_types").prop("checked",!0):j("#bp_search_select_all_post_types").prop("checked",!1)})),j("body .section-bp_document_settings_extensions").length&&(j(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&j("#bp_select_extensions").prop("checked",!0),j("#bp_select_extensions").click(function(){var e=j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");j("td input:checkbox",e).prop("checked",this.checked)}),j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===j("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?j("#bp_select_extensions").prop("checked",!0):j("#bp_select_extensions").prop("checked",!1)}),j("form").submit(function(){var e=!1;if(j('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){""===j.trim(j(this).val())?(j(this).addClass("error"),e=!0):j(this).hasClass("error")&&j(this).removeClass("error")}),e)return!1})),j(".buddyboss_page_bp-activity").length&&j(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=j(this).find("video").get(0),n=j(this).find(".gif-play-button");!0===t.paused?(t.play(),n.hide()):(t.pause(),n.show())}),j("body.buddyboss_page_bp-help").length&&(j(".bp-help-card-grid").on("click","span.open",function(){j(this).toggleClass("active"),j(this).closest(".main").find("ul:first").toggle()}),j(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),j(".bp-help-card-grid li.selected").find("ul:first").show(),j(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),j(".bp-help-card-grid .sub-menu-count").each(function(){j(this).text("("+j(this).closest("li").find("ul:first li").size()+")")})),j(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?j(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():j(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),j(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?j(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(j(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),j("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))})),j("#bp_media_profile_media_support").change(function(){this.checked?j("#bp_media_profile_albums_support").prop("disabled",!1):(j("#bp_media_profile_albums_support").prop("disabled",!0),j("#bp_media_profile_albums_support").attr("checked",!1))}),j("#bp_media_group_media_support").change(function(){this.checked?j("#bp_media_group_albums_support").prop("disabled",!1):(j("#bp_media_group_albums_support").prop("disabled",!0),j("#bp_media_group_albums_support").attr("checked",!1))}),j(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){j('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var l,u,m,b=function(){j.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,n,i,s,o;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,n=e.data.total_albums,i=e.data.albums_done,s=e.data.media_done,o=e.data.import_status,j("#bp-media-import-albums-total").text(n),j("#bp-media-import-media-total").text(t),j("#bp-media-import-albums-done").text(i),j("#bp-media-import-media-done").text(s),"reset_albums"==o||"reset_media"==o||"reset_forum"==o||"reset_topic"==o||"reset_reply"==o||"reset_options"==o?j("#bp-media-resetting").show():j("#bp-media-resetting").hide(),"done"==o&&n==i&&t==s?(j("#bp-media-import-msg").text(e.data.success_msg),j("#bp-media-import-submit").show()):b()):j("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};j("#bp-media-import-updating").length&&b(),j(".display-options").length&&(l=j(".display-options"),u=j("select[name=bp-display-name-format]"),m=u.val(),j(l).each(function(){j(this).hide()}),"first_name"===m?(j(".first-name-options").show(),j(".nick-name-options").hide(),j(".first-last-name-options").hide()):"first_last_name"===m?(j(".first-last-name-options").show(),j(".first-name-options").hide(),j(".nick-name-options").hide()):(j(".nick-name-options").show(),j(".first-name-options").hide(),j(".first-last-name-options").hide()),j(u).change(function(){j(l).each(function(){j(this).hide()}),"first_name"===(m=j(this).val())?(j(".first-name-options").show(),j(".nick-name-options").hide(),j(".first-last-name-options").hide()):"first_last_name"===m?(j(".first-last-name-options").show(),j(".first-name-options").hide(),j(".nick-name-options").hide()):(j(".nick-name-options").show(),j(".first-name-options").hide(),j(".first-last-name-options").hide())}));var h,_,f=j(".profile-layout-options");f.length&&(h=j("select[name=bp-profile-layout-format]"),_=h.val(),j(f).each(function(){j(this).hide()}),"list_grid"===_?j(".profile-default-layout").show():j(".profile-default-layout").hide(),j(h).change(function(){j(f).each(function(){j(this).hide()}),"list_grid"===(_=j(this).val())?j(".profile-default-layout").show():j(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var i=e[n].split("=");t[(i[0]+"").trim()]=unescape(i.slice(1).join("="))}return t}().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),T("reset_member","",0)));var g,y,x,v,w=j(".group-layout-options");w.length&&(g=j("select[name=bp-group-layout-format]"),y=g.val(),j(w).each(function(){j(this).hide()}),"list_grid"===y?j(".group-default-layout").show():j(".group-default-layout").hide(),j(g).change(function(){j(w).each(function(){j(this).hide()}),"list_grid"===(y=j(this).val())?j(".group-default-layout").show():j(".group-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var i=e[n].split("=");t[(i[0]+"").trim()]=unescape(i.slice(1).join("="))}return t}().reset_group&&(localStorage.setItem("bp-groups",""),T("reset_group","",0))),j("#bp-tools-submit").length&&(x=function(e,t){if(void 0===I[t])return!1;j('body .section-repair_community .settings fieldset .checkbox label[for="'+I[t]+'"]').append('<div class="loader-repair-tools"></div>'),j.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:I[t],offset:e,nonce:j('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return j("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(j('body .section-repair_community .settings fieldset .checkbox label[for="'+I[t]+'"] .loader-repair-tools').remove(),j('body .section-repair_community .settings fieldset .checkbox label[for="'+I[t]+'"] code').remove(),j('body .section-repair_community .settings fieldset .checkbox label[for="'+I[t]+'"]').append("<code>"+e.data.records+"</code>")):(j('body .section-repair_community .settings fieldset .checkbox label[for="'+I[t]+'"] .loader-repair-tools').remove(),j(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),x(e.data.offset,t),I.length===t&&j("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return j("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},j(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),I=[],setTimeout(function(){j("body .section-repair_community .settings fieldset .updated").remove()},500),j.each(j('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){I.push(j(this).val())}),I.length&&(j("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),j("body .section-repair_community .settings fieldset .checkbox code").remove(),x(1,0))})),j("#bp-tools-forum-submit").length&&(v=function(e,t){j('body .section-repair_forums .settings fieldset .checkbox label[for="'+D[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==D[t]&&j.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:D[t],offset:e,site_id:j("body .section-repair_forums #bbp-network-site").val(),nonce:j('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(j('body .section-repair_forums .settings fieldset .checkbox label[for="'+D[t]+'"] .loader-repair-tools').remove(),j('body .section-repair_forums .settings fieldset .checkbox label[for="'+D[t]+'"] code').remove(),j('body .section-repair_forums .settings fieldset .checkbox label[for="'+D[t]+'"]').append("<code>"+e.data.records+"</code>")):(j('body .section-repair_forums .settings fieldset .checkbox label[for="'+D[t]+'"] .loader-repair-tools').remove(),0===e.data.status?j(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):j(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),v(e.data.offset,t),D.length===t&&j("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return j("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},j(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),D=[];var t=j("body .section-repair_forums #bbp-network-site");if(t.length&&"0"===t.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){j("body .section-repair_forums .settings fieldset .updated").remove()},500),j.each(j('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){D.push(j(this).val())}),D.length&&(j("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),j("body .section-repair_forums .settings fieldset .checkbox code").remove(),v(1,0))}));var k=j("#allow-custom-registration");function C(){j(".document-extensions-listing .extension-icon").each(function(){var t,e,n;0===j(this).closest("td").find(".icon-select-main").length&&(t=[],j(this).closest("td").find("select.extension-icon option").each(function(){var e='<li><i class="'+j(this).val()+'"></i><span>'+this.innerText+"</span></li>";t.push(e)}),j(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+t+"</ul></div></div>"),e=j(this).closest("td").find(".extension-icon").val(),n=j(this).closest("td").find(".extension-icon option:selected").text(),j(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+e+'"></i><span>'+n+"</span></li>"))})}k.length&&(0===parseInt(k.val())?(j(".register-text-box").hide(),j(".register-email-checkbox").show(),j(".register-password-checkbox").show()):(j(".register-email-checkbox").hide(),j(".register-password-checkbox").hide(),j(".register-text-box").show()),j(k).change(function(){0===parseInt(j(this).val())?(j(".register-text-box").hide(),j(".register-email-checkbox").show(),j(".register-password-checkbox").show(),j(".registration-form-main-select p.description").show()):(j(".register-email-checkbox").hide(),j(".register-password-checkbox").hide(),j(".register-text-box").show(),j(".registration-form-main-select p.description").hide())})),j(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=j(this).closest("table.extension-listing"),t=j(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),n=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),C(),e.find("tbody tr.extra-extension").each(function(){j(this).find("input.extension-check").attr("name","bp_document_extensions_support["+n+"][is_active]"),j(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+n+"][is_active]"),j(this).find("input.extension-name").attr("name","bp_document_extensions_support["+n+"][name]"),j(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+n+"][name]"),j(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+n+"][hidden]"),j(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+n+"][hidden]"),j(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+n+"][extension]"),j(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+n+"][extension]"),j(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+n+"][icon]"),j(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+n+"][icon]"),j(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+n+"][mime_type]"),j(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+n+"][mime_type]"),j(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+n+"][description]"),j(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+n+"][description]"),j(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+n+"][mime_type]"),n+=1}),n=parseInt(j(".extension-listing tr.default-extension").length)}),C(),j(document).on("click",".custom-extension-list-select li",function(){var e=j(this).find("i").attr("class"),t='<li><i class="'+e+'"></i><span>'+this.innerText+"</span></li>";j(this).closest("td").find(".icon-select-main .icon-select-button").html(t),j(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),j(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),j(this).closest(".icon-select-main").siblings(".bb-icon").length&&j(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),j(document).on("click",".icon-select-main .icon-select-button",function(){j(this).siblings(".custom-extension-list").toggle()}),j(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=j(this).closest("table.extension-listing");console.log(parseInt(j(".extension-listing tr.extra-extension").length)),j(this).closest("tr").remove(),console.log(parseInt(j(".extension-listing tr.extra-extension").length));var t=parseInt(j(".extension-listing tr.extra-extension").length),t=1;e.find("tbody tr.extra-extension").each(function(){console.log(t),j(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),j(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),j(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),j(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),j(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),j(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),j(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),j(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),j(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),j(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),j(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),j(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),j(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),j(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),j(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();var t=j("#bp-document-file-input").prop("files")[0];if(void 0===t)return alert(BP_ADMIN.select_document),!1;var n=new FormData;n.append("file",t),n.append("action","bp_document_check_file_mime_type"),j.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:n,type:"post",success:function(e){j(".show-document-mime-type").show(),j(".show-document-mime-type input.type").val(e.data.type)}})}),j(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var t=j(this).attr("id");console.log(t),j(document).find('input[name="'+t+'"]').val("");var n=j(document).find("#mime-type").val();console.log(n),j(document).find('input[name="'+t+'"]').val(n),j(document).find(".close-modal").trigger("click")}),j(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();var t,n=j(this).attr("id");j(document).find(".mime-copy").attr("id",n),j(document).find(".bp-hello-mime").attr("id","bp-hello-container"),j(document).find("#bp-hello-backdrop").length||(t=j(document).find(".bp-hello-mime"),j('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(t));var i,s=document.getElementById("bp-hello-backdrop"),o=document.getElementById("bp-hello-container");null!==s&&(document.body.classList.add("bp-disable-scroll"),s.style.display="",o.style.display="",i=o.querySelectorAll("a[href], button"),(i=Array.prototype.slice.call(i))[0].focus())}),document.addEventListener("click",function(e){var t,n=document.getElementById("bp-hello-backdrop");n&&document.getElementById("bp-hello-container")&&(t=n.contains(e.target),(e.target.classList.contains("close-modal")||t)&&(j(document).find("#bp-document-file-input").val(""),j(document).find(".show-document-mime-type").hide(),j(document).find(".show-document-mime-type input#mime-type").val("")))},!1)})}();