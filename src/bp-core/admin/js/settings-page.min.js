window.bp=window.bp||{},function(){var L=jQuery.noConflict(),O=[],z=[];function F(e,t,o){var a=new Date;a.setTime(a.getTime()+60*o*1e3);a="expires="+a.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}L(function(){L("[data-run-js-condition]").each(function(){var t=L(this).data("run-js-condition"),o=L(this).prop("tagName");L(this).on("change.run-condition",function(){if("SELECT"===o&&L(this).is(":visible")){var e=t+"-"+L(this).val();return L('[class*="js-show-on-'+t+'-"]:not(.js-show-on-'+e+")").hide(),L(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}L(this).prop("checked")&&L(this).is(":visible")?(L(".js-hide-on-"+t).hide(),L(".js-show-on-"+t).show().find("[data-run-js-condition]").trigger("change.run-condition")):(L(".js-hide-on-"+t).show(),L(".js-show-on-"+t).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),L(document).find(".buddyboss_page_bp-pages .bp-admin-card").length&&L(document).on("click",".create-background-page",function(){var e=L(this).attr("data-name");L.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){e.success&&(window.location.href=e.data.url)}})}),L(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var t=L(e.delegateTarget).prevAll(".bp-search-parent-field").first();t.length&&e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!0)}),L(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var t=L(e.delegateTarget).nextUntil(".bp-search-parent-field");t.length&&!e.currentTarget.checked&&t.find('input[type="checkbox"]').prop("checked",!1)})}),L(document).ready(function(){var e,t,o,a,i,n,s=L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");L("body.buddypress.post-type-bp-group-type").length&&(e=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]'),L(s).removeClass("current"),L(e).addClass("current"),L(e).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")),L("body.buddypress.post-type-bp-email").length&&(e=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]'),L(s).removeClass("current"),L(e).addClass("current"),L(e).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")),L("body.buddypress.post-type-topic").length&&(t=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),L(t).addClass("current"),L(t).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),L("body.buddypress.post-type-reply").length&&(t=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]'),L(t).addClass("current"),L(t).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")),L("body.buddypress.post-type-bp-member-type").length&&(o=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),L(s).removeClass("current"),L(o).addClass("current"),L(o).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),L("body.buddypress.post-type-bp_ps_form").length&&(o=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]'),L(s).removeClass("current"),L(o).addClass("current"),L(o).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")),L("body.buddypress.buddyboss_page_bbp-repair").length&&(a=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),L(s).removeClass("current"),L(a).addClass("current"),L(a).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),L("body.buddypress.buddyboss_page_bbp-converter").length&&(a=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),L(s).removeClass("current"),L(a).addClass("current"),L(a).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),L("body.buddypress.buddyboss_page_bp-media-import").length&&(i=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),L(s).removeClass("current"),L(i).addClass("current"),L(i).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),(L("body.buddypress.buddyboss_page_bp-member-type-import").length||L("body.buddypress.buddyboss_page_bp-repair-community").length)&&(n=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]'),L(s).removeClass("current"),L(n).addClass("current"),L(n).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")),L("body.buddypress.taxonomy-bpm_category").length&&(i=L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu li"),n=L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform"),d=L('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-moderation"]'),L(i).removeClass("wp-has-current-submenu"),L(i).removeClass("wp-menu-open"),L(n).addClass("wp-has-current-submenu wp-menu-open"),L(s).removeClass("current"),L(d).addClass("current"),L(d).attr("aria-current","page"),L("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-moderation"]').parent().addClass("current")),L("body .section-bp_search_settings_community").length&&(L("body .section-bp_search_settings_community table td input:checkbox:checked").length===L("body .section-bp_search_settings_community table td input:checkbox").length&&L("#bp_search_select_all_components").prop("checked",!0),L("#bp_search_select_all_components").click(function(){var e=L("body .section-bp_search_settings_community table");L("td input:checkbox",e).prop("checked",this.checked)}),L("body .section-bp_search_settings_community table td input:checkbox").click(function(){L("body .section-bp_search_settings_community table td input:checkbox:checked").length===L("body .section-bp_search_settings_community table td input:checkbox").length?L("#bp_search_select_all_components").prop("checked",!0):L("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===L(this).attr("id")&&!0===L(this).prop("checked")&&!1===L("#bp_search_post_type_topic").prop("checked")&&L("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===L(this).attr("id")&&!0!==L(this).prop("checked")&&!0===L("#bp_search_topic_tax_topic-tag").prop("checked")&&L("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),L("body .section-bp_search_settings_post_types").length&&(L("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===L("body .section-bp_search_settings_post_types table td input:checkbox").length&&L("#bp_search_select_all_post_types").prop("checked",!0),L("#bp_search_select_all_post_types").click(function(){var e=L("body .section-bp_search_settings_post_types table");L("td input:checkbox",e).prop("checked",this.checked)}),L("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){L("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===L("body .section-bp_search_settings_post_types table td input:checkbox").length?L("#bp_search_select_all_post_types").prop("checked",!0):L("#bp_search_select_all_post_types").prop("checked",!1)})),L("body .section-bp_document_settings_extensions").length&&(L(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length&&L("#bp_select_extensions").prop("checked",!0),L("#bp_select_extensions").click(function(){var e=L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr");L("td input:checkbox",e).prop("checked",this.checked)}),L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").click(function(){L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox:checked").length===L("body .section-bp_document_settings_extensions table tbody tr td table tbody tr td input:checkbox").length?L("#bp_select_extensions").prop("checked",!0):L("#bp_select_extensions").prop("checked",!1)}),L("form").submit(function(){var e=!1;if(L('body .section-bp_document_settings_extensions table tbody tr td table tbody tr.document-extensions td [type="text"]').each(function(){""===L.trim(L(this).val())?(L(this).addClass("error"),e=!0):L(this).hasClass("error")&&L(this).removeClass("error")}),e)return!1})),L(".buddyboss_page_bp-activity").length&&L(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var t=L(this).find("video").get(0),e=L(this).find(".gif-play-button");!0===t.paused?(t.play(),e.hide()):(t.pause(),e.show())}),L("body.buddyboss_page_bp-help").length&&(L(".bp-help-card-grid").on("click","span.open",function(){L(this).toggleClass("active"),L(this).closest(".main").find("ul:first").toggle()}),L(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),L(".bp-help-card-grid li.selected").find("ul:first").show(),L(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),L(".bp-help-card-grid .sub-menu-count").each(function(){L(this).text("("+L(this).closest("li").find("ul:first li").size()+")")})),L(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?L(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():L(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),L(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?L(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").show():(L(".bp-enable-group-restrict-invites, .bp-enable-group-hide-subgroups").hide(),L("#bp-enable-group-restrict-invites, #bp-enable-group-hide-subgroups").prop("checked",!1))})),L(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-type-creation").checked?L(".bb-group-headers-elements .bb-group-headers-element-group-type").show():L(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),L(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(L(".bb-group-headers-elements .bb-group-headers-element-group-type").show(),L(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!0)):(L(".bb-group-headers-elements .bb-group-headers-element-group-type").hide(),L(".bb-group-headers-elements #bb-group-headers-element-group-type").prop("checked",!1))})),L(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-cover-image-uploads").checked?L(".bb-group-elements .bb-group-element-cover-images").show():L(".bb-group-elements .bb-group-element-cover-images").hide(),L(document).on("click","#bp-disable-group-cover-image-uploads",function(){!0===this.checked?(L(".bb-group-elements .bb-group-element-cover-images").show(),L(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!0)):(L(".bb-group-elements .bb-group-element-cover-images").hide(),L(".bb-group-elements #bb-group-directory-layout-element-cover-images").prop("checked",!1))})),L(".buddyboss_page_bp-settings .section-bp_groups").length&&(document.getElementById("bp-disable-group-avatar-uploads").checked?L(".bb-group-elements .bb-group-element-avatars").show():L(".bb-group-elements .bb-group-element-avatars").hide(),L(document).on("click","#bp-disable-group-avatar-uploads",function(){!0===this.checked?(L(".bb-group-elements .bb-group-element-avatars").show(),L(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!0)):(L(".bb-group-elements .bb-group-element-avatars").hide(),L(".bb-group-elements #bb-group-directory-layout-element-avatars").prop("checked",!1))})),L(".buddyboss_page_bp-settings .section-bp_groups_types").length&&(document.getElementById("bp-disable-group-type-creation").checked?L(".bb-group-elements .bb-group-element-group-type").show():L(".bb-group-elements .bb-group-element-group-type").hide(),L(document).on("click","#bp-disable-group-type-creation",function(){!0===this.checked?(L(".bb-group-elements .bb-group-element-group-type").show(),L(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!0)):(L(".bb-group-elements .bb-group-element-group-type").hide(),L(".bb-group-elements #bb-group-directory-layout-element-group-type").prop("checked",!1))})),L(".buddyboss_page_bp-settings .section-bp_custom_post_type").length&&(L(".bp-feed-post-type-checkbox").each(function(){var e=L(this).data("post_type");!0===this.checked&&L(".bp-feed-post-type-comment-"+e).closest("tr").show()}),L(".buddyboss_page_bp-settings .section-bp_custom_post_type").on("click",".bp-feed-post-type-checkbox",function(){var e=L(this).data("post_type"),e=L(".bp-feed-post-type-comment-"+e);!0===this.checked?e.closest("tr").show():e.prop("checked",!1).closest("tr").hide()})),L("#bp_media_profile_media_support").change(function(){this.checked?L("#bp_media_profile_albums_support").prop("disabled",!1):(L("#bp_media_profile_albums_support").prop("disabled",!0),L("#bp_media_profile_albums_support").attr("checked",!1))}),L("#bp_media_group_media_support").change(function(){this.checked?L("#bp_media_group_albums_support").prop("disabled",!1):(L("#bp_media_group_albums_support").prop("disabled",!0),L("#bp_media_group_albums_support").attr("checked",!1))}),L("body .section-bp_video_settings_extensions").length&&(L(document).find(".nav-settings-subsubsub .subsubsub li.bp-media a").addClass("current"),L(".video-extensions-listing #bp_select_extensions").click(function(){var e=L("body .section-bp_video_settings_extensions table tbody tr td table tbody tr");L("td input:checkbox",e).prop("checked",this.checked)})),L(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){L('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);function r(){L.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){var t,o,a,i,n;void 0!==e.success&&void 0!==e.data?(t=e.data.total_media,o=e.data.total_albums,a=e.data.albums_done,i=e.data.media_done,n=e.data.import_status,L("#bp-media-import-albums-total").text(o),L("#bp-media-import-media-total").text(t),L("#bp-media-import-albums-done").text(a),L("#bp-media-import-media-done").text(i),"reset_albums"==n||"reset_media"==n||"reset_forum"==n||"reset_topic"==n||"reset_reply"==n||"reset_options"==n?L("#bp-media-resetting").show():L("#bp-media-resetting").hide(),"done"==n&&o==a&&t==i?(L("#bp-media-import-msg").text(e.data.success_msg),L("#bp-media-import-submit").show()):r()):L("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})}var p,d,c;L("#bp-media-import-updating").length&&r(),L(".display-options").length&&(p=L(".display-options"),d=L("select[name=bp-display-name-format]"),c=d.val(),L(p).each(function(){L(this).hide()}),"first_name"===c?(L(".first-name-options").show(),L(".nick-name-options").hide(),L(".first-last-name-options").hide()):"first_last_name"===c?(L(".first-last-name-options").show(),L(".first-name-options").hide(),L(".nick-name-options").hide()):(L(".nick-name-options").show(),L(".first-name-options").hide(),L(".first-last-name-options").hide()),L(d).change(function(){L(p).each(function(){L(this).hide()}),"first_name"===(c=L(this).val())?(L(".first-name-options").show(),L(".nick-name-options").hide(),L(".first-last-name-options").hide()):"first_last_name"===c?(L(".first-last-name-options").show(),L(".first-name-options").hide(),L(".nick-name-options").hide()):(L(".nick-name-options").show(),L(".first-name-options").hide(),L(".first-last-name-options").hide())}));var l,u=L(".profile-layout-options");u.length&&(v=L("select[name=bp-profile-layout-format]"),l=v.val(),L(u).each(function(){L(this).hide()}),"list_grid"===l?L(".profile-default-layout").show():L(".profile-default-layout").hide(),L(v).change(function(){L(u).each(function(){L(this).hide()}),"list_grid"===(l=L(this).val())?L(".profile-default-layout").show():L(".profile-default-layout").hide()}),function(){for(var e=document.cookie.split(";"),t={},o=0;o<e.length;o++){var a=e[o].split("=");t[(a[0]+"").trim()]=unescape(a.slice(1).join("="))}return t}().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),F("reset_member","",0)));var m,b,h,f=L(".group-layout-options:not(.group-header-style)");f.length&&(w=L("select[name=bp-group-layout-format]"),m=w.val(),L(f).each(function(){L(this).hide()}),"list_grid"===m?(L(".group-gride-style").show(),L(".group-default-layout").show()):("grid"===m&&L(".group-gride-style").show(),L(".group-default-layout").hide()),L(w).change(function(){L(f).each(function(){L(this).hide()}),"list_grid"===(m=L(this).val())?(L(".group-gride-style").show(),L(".group-default-layout").show()):("grid"===m&&L(".group-gride-style").show(),L(".group-default-layout").hide())}),function(){for(var e=document.cookie.split(";"),t={},o=0;o<e.length;o++){var a=e[o].split("=");t[(a[0]+"").trim()]=unescape(a.slice(1).join("="))}return t}().reset_group&&(localStorage.setItem("bp-groups",""),F("reset_group","",0))),L("#bp-tools-submit").length&&(b=function(e,t){if(void 0===O[t])return!1;L('body .section-repair_community .settings fieldset .checkbox label[for="'+O[t]+'"]').append('<div class="loader-repair-tools"></div>'),L.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:O[t],offset:e,nonce:L('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){if(void 0!==e.success){if(!e.success||void 0===e.data)return L("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1;"running"===e.data.status?(L('body .section-repair_community .settings fieldset .checkbox label[for="'+O[t]+'"] .loader-repair-tools').remove(),L('body .section-repair_community .settings fieldset .checkbox label[for="'+O[t]+'"] code').remove(),L('body .section-repair_community .settings fieldset .checkbox label[for="'+O[t]+'"]').append("<code>"+e.data.records+"</code>")):(L('body .section-repair_community .settings fieldset .checkbox label[for="'+O[t]+'"] .loader-repair-tools').remove(),L(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),b(e.data.offset,t),O.length===t&&L("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn")}},error:function(){return L("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})},L(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),O=[],setTimeout(function(){L("body .section-repair_community .settings fieldset .updated").remove()},500),L.each(L('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){O.push(L(this).val())}),O.length&&(L("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),L("body .section-repair_community .settings fieldset .checkbox code").remove(),b(0,0))})),L("#bp-tools-forum-submit").length&&(h=function(e,t){L('body .section-repair_forums .settings fieldset .checkbox label[for="'+z[t]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==z[t]&&L.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:z[t],offset:e,site_id:L("body .section-repair_forums #bbp-network-site").val(),nonce:L('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(L('body .section-repair_forums .settings fieldset .checkbox label[for="'+z[t]+'"] .loader-repair-tools').remove(),L('body .section-repair_forums .settings fieldset .checkbox label[for="'+z[t]+'"] code').remove(),L('body .section-repair_forums .settings fieldset .checkbox label[for="'+z[t]+'"]').append("<code>"+e.data.records+"</code>")):(L('body .section-repair_forums .settings fieldset .checkbox label[for="'+z[t]+'"] .loader-repair-tools').remove(),0===e.data.status?L(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):L(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),t+=1),h(e.data.offset,t),z.length===t&&L("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return L("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})},L(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),z=[];e=L("body .section-repair_forums #bbp-network-site");if(e.length&&"0"===e.val())return alert(BP_ADMIN.tools.repair_forums.validate_site_id_message),!1;setTimeout(function(){L("body .section-repair_forums .settings fieldset .updated").remove()},500),L.each(L('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){z.push(L(this).val())}),z.length&&(L("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),L("body .section-repair_forums .settings fieldset .checkbox code").remove(),h(1,0))}));var v=L("#allow-custom-registration");v.length&&(0===parseInt(v.val())?(L(".register-text-box").hide(),L(".register-email-checkbox").show(),L(".register-password-checkbox").show(),L(".register-legal-agreement-checkbox").show()):(L(".register-email-checkbox").hide(),L(".register-password-checkbox").hide(),L(".register-legal-agreement-checkbox").hide(),L(".register-text-box").show()),L(v).change(function(){0===parseInt(L(this).val())?(L(".register-text-box").hide(),L(".register-email-checkbox").show(),L(".register-password-checkbox").show(),L(".register-legal-agreement-checkbox").show(),L(".registration-form-main-select p.description").show()):(L(".register-email-checkbox").hide(),L(".register-password-checkbox").hide(),L(".register-legal-agreement-checkbox").hide(),L(".register-text-box").show(),L(".registration-form-main-select p.description").hide())}));var g,y=L("#bp-profile-avatar-type"),w=L("input[type=radio][name=bp-default-profile-avatar-type]"),x=(L("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),L(".default-profile-avatar-type")),k=L(".default-profile-avatar-custom"),C=L(".enable-profile-gravatar-field"),B=L(".bb-wordpress-profile-gravatar-warning"),D=L(".preview-avatar-cover-image"),I=D.find(".web-preview-wrap"),j=D.find(".app-preview-wrap");y.length&&L(y).change(function(){x.addClass("bp-hide"),k.addClass("bp-hide"),B.addClass("bp-hide"),C.addClass("bp-hide");var e="",t=I.find(".preview-item-avatar img");D.find(".preview_avatar_cover").removeClass("has-avatar"),"BuddyBoss"===L(this).val()?(C.removeClass("bp-hide"),x.removeClass("bp-hide"),g=L("input[type=radio][name=bp-default-profile-avatar-type]:checked").val(),e=L("."+g+"-profile-avatar").prop("src"),"custom"===g&&(k.removeClass("bp-hide"),void 0!==(e=L("#bp-default-user-custom-avatar").val()).length&&0==e.length&&(e=t.attr("data-blank-avatar")))):"WordPress"===L(this).val()&&(BP_ADMIN.avatar_settings.wordpress_show_avatar||B.removeClass("bp-hide"),e=t.attr("data-wordpress-avatar")),void 0!==e.length&&0<e.length&&D.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),j.find(".preview-item-avatar img").prop("src",e)}),w.length&&L(w).change(function(){D.find(".preview_avatar_cover").removeClass("has-avatar");var e="",t=I.find(".preview-item-avatar img");"BuddyBoss"===y.val()&&"custom"===this.value?(k.removeClass("bp-hide"),void 0!==(e=L("#bp-default-user-custom-avatar").val()).length&&0==e.length&&(e=t.attr("data-blank-avatar"))):(e=L("."+this.value+"-profile-avatar").prop("src"),k.addClass("bp-hide")),void 0!==e.length&&0<e.length&&D.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),j.find(".preview-item-avatar img").prop("src",e)});var v=L("#bp-disable-cover-image-uploads"),w=L("input[type=radio][name=bp-default-profile-cover-type]"),P=L("input[type=radio][name=bp-default-profile-cover-type]:checked").val();function A(e,t,o){e.find(".bp-feedback").removeClass("success error").addClass(o).find("p").html(t),e.show()}v.length&&L(v).change(function(){D.find(".preview_avatar_cover").removeClass("has-cover");var e=I.find(".preview-item-cover img"),t=j.find(".preview-item-cover img");L(this).prop("checked")?(L(".profile-cover-options").removeClass("bp-hide"),P=L("input[type=radio][name=bp-default-profile-cover-type]:checked").val(),D.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==P&&(L(".default-profile-cover-custom").addClass("bp-hide"),"buddyboss"===P&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))):L(".profile-cover-options").addClass("bp-hide")}),w.length&&L(w).change(function(){D.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=I.find(".preview-item-cover img"),t=j.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(L(".default-profile-cover-custom").removeClass("bp-hide"),e.prop("src",L("#bp-default-custom-user-cover").val()),t.prop("src",L("#bp-default-custom-user-cover").val())):(L(".default-profile-cover-custom").addClass("bp-hide"),"buddyboss"===(P=L("input[type=radio][name=bp-default-profile-cover-type]:checked").val())&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))}),L(".custom-profile-group-avatar").on("click","a.bp-delete-custom-avatar",function(e){var o,a,t;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(o=L(this),a=o.parents("tr").find(".bb-custom-profile-group-avatar-feedback"),e=BP_Uploader.settings.defaults.multipart_params.bp_params.item_id,t=BP_Uploader.settings.defaults.multipart_params.bp_params.object,o.html(o.data("removing")),a.hide(),a.find(".bp-feedback").removeClass("success error"),bp.ajax.post("bp_avatar_delete",{json:!0,item_id:e,item_type:BP_Uploader.settings.defaults.multipart_params.bp_params.item_type,object:t,nonce:BP_Uploader.settings.defaults.multipart_params.bp_params.nonces.remove}).done(function(e){o.html(o.data("remove")),L(".default-profile-avatar-custom ."+t+"-"+e.item_id+"-avatar").each(function(){L(this).prop("src",e.avatar)}),L(".custom-profile-group-avatar a.bb-img-remove-button").length&&L(".custom-profile-group-avatar a.bb-img-remove-button").addClass("bp-hide"),L(".custom-profile-group-avatar .bb-upload-container img").prop("src",e.avatar).addClass("bp-hide"),L(".custom-profile-group-avatar .bb-upload-container .bb-default-custom-avatar-field").val(""),L(".preview_avatar_cover .preview-item-avatar img").prop("src","")}).fail(function(e){var t=BP_Uploader.strings.default_error;o.html(o.data("remove")),_.isUndefined(e)||(t=BP_Uploader.strings.feedback_messages[e.feedback_code]),A(a,t,"error")}))}),L(document).on("change","#default-profile-cover-file, #default-group-cover-file",function(e){e.preventDefault();var t=L(this)[0].files[0],e=L(".custom-profile-group-cover"),a=e.find(".bb-img-upload-button"),i=e.find(".bb-custom-profile-group-cover-feedback"),n=e.find(".bb-upload-preview"),s=e.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),r=e.find("a.bb-img-remove-button");if(a.html(a.data("uploading")),i.hide(),i.find(".bp-feedback").removeClass("success error"),void 0===t)return A(i,BP_ADMIN.profile_group_cover.select_file,"error"),!1;e=new FormData;e.append("file",t),e.append("name",t.name),e.append("_wpnonce",BP_ADMIN.profile_group_cover.upload.nonce),e.append("action",BP_ADMIN.profile_group_cover.upload.action),e.append("bp_params[object]",BP_ADMIN.profile_group_cover.upload.object),e.append("bp_params[item_id]",BP_ADMIN.profile_group_cover.upload.item_id),e.append("bp_params[item_type]",BP_ADMIN.profile_group_cover.upload.item_type),e.append("bp_params[has_cover_image]",BP_ADMIN.profile_group_cover.upload.has_cover_image),e.append("bp_params[nonces][remove]",BP_ADMIN.profile_group_cover.remove.nonce),L.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){a.html(a.data("upload"));var t,o="error";void 0===e?(t=BP_ADMIN.profile_group_cover.file_upload_error,A(i,t,o)):e.success?(n.prop("src",e.data.url).removeClass("bp-hide"),s.val(e.data.url),r.removeClass("bp-hide"),o="success",t=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],L(".preview-avatar-cover-image .preview-item-cover img").prop("src",e.data.url)):(t=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],A(i,t,o)),L("#default-profile-cover-file, #default-group-cover-file").val("")}})}),L(".custom-profile-group-cover").on("click","a.bb-img-remove-button",function(e){var a,i,n,s,r;e.preventDefault(),confirm(BP_Confirm.are_you_sure)&&(a=L(this),e=L(".custom-profile-group-cover"),i=e.find(".bb-custom-profile-group-cover-feedback"),n=e.find(".bb-upload-preview"),s=e.find("#bp-default-custom-"+BP_ADMIN.profile_group_cover.upload.object+"-cover"),r=n.data("default"),a.html(a.data("removing")),i.hide(),i.find(".bp-feedback").removeClass("success error"),L.ajax({url:BP_ADMIN.ajax_url,cache:!1,data:{json:!0,action:BP_ADMIN.profile_group_cover.remove.action,item_id:BP_ADMIN.profile_group_cover.upload.item_id,item_type:BP_ADMIN.profile_group_cover.upload.item_type,object:BP_ADMIN.profile_group_cover.upload.object,nonce:BP_ADMIN.profile_group_cover.remove.nonce},type:"post",success:function(e){a.html(a.data("remove"));var t,o="error";void 0===e?(t=BP_ADMIN.profile_group_cover.file_upload_error,A(i,t,o)):e.success?(n.prop("src",r).addClass("bp-hide"),s.val(""),a.addClass("bp-hide"),o="success",t=BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],L(".preview-avatar-cover-image .preview-item-cover img").prop("src","")):(t=void 0===e.data.feedback_code?e.data.message:BP_ADMIN.profile_group_cover.feedback_messages[e.data.feedback_code],A(i,t,o))}}))});var N,v=L("#bp-disable-group-avatar-uploads"),w=L("input[type=radio][name=bp-default-group-avatar-type]");L("input[type=radio][name=bp-default-group-avatar-type]:checked").val();v.length&&L(v).change(function(){var e="",t=I.find(".preview-item-avatar img");D.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),j.find(".preview-item-avatar img").prop("src",""),L(this).prop("checked")?(L(".group-avatar-options").removeClass("bp-hide"),N=L("input[type=radio][name=bp-default-group-avatar-type]:checked").val(),0==(e=L("#bp-default-group-custom-avatar").val()).length&&(e=t.attr("data-blank-avatar")),"custom"!==N&&(L(".default-group-avatar-custom").addClass("bp-hide"),e=L("."+N+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&D.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),j.find(".preview-item-avatar img").prop("src",e)):L(".group-avatar-options").addClass("bp-hide")}),w.length&&L(w).change(function(){var e="",t=I.find(".preview-item-avatar img");D.find(".preview_avatar_cover").removeClass("has-avatar"),t.prop("src",""),j.find(".preview-item-avatar img").prop("src",""),"custom"===this.value?(L(".default-group-avatar-custom").removeClass("bp-hide"),0==(e=L("#bp-default-group-custom-avatar").val()).length&&(e=t.attr("data-blank-avatar"))):(L(".default-group-avatar-custom").addClass("bp-hide"),e=L("."+this.value+"-group-avatar").prop("src")),void 0!==e.length&&0<e.length&&D.find(".preview_avatar_cover").addClass("has-avatar"),t.prop("src",e),j.find(".preview-item-avatar img").prop("src",e)});var M,v=L("#bp-disable-group-cover-image-uploads"),w=L("input[type=radio][name=bp-default-group-cover-type]");L("input[type=radio][name=bp-default-group-cover-type]:checked").val();v.length&&L(v).change(function(){D.find(".preview_avatar_cover").removeClass("has-cover");var e=I.find(".preview-item-cover img"),t=j.find(".preview-item-cover img");L(this).prop("checked")?(L(".group-cover-options").removeClass("bp-hide"),M=L("input[type=radio][name=bp-default-group-cover-type]:checked").val(),D.find(".preview_avatar_cover").addClass("has-cover"),"custom"!==M&&(L(".default-group-cover-custom").addClass("bp-hide"),"buddyboss"===P&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))):L(".group-cover-options").addClass("bp-hide")}),w.length&&L(w).change(function(){D.find(".preview_avatar_cover").removeClass("has-cover").addClass("has-cover");var e=I.find(".preview-item-cover img"),t=j.find(".preview-item-cover img");e.prop("src",""),t.prop("src",""),"custom"===this.value?(L(".default-group-cover-custom").removeClass("bp-hide"),e.prop("src",L("#bp-default-custom-group-cover").val()),t.prop("src",L("#bp-default-custom-group-cover").val())):(L(".default-group-cover-custom").addClass("bp-hide"),"buddyboss"===(P=L("input[type=radio][name=bp-default-group-cover-type]:checked").val())&&(e.prop("src",e.attr("data-buddyboss-cover")),t.prop("src",t.attr("data-buddyboss-cover"))))});var T=!1,Q=L('select[id="bb-cover-profile-width"] option:selected').val(),E=L('select[id="bb-cover-profile-height"] option:selected').val();L("#bp_member_avatar_settings").on("change",'select[id="bb-cover-profile-width"], select[id="bb-cover-profile-height"]',function(e){e.preventDefault(),T=!0,("bb-cover-profile-width"===L(this).attr("id")&&Q===L(this).val()||"bb-cover-profile-height"===L(this).attr("id")&&E===L(this).val())&&(T=!1),"bb-cover-profile-height"===L(this).attr("id")&&("small"===L(this).val()?L(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):L(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))});var S=L('select[id="bb-cover-group-width"] option:selected').val(),U=L('select[id="bb-cover-group-height"] option:selected').val();function q(){L(".document-extensions-listing .extension-icon").each(function(){var o,e,t;0===L(this).closest("td").find(".icon-select-main").length&&(o=[],L(this).closest("td").find("select.extension-icon option").each(function(){var e=L(this).val(),t=this.innerText;o.push('<li><i class="'+e+'"></i><span>'+t+"</span></li>")}),L(this).closest("td").find("select.extension-icon").parent().append('<div class="icon-select-main"><span class="icon-select-button"></span><div class="custom-extension-list"> <ul class="custom-extension-list-select">'+o+"</ul></div></div>"),e=L(this).closest("td").find(".extension-icon").val(),t=L(this).closest("td").find(".extension-icon option:selected").text(),L(this).closest("td").find(".icon-select-main .icon-select-button").html('<li><i class="'+e+'"></i><span>'+t+"</span></li>"))})}L("#bp_groups_avatar_settings").on("change",'select[id="bb-cover-group-width"], select[id="bb-cover-group-height"]',function(e){e.preventDefault(),T=!0,("bb-cover-group-width"===L(this).attr("id")&&S===L(this).val()||"bb-cover-group-height"===L(this).attr("id")&&U===L(this).val())&&(T=!1),"bb-cover-group-height"===L(this).attr("id")&&("small"===L(this).val()?L(".preview_avatar_cover .web-preview-wrap .preview-item-cover").removeClass("large-image"):L(".preview_avatar_cover .web-preview-wrap .preview-item-cover").addClass("large-image"))}),L("body.buddyboss_page_bp-settings").on("click",'input[name="submit"]',function(e){if(T&&(L("#bp_member_avatar_settings").length||L("#bp_groups_avatar_settings").length)){var t=BP_ADMIN.cover_size_alert.profile;return L("#bp_groups_avatar_settings").length&&(t=BP_ADMIN.cover_size_alert.group),!!confirm(t)||(e.preventDefault(),!1)}return!0}),L(".preview-switcher .button").on("click",function(e){e.preventDefault();e=L(this).attr("href");L(this).closest(".preview-switcher-main").find(".preview-block.active").removeClass("active"),L(e).addClass("active"),L(this).addClass("button-primary").siblings().removeClass("button-primary")}),L('.profile-header-style input[type="radio"], .group-header-style input[type="radio"]').on("change",function(){L(".web-preview-wrap .preview-item-avatar").removeClass("left-image").removeClass("centered-image").addClass(L(this).val()+"-image")}),L("#bp_profile_list_settings").on("change",'.member-directory-profile-actions input[type="checkbox"]',function(){var o=[],a=[],i=BP_ADMIN.member_directories.profile_action_btn;L('.member-directory-profile-actions input[type="checkbox"]:checked').each(function(e,t){o.push(t.value),a.push(BP_ADMIN.member_directories.profile_actions.filter(function(e){return e.element_name===t.value}))}),L(".member-directory-profile-primary-action select").find("option:not(:first)").remove(),L.each(a,function(e,t){var o;void 0!==t[0]&&void 0!==t[0].element_name&&void 0!==t[0].element_label&&(o=!1,i===t[0].element_name&&(o=!0),L(".member-directory-profile-primary-action select").append(L("<option></option>").attr("value",t[0].element_name).text(t[0].element_label).attr("selected",o)))}),0===o.length?(L(".member-directory-profile-primary-action").addClass("bp-hide"),L(".member-directory-profile-primary-action select").find("option:eq(0)").prop("selected",!0)):L(".member-directory-profile-primary-action").removeClass("bp-hide")}),L(document).on("click","table.extension-listing #btn-add-extensions",function(){var e=L(this).closest("table.extension-listing"),t=L(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),o=1;e.find("tbody").append(' <tr class="custom-extension extra-extension document-extensions"> '+t+" </tr> "),q(),e.find("tbody tr.extra-extension").each(function(){L(this).find("input.extension-check").attr("name","bp_document_extensions_support["+o+"][is_active]"),L(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+o+"][is_active]"),L(this).find("input.extension-name").attr("name","bp_document_extensions_support["+o+"][name]"),L(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+o+"][name]"),L(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+o+"][hidden]"),L(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+o+"][hidden]"),L(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+o+"][extension]"),L(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+o+"][extension]"),L(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+o+"][icon]"),L(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+o+"][icon]"),L(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+o+"][mime_type]"),L(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+o+"][mime_type]"),L(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+o+"][description]"),L(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+o+"][description]"),L(this).find("a.btn-check-mime-type").attr("id","bp_document_extensions_support["+o+"][mime_type]"),o+=1}),o=parseInt(L(".extension-listing tr.default-extension").length)}),L(document).on("click","table.extension-listing #btn-add-video-extensions",function(){var e=L(this).closest("table.extension-listing"),t=L(this).closest("table.extension-listing").find("tbody tr.custom-extension-data").html(),o=1;e.find("tbody").append(' <tr class="custom-extension extra-extension video-extensions"> '+t+" </tr> "),q(),e.find("tbody tr.extra-extension").each(function(){L(this).find("input.extension-check").attr("name","bp_video_extensions_support["+o+"][is_active]"),L(this).find("input.extension-check").attr("data-name","bp_video_extensions_support["+o+"][is_active]"),L(this).find("input.extension-name").attr("name","bp_video_extensions_support["+o+"][name]"),L(this).find("input.extension-name").attr("data-name","bp_video_extensions_support["+o+"][name]"),L(this).find("input.extension-hidden").attr("name","bp_video_extensions_support["+o+"][hidden]"),L(this).find("input.extension-hidden").attr("data-name","bp_video_extensions_support["+o+"][hidden]"),L(this).find("input.extension-extension").attr("name","bp_video_extensions_support["+o+"][extension]"),L(this).find("input.extension-extension").attr("data-name","bp_video_extensions_support["+o+"][extension]"),L(this).find("input.extension-mime").attr("name","bp_video_extensions_support["+o+"][mime_type]"),L(this).find("input.extension-mime").attr("data-name","bp_video_extensions_support["+o+"][mime_type]"),L(this).find("input.extension-desc").attr("name","bp_video_extensions_support["+o+"][description]"),L(this).find("input.extension-desc").attr("data-name","bp_video_extensions_support["+o+"][description]"),L(this).find("a.btn-check-mime-type").attr("id","bp_video_extensions_support["+o+"][mime_type]"),o+=1}),o=parseInt(L(".extension-listing tr.default-extension").length)}),q(),L(document).on("click",".custom-extension-list-select li",function(){var e=L(this).find("i").attr("class"),t='<li><i class="'+e+'"></i><span>'+this.innerText+"</span></li>";L(this).closest("td").find(".icon-select-main .icon-select-button").html(t),L(this).closest("td").find(".icon-select-main .custom-extension-list").toggle(),L(this).closest("td").find('select.extension-icon option[value="'+e+'"]').attr("selected","selected"),L(this).closest(".icon-select-main").siblings(".bb-icon").length&&L(this).closest(".icon-select-main").siblings(".bb-icon").attr("class","bb-icon "+e)}),L(document).on("click",".icon-select-main .icon-select-button",function(){L(this).siblings(".custom-extension-list").toggle()}),L(document).on("click","table.extension-listing #btn-remove-extensions",function(){var e=L(this).closest("table.extension-listing");L(this).closest("tr").remove();var t=parseInt(L(".extension-listing tr.extra-extension").length),t=1;e.find("tbody tr.extra-extension").each(function(){L(this).find("input.extension-check").attr("name","bp_document_extensions_support["+t+"][is_active]"),L(this).find("input.extension-check").attr("data-name","bp_document_extensions_support["+t+"][is_active]"),L(this).find("input.extension-name").attr("name","bp_document_extensions_support["+t+"][name]"),L(this).find("input.extension-name").attr("data-name","bp_document_extensions_support["+t+"][name]"),L(this).find("input.extension-hidden").attr("name","bp_document_extensions_support["+t+"][hidden]"),L(this).find("input.extension-hidden").attr("data-name","bp_document_extensions_support["+t+"][hidden]"),L(this).find("input.extension-extension").attr("name","bp_document_extensions_support["+t+"][extension]"),L(this).find("input.extension-extension").attr("data-name","bp_document_extensions_support["+t+"][extension]"),L(this).find("input.extension-mime").attr("name","bp_document_extensions_support["+t+"][mime_type]"),L(this).find("input.extension-mime").attr("data-name","bp_document_extensions_support["+t+"][mime_type]"),L(this).find("input.extension-desc").attr("name","bp_document_extensions_support["+t+"][description]"),L(this).find("input.extension-desc").attr("data-name","bp_document_extensions_support["+t+"][description]"),L(this).find("select.extension-icon").attr("name","bp_document_extensions_support["+t+"][icon]"),L(this).find("select.extension-icon").attr("data-name","bp_document_extensions_support["+t+"][icon]"),t+=1})}),L(document).on("click","#input-mime-type-submit-check",function(e){e.preventDefault();var t=L("#bp-document-file-input").prop("files")[0];if(void 0===t)return alert(BP_ADMIN.select_document),!1;e=new FormData;e.append("file",t),e.append("action","bp_document_check_file_mime_type"),L.ajax({url:BP_ADMIN.ajax_url,cache:!1,contentType:!1,processData:!1,data:e,type:"post",success:function(e){L(".show-document-mime-type").show(),L(".show-document-mime-type input.type").val(e.data.type)}})}),L(document).on("click",".show-document-mime-type .mime-copy",function(e){e.preventDefault();var t=L(this).attr("id");L(document).find('input[name="'+t+'"]').val("");e=L(document).find("#mime-type").val();L(document).find('input[name="'+t+'"]').val(e),L(document).find(".close-modal").trigger("click")}),L(document).on("click",".btn-check-mime-type",function(e){e.preventDefault();e=L(this).attr("id");L(document).find(".mime-copy").attr("id",e),L(document).find(".bp-hello-mime").attr("id","bp-hello-container"),L(document).find("#bp-hello-backdrop").length||(t=L(document).find(".bp-hello-mime"),L('<div id="bp-hello-backdrop" style="display: none;"></div>').insertBefore(t));var e=document.getElementById("bp-hello-backdrop"),t=document.querySelector("#bp-hello-container:not(.bb-onload-modal)");null!==e&&(document.body.classList.add("bp-disable-scroll"),e.style.display="",t.style.display="",t=t.querySelectorAll("a[href], button"),(t=Array.prototype.slice.call(t))[0].focus())}),document.addEventListener("click",function(e){var t=document.getElementById("bp-hello-backdrop");t&&document.getElementById("bp-hello-container")&&(t=t.contains(e.target),(e.target.classList.contains("close-modal")||t)&&(L(e.target).closest("#bp-hello-container").hide(),L(document).find("#bp-document-file-input").val(""),L(document).find(".show-document-mime-type").hide(),L(document).find(".show-document-mime-type input#mime-type").val("")))},!1),L(document).on("click",".bp-show-moderation-alert",function(){var e=L(this).attr("data-action");L("#bp-hello-backdrop").show(),L("#bp-hello-container").find(".bp-spam-action-msg").hide(),L("#bp-hello-container").find(".bp-not-spam-action-msg").hide(),"spam"===e?L("#bp-hello-container").find(".bp-spam-action-msg").show():"not-spam"===e&&L("#bp-hello-container").find(".bp-not-spam-action-msg").show(),L("#bp-hello-container").show().addClass("deactivation-popup")}),L(document).on("click",".bp-show-deactivate-popup a",function(e){e.preventDefault(),L("#bp-hello-container").find(".bp-hello-content").empty(),L("#bp-hello-backdrop").show(),L("#bp-hello-container").show().addClass("deactivation-popup"),L("#bp-hello-container").find(".component-deactivate").attr("data-redirect",L(this).attr("href")),L("#bp-hello-container").find(".bp-hello-content").append(L(this).parent().closest(".row-actions").find(".component-deactivate-msg").text())}),L(document).on("click",".close-modal",function(){L("#bp-hello-backdrop").hide(),L("#bp-hello-container").hide().removeClass("deactivation-popup"),L("#bp-hello-container").find(".component-deactivate").removeClass("form-submit")}),L(document).on("click",".component-deactivate",function(e){e.preventDefault(),L(this).hasClass("form-submit")?L("form#bp-admin-component-form").find('input[name="bp-admin-component-submit"]').trigger("click"):window.location=L(this).attr("data-redirect")}),L("form#bp-admin-component-form").submit(function(e){var t=(t=L('#bulk-action-selector-top[name="action"]').find(":selected").val())||L('#bulk-action-selector-top[name="action2"]').find(":selected").val(),o=!1,a="";L(".mass-check-deactivate").each(function(){1==L(this).prop("checked")&&(o=!0),a+=L(this).parent().find(".component-deactivate-msg").text()}),L("#bp-hello-container").find(".component-deactivate").hasClass("form-submit")||"inactive"!==t||!0!==o||(L("#bp-hello-container").find(".bp-hello-content").empty(),a&&(e.preventDefault(),L("#bp-hello-backdrop").show(),L("#bp-hello-container").show().addClass("deactivation-popup"),L("#bp-hello-container").find(".bp-hello-content").html(a),L("#bp-hello-container").find(".component-deactivate").addClass("form-submit")))}),L(document).on("change","#bp_moderation_settings_reporting .bpm_reporting_content_content_label > input",function(){L(this).prop("checked")?L(this).parent().next("label").removeClass("is_disabled").find('input[type="checkbox"]').prop("disabled",!1):L(this).parent().next("label").addClass("is_disabled").find('input[type="checkbox"]').removeProp("checked").removeAttr("checked").prop("disabled","disabled")}),L(document).on("click",".bp-suspend-user, .bp-unsuspend-user",function(){var e=L(this).attr("data-action");return"suspend"===e?confirm(BP_ADMIN.moderation.suspend_confirm_message):"unsuspend"===e?confirm(BP_ADMIN.moderation.unsuspend_confirm_message):void 0})})}();