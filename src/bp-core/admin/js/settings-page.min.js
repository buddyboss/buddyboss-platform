!function(){function e(e,t,a){var i=new Date;i.setTime(i.getTime()+60*a*1e3);var s="expires="+i.toUTCString();document.cookie=e+"="+t+";"+s+";path=/"}var t=jQuery.noConflict(),a=[],i=[];t(function(){t("[data-run-js-condition]").each(function(){var e=t(this).data("run-js-condition"),a=t(this).prop("tagName");t(this).on("change.run-condition",function(){if("SELECT"===a&&t(this).is(":visible")){var i=e+"-"+t(this).val();return t('[class*="js-show-on-'+e+'-"]:not(.js-show-on-'+i+")").hide(),t(".js-show-on-"+i).show().find("[data-run-js-condition]").trigger("change.run-condition"),!0}t(this).prop("checked")&&t(this).is(":visible")?(t(".js-hide-on-"+e).hide(),t(".js-show-on-"+e).show().find("[data-run-js-condition]").trigger("change.run-condition")):(t(".js-hide-on-"+e).show(),t(".js-show-on-"+e).hide().find("[data-run-js-condition]").trigger("change.run-condition"))}).trigger("change.run-condition")}),t("body.buddypress.buddyboss_page_bp-pages .bp-admin-card").length>1&&t(".create-background-page").click(function(){var e=t(this).attr("data-name");t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_core_admin_create_background_page",page:e},success:function(e){window.location.href=e.data.url}})}),t(".bp-search-child-field").on("click",'input[type="checkbox"]',function(e){var a=t(e.delegateTarget).prevAll(".bp-search-parent-field").first();a.length&&e.currentTarget.checked&&a.find('input[type="checkbox"]').prop("checked",!0)}),t(".bp-search-parent-field").on("click",'input[type="checkbox"]',function(e){var a=t(e.delegateTarget).nextUntil(".bp-search-parent-field");a.length&&!e.currentTarget.checked&&a.find('input[type="checkbox"]').prop("checked",!1)})}),t(document).ready(function(){var s=t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu #toplevel_page_buddyboss-platform ul.wp-submenu li");if(t("body.buddypress.post-type-bp-group-type").length){var o=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-groups"]');t(s).removeClass("current"),t(o).addClass("current"),t(o).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-groups"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp-email").length){var r=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-email"]');t(s).removeClass("current"),t(r).addClass("current"),t(r).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-email"]').parent().addClass("current")}if(t("body.buddypress.post-type-topic").length){var n=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');t(n).addClass("current"),t(n).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(t("body.buddypress.post-type-reply").length){var p=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="post_type=forum"]');t(p).addClass("current"),t(p).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="post_type=forum"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp-member-type").length){var d=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');t(s).removeClass("current"),t(d).addClass("current"),t(d).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(t("body.buddypress.post-type-bp_ps_form").length){var c=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-profile-setup"]');t(s).removeClass("current"),t(c).addClass("current"),t(c).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-profile-setup"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bbp-repair").length){var u=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(u).addClass("current"),t(u).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bbp-converter").length){var l=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(l).addClass("current"),t(l).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bp-media-import").length){var m=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(m).addClass("current"),t(m).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}if(t("body.buddypress.buddyboss_page_bp-member-type-import").length||t("body.buddypress.buddyboss_page_bp-repair-community").length){var b=t('#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li a[href*="bp-tools"]');t(s).removeClass("current"),t(b).addClass("current"),t(b).attr("aria-current","page"),t("#wpwrap #adminmenumain #adminmenuwrap #adminmenu .toplevel_page_buddyboss-platform ul.wp-submenu-wrap li").find('a[href*="bp-tools"]').parent().addClass("current")}t("body .section-bp_search_settings_community").length&&(t("body .section-bp_search_settings_community table td input:checkbox:checked").length===t("body .section-bp_search_settings_community table td input:checkbox").length&&t("#bp_search_select_all_components").prop("checked",!0),t("#bp_search_select_all_components").click(function(){var e=t("body .section-bp_search_settings_community table");t("td input:checkbox",e).prop("checked",this.checked)}),t("body .section-bp_search_settings_community table td input:checkbox").click(function(){t("body .section-bp_search_settings_community table td input:checkbox:checked").length===t("body .section-bp_search_settings_community table td input:checkbox").length?t("#bp_search_select_all_components").prop("checked",!0):t("#bp_search_select_all_components").prop("checked",!1),"bp_search_topic_tax_topic-tag"===t(this).attr("id")&&!0===t(this).prop("checked")&&!1===t("#bp_search_post_type_topic").prop("checked")&&t("#bp_search_post_type_topic").prop("checked",!0),"bp_search_post_type_topic"===t(this).attr("id")&&!0!==t(this).prop("checked")&&!0===t("#bp_search_topic_tax_topic-tag").prop("checked")&&t("#bp_search_topic_tax_topic-tag").prop("checked",!1)})),t("body .section-bp_search_settings_post_types").length&&(t("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===t("body .section-bp_search_settings_post_types table td input:checkbox").length&&t("#bp_search_select_all_post_types").prop("checked",!0),t("#bp_search_select_all_post_types").click(function(){var e=t("body .section-bp_search_settings_post_types table");t("td input:checkbox",e).prop("checked",this.checked)}),t("body .section-bp_search_settings_post_types table td input:checkbox").click(function(){t("body .section-bp_search_settings_post_types table td input:checkbox:checked").length===t("body .section-bp_search_settings_post_types table td input:checkbox").length?t("#bp_search_select_all_post_types").prop("checked",!0):t("#bp_search_select_all_post_types").prop("checked",!1)})),t(".buddyboss_page_bp-activity").length&&t(document).on("click",".activity-attached-gif-container",function(e){e.preventDefault();var a=t(this).find("video").get(0),i=t(this).find(".gif-play-button");!0===a.paused?(a.play(),i.hide()):(a.pause(),i.show())}),t("body.buddyboss_page_bp-help").length&&(t(".bp-help-card-grid").on("click","span.open",function(){t(this).toggleClass("active"),t(this).closest(".main").find("ul:first").toggle()}),t(".bp-help-card-grid li.selected").closest("ul").show().closest("li").find("> span.actions .open").addClass("active"),t(".bp-help-card-grid li.selected").find("ul:first").show(),t(".bp-help-card-grid li.selected").find("> span.actions .open").addClass("active"),t(".bp-help-card-grid .sub-menu-count").each(function(){t(this).text("("+t(this).closest("li").find("ul:first li").size()+")")})),t(".buddyboss_page_bp-settings .section-bp_groups_hierarchies").length&&(document.getElementById("bp-enable-group-hierarchies").checked?t(".bp-enable-group-restrict-invites").show():t(".bp-enable-group-restrict-invites").hide(),t(document).on("click","#bp-enable-group-hierarchies",function(){!0===this.checked?t(".bp-enable-group-restrict-invites").show():(t(".bp-enable-group-restrict-invites").hide(),t("#bp-enable-group-restrict-invites").prop("checked",!1))})),t("#bp_media_profile_media_support").change(function(){this.checked?t("#bp_media_profile_albums_support").prop("disabled",!1):(t("#bp_media_profile_albums_support").prop("disabled",!0),t("#bp_media_profile_albums_support").attr("checked",!1))}),t("#bp_media_group_media_support").change(function(){this.checked?t("#bp_media_group_albums_support").prop("disabled",!1):(t("#bp_media_group_albums_support").prop("disabled",!0),t("#bp_media_group_albums_support").attr("checked",!1))}),t(".buddyboss_page_bp-tools .section-default_data").length&&(jQuery(".bp-admin-form .checkbox").click(function(){"import-f-replies"===jQuery(this).attr("id")&&jQuery("#import-f-topics").prop("checked",!0),"import-f-topics"===jQuery(this).attr("id")&&jQuery("#import-f-replies").prop("checked",!1),"checked"!==jQuery(this).attr("checked")||jQuery(this).closest("li.main").find(".main-header").attr("disabled")||jQuery(this).closest("li.main").find(".main-header").prop("checked",!0)}),jQuery(".bp-admin-form #import-groups, .bp-admin-form #import-users, .bp-admin-form #import-forums").click(function(){"checked"!==jQuery(this).attr("checked")&&jQuery(this).closest("li").find("ul .checkbox").prop("checked",!1)}),jQuery(".bp-admin-form #bp-admin-submit").click(function(){return!!confirm(BP_ADMIN.tools.default_data.submit_button_message)}),jQuery(".bp-admin-form #bp-admin-clear").click(function(){return!!confirm(BP_ADMIN.tools.default_data.clear_button_message)}));setTimeout(function(){t('iframe[src*="youtube"], iframe[src*="vimeo"]').parent().fitVids()},300);var h=function(){t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_media_import_status_request"},success:function(e){if(void 0!==e.success&&void 0!==e.data){var a=e.data.total_media,i=e.data.total_albums,s=e.data.albums_done,o=e.data.media_done,r=e.data.import_status;t("#bp-media-import-albums-total").text(i),t("#bp-media-import-media-total").text(a),t("#bp-media-import-albums-done").text(s),t("#bp-media-import-media-done").text(o),"reset_albums"==r||"reset_media"==r||"reset_forum"==r||"reset_topic"==r||"reset_reply"==r||"reset_options"==r?t("#bp-media-resetting").show():t("#bp-media-resetting").hide(),"done"==r&&i==s&&a==o?(t("#bp-media-import-msg").text(e.data.success_msg),t("#bp-media-import-submit").show()):h()}else t("#bp-media-import-msg").text(e.data.error_msg)},error:function(){}})};if(t("#bp-media-import-updating").length&&h(),t(".display-options").length){var _=t(".display-options"),f=t("select[name=bp-display-name-format]"),g=f.val();t(_).each(function(){t(this).hide()}),"first_name"===g?(t(".first-name-options").show(),t(".nick-name-options").hide(),t(".first-last-name-options").hide()):"first_last_name"===g?(t(".first-last-name-options").show(),t(".first-name-options").hide(),t(".nick-name-options").hide()):(t(".nick-name-options").show(),t(".first-name-options").hide(),t(".first-last-name-options").hide()),t(f).change(function(){t(_).each(function(){t(this).hide()}),"first_name"===(g=t(this).val())?(t(".first-name-options").show(),t(".nick-name-options").hide(),t(".first-last-name-options").hide()):"first_last_name"===g?(t(".first-last-name-options").show(),t(".first-name-options").hide(),t(".nick-name-options").hide()):(t(".nick-name-options").show(),t(".first-name-options").hide(),t(".first-last-name-options").hide())})}var y=t(".profile-layout-options");if(y.length){var w=t("select[name=bp-profile-layout-format]"),v=w.val();t(y).each(function(){t(this).hide()}),"list_grid"===v?t(".profile-default-layout").show():t(".profile-default-layout").hide(),t(w).change(function(){t(y).each(function(){t(this).hide()}),"list_grid"===(v=t(this).val())?t(".profile-default-layout").show():t(".profile-default-layout").hide()});(function(){for(var e=document.cookie.split(";"),t={},a=0;a<e.length;a++){var i=e[a].split("=");t[(i[0]+"").trim()]=unescape(i.slice(1).join("="))}return t})().reset_member&&(localStorage.setItem("bp-members",""),localStorage.setItem("bp-group_members",""),e("reset_member","",0))}var k=t(".group-layout-options");if(k.length){var x=t("select[name=bp-group-layout-format]"),C=x.val();t(k).each(function(){t(this).hide()}),"list_grid"===C?t(".group-default-layout").show():t(".group-default-layout").hide(),t(x).change(function(){t(k).each(function(){t(this).hide()}),"list_grid"===(C=t(this).val())?t(".group-default-layout").show():t(".group-default-layout").hide()});(function(){for(var e=document.cookie.split(";"),t={},a=0;a<e.length;a++){var i=e[a].split("=");t[(i[0]+"").trim()]=unescape(i.slice(1).join("="))}return t})().reset_group&&(localStorage.setItem("bp-groups",""),e("reset_group","",0))}if(t("#bp-tools-submit").length){var j=function(e,i){t('body .section-repair_community .settings fieldset .checkbox label[for="'+a[i]+'"]').append('<div class="loader-repair-tools"></div>'),t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_repair_tools_wrapper_function",type:a[i],offset:e,nonce:t('body .section-repair_community .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(t('body .section-repair_community .settings fieldset .checkbox label[for="'+a[i]+'"] .loader-repair-tools').remove(),t('body .section-repair_community .settings fieldset .checkbox label[for="'+a[i]+'"] code').remove(),t('body .section-repair_community .settings fieldset .checkbox label[for="'+a[i]+'"]').append("<code>"+e.data.records+"</code>"),j(e.data.offset,i)):(t('body .section-repair_community .settings fieldset .checkbox label[for="'+a[i]+'"] .loader-repair-tools').remove(),t(".section-repair_community .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),i+=1,j(e.data.offset,i)),a.length===i&&t("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return t("body .section-repair_community .settings fieldset .submit a").removeClass("disable-btn"),!1}})};t(document).on("click","#bp-tools-submit",function(e){e.preventDefault(),a=[],setTimeout(function(){t("body .section-repair_community .settings fieldset .updated").remove()},500),t.each(t('.section-repair_community .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){a.push(t(this).val())}),a.length&&(t("body .section-repair_community .settings fieldset .submit a").addClass("disable-btn"),t("body .section-repair_community .settings fieldset .checkbox code").remove(),j(1,0))})}if(t("#bp-tools-forum-submit").length){var T=function(e,a){t('body .section-repair_forums .settings fieldset .checkbox label[for="'+i[a]+'"]').append('<div class="loader-repair-tools"></div>'),void 0!==i[a]&&t.ajax({url:BP_ADMIN.ajax_url,method:"POST",data:{action:"bp_admin_forum_repair_tools_wrapper_function",type:i[a],offset:e,nonce:t('body .section-repair_forums .settings fieldset .submit input[name="_wpnonce"]').val()},success:function(e){void 0!==e.success&&void 0!==e.data&&("running"===e.data.status?(t('body .section-repair_forums .settings fieldset .checkbox label[for="'+i[a]+'"] .loader-repair-tools').remove(),t('body .section-repair_forums .settings fieldset .checkbox label[for="'+i[a]+'"] code').remove(),t('body .section-repair_forums .settings fieldset .checkbox label[for="'+i[a]+'"]').append("<code>"+e.data.records+"</code>"),T(e.data.offset,a)):(t('body .section-repair_forums .settings fieldset .checkbox label[for="'+i[a]+'"] .loader-repair-tools').remove(),0===e.data.status?t(".section-repair_forums .settings fieldset").append('<div class="error"><p>'+e.data.message+"</p></div>"):t(".section-repair_forums .settings fieldset").append('<div class="updated"><p>'+e.data.message+"</p></div>"),a+=1,T(e.data.offset,a)),i.length===a&&t("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"))},error:function(){return t("body .section-repair_forums .settings fieldset .submit a").removeClass("disable-btn"),!1}})};t(document).on("click","#bp-tools-forum-submit",function(e){e.preventDefault(),i=[],setTimeout(function(){t("body .section-repair_forums .settings fieldset .updated").remove()},500),t.each(t('.section-repair_forums .settings fieldset .checkbox input[class="checkbox"]:checked'),function(){i.push(t(this).val())}),i.length&&(t("body .section-repair_forums .settings fieldset .submit a").addClass("disable-btn"),t("body .section-repair_forums .settings fieldset .checkbox code").remove(),T(1,0))})}var Q=t("#allow-custom-registration"),I=0;Q.length&&(0===(I=parseInt(Q.val()))?(t(".register-text-box").hide(),t(".register-email-checkbox").show(),t(".register-password-checkbox").show()):(t(".register-email-checkbox").hide(),t(".register-password-checkbox").hide(),t(".register-text-box").show()),t(Q).change(function(){0===(I=parseInt(t(this).val()))?(t(".register-text-box").hide(),t(".register-email-checkbox").show(),t(".register-password-checkbox").show(),t(".registration-form-main-select p.description").show()):(t(".register-email-checkbox").hide(),t(".register-password-checkbox").hide(),t(".register-text-box").show(),t(".registration-form-main-select p.description").hide())}))})}();