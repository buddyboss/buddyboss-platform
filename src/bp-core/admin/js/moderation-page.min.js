jQuery(document).ready(function(i){i(document).on("click",".bp-hide-request",function(s){s.preventDefault();var n=i(this),r=n.attr("data-action");if("hide"===r){if(!confirm(Bp_Moderation.strings.confirm_msg))return!1}else if("unhide"===r&&!confirm(Bp_Moderation.strings.unhide_confirm_msg))return!1;i(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden"),n.addClass("disabled");var e=n.attr("data-id"),a=n.attr("data-type"),t=n.attr("data-nonce"),t={action:"bp_moderation_content_actions_request",id:e,type:a,sub_action:r,nonce:t};i(s.currentTarget).append(' <i class="bb-icon-l bb-icon-spinner animate-spin"></i>'),i.post(ajaxurl,t,function(e){var a="",t=window.location.href;!0===e.success?("hide"===r?(n.addClass("green"),n.attr("data-action","unhide"),n.attr("title",Bp_Moderation.strings.unhide_label),n.text(Bp_Moderation.strings.unhide_label),a="hidden"):"unhide"===r&&(n.removeClass("green"),n.attr("data-action","hide"),n.attr("title",Bp_Moderation.strings.hide_label),n.text(Bp_Moderation.strings.hide_label),a="unhide"),-1<t.indexOf("?")?t+="&"+a+"=1":t+="?"+a+"=1",window.location.href=t):(t="",e.data.message.errors.bp_moderation_missing_data?t=e.data.message.errors.bp_moderation_missing_data:e.data.message.errors.bp_moderation_content_actions_request?t=e.data.message.errors.bp_moderation_content_actions_request:e.data.message.errors.bp_moderation_invalid_access&&(t=e.data.message.errors.bp_moderation_invalid_access),i(".bp-moderation-ajax-msg").removeClass("notice-success").addClass("notice-error"),i(".bp-moderation-ajax-msg p").text(t).parent().removeClass("hidden"),i(s.currentTarget).find(".bb-icon-loader").remove()),n.removeClass("disabled")})}),i(document).on("click",".bp-block-user",function(s){s.preventDefault();var n=i(this),r=n.attr("data-action");if("suspend"===r){if(!confirm(BP_ADMIN.moderation.suspend_confirm_message))return!1}else if("unsuspend"===r&&!confirm(BP_ADMIN.moderation.unsuspend_confirm_message))return!1;i(".bp-moderation-ajax-msg p").text("").parent().addClass("hidden"),n.addClass("disabled");var e=n.attr("data-id"),a=n.attr("data-type"),t=n.attr("data-nonce"),t={action:"bp_moderation_user_actions_request",id:e,type:a,sub_action:r,nonce:t};i(s.currentTarget).append(' <i class="bb-icon-l bb-icon-spinner animate-spin"></i>'),i.post(ajaxurl,t,function(e){var a,t="";!0===e.success?(a=window.location.href,"suspend"===r?(n.attr("data-action","unsuspend"),n.addClass("green"),n.hasClass("content-author")?(n.text(Bp_Moderation.strings.unsuspend_author_label),n.attr("title",Bp_Moderation.strings.unsuspend_author_label)):(n.text(Bp_Moderation.strings.unsuspend_label),n.attr("title",Bp_Moderation.strings.unsuspend_label)),t="suspended"):"unsuspend"===r&&(n.attr("data-action","suspend"),n.removeClass("green"),n.hasClass("content-author")?(n.text(Bp_Moderation.strings.suspend_author_label),n.attr("title",Bp_Moderation.strings.suspend_author_label)):(n.text(Bp_Moderation.strings.suspend_label),n.attr("title",Bp_Moderation.strings.suspend_label)),t="unsuspended"),-1<a.indexOf("?")?a+="&"+t+"=1":a+="?"+t+"=1",window.location.href=a):(a="",e.data.message.errors.bp_moderation_user_missing_data?a=e.data.message.errors.bp_moderation_user_missing_data:e.data.message.errors.bp_moderation_invalid_access&&(a=e.data.message.errors.bp_moderation_invalid_access),i(".bp-moderation-ajax-msg").removeClass("notice-success").addClass("notice-error"),i(".bp-moderation-ajax-msg p").text(a).parent().removeClass("hidden"),i(s.currentTarget).find(".bb-icon-loader").remove()),n.removeClass("disabled")})})});